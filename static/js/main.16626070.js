/*! For license information please see main.16626070.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===y)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,u,s=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(s[l]=o[l]);if(t){u=t(o);for(var f=0;f<u.length;f++)r.call(o,u[f])&&(s[u[f]]=o[u[f]])}}return s}},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,_=60106,I=60107,E=60108,S=60114,T=60109,C=60110,A=60112,N=60113,R=60120,P=60115,O=60116,D=60121,L=60128,M=60129,F=60130,V=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;x=U("react.element"),_=U("react.portal"),I=U("react.fragment"),E=U("react.strict_mode"),S=U("react.profiler"),T=U("react.provider"),C=U("react.context"),A=U("react.forward_ref"),N=U("react.suspense"),R=U("react.suspense_list"),P=U("react.memo"),O=U("react.lazy"),D=U("react.block"),U("react.scope"),L=U("react.opaque.id"),M=U("react.debug_trace_mode"),F=U("react.offscreen"),V=U("react.legacy_hidden")}var j,z="function"===typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=z&&e[z]||e["@@iterator"])?e:null}function q(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var K=!1;function W(e,t){if(!e||K)return"";K=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{K=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function G(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case I:return"Fragment";case _:return"Portal";case S:return"Profiler";case E:return"StrictMode";case N:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return H(e.type);case D:return H(e._render);case O:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me,ye=(me=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var _e=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ie(e,t){if(t){if(_e[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ee(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,Ce=null,Ae=null;function Ne(e){if(e=ri(e)){if("function"!==typeof Te)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Te(e.stateNode,e.type,t))}}function Re(e){Ce?Ae?Ae.push(e):Ae=[e]:Ce=e}function Pe(){if(Ce){var e=Ce,t=Ae;if(Ae=Ce=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Oe(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=Oe,Fe=!1,Ve=!1;function Ue(){null===Ce&&null===Ae||(Le(),Pe())}function je(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var ze=!1;if(f)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){ze=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(me){ze=!1}function qe(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Ke=!1,We=null,Ge=!1,He=null,Qe={onError:function(e){Ke=!0,We=e}};function $e(e,t,n,r,i,a,o,u,s){Ke=!1,We=null,qe.apply(Qe,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Ye(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Je(i),e;if(a===r)return Je(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],ut=null,st=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function yt(e){var t=ni(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==ut&&gt(ut)&&(ut=null),null!==st&&gt(st)&&(st=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function xt(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&wt(ut,e),null!==st&&wt(st,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)yt(n),null===n.blockedOn&&ht.shift()}function _t(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var It={animationend:_t("Animation","AnimationEnd"),animationiteration:_t("Animation","AnimationIteration"),animationstart:_t("Animation","AnimationStart"),transitionend:_t("Transition","TransitionEnd")},Et={},St={};function Tt(e){if(Et[e])return Et[e];if(!It[e])return e;var t,n=It[e];for(t in n)if(n.hasOwnProperty(t)&&t in St)return Et[e]=n[t];return e}f&&(St=document.createElement("div").style,"AnimationEvent"in window||(delete It.animationend.animation,delete It.animationiteration.animation,delete It.animationstart.animation),"TransitionEvent"in window||delete It.transitionend.transition);var Ct=Tt("animationend"),At=Tt("animationiteration"),Nt=Tt("animationstart"),Rt=Tt("transitionend"),Pt=new Map,Ot=new Map,Dt=["abort","abort",Ct,"animationEnd",At,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Rt,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ot.set(r,t),Pt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function Ft(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Vt(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var s=a&~o;0!==s?(r=Ft(s),i=Mt):0!==(u&=a)&&(r=Ft(u),i=Mt)}else 0!==(a=n&~o)?(r=Ft(a),i=Mt):0!==u&&(r=Ft(u),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Kt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Ft(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Kt(t)),r|=e[n],t&=~i;return r}function Ut(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function jt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=zt(24&~t))?jt(10,t):e;case 10:return 0===(e=zt(192&~t))?jt(8,t):e;case 8:return 0===(e=zt(3584&~t))&&(0===(e=zt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=zt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function zt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Kt(t)]=n}var Kt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Gt|0)|0},Wt=Math.log,Gt=Math.LN2;var Ht=a.unstable_UserBlockingPriority,Qt=a.unstable_runWithPriority,$t=!0;function Yt(e,t,n,r){Fe||Le();var i=Jt,a=Fe;Fe=!0;try{De(i,e,t,n,r)}finally{(Fe=a)||Ue()}}function Xt(e,t,n,r){Qt(Ht,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var i;if($t)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ut=mt(ut,e,t,n,r,i),!0;case"dragenter":return st=mt(st,e,t,n,r,i),!0;case"mouseover":return ct=mt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,mt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,mt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Se(r);if(null!==(i=ni(i))){var a=Ye(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Xe(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function un(){return!1}function sn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:un,this.isPropagationStopped=un,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(hn),pn=i({},hn,{view:0,detail:0}),vn=sn(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),yn=sn(mn),gn=sn(i({},mn,{dataTransfer:0})),kn=sn(i({},pn,{relatedTarget:0})),bn=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=sn(wn),_n=sn(i({},hn,{data:0})),In={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return Tn}var An=i({},pn,{key:function(e){if(e.key){var t=In[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=sn(An),Rn=sn(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),On=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=sn(Dn),Mn=[9,13,27,32],Fn=f&&"CompositionEvent"in window,Vn=null;f&&"documentMode"in document&&(Vn=document.documentMode);var Un=f&&"TextEvent"in window&&!Vn,jn=f&&(!Fn||Vn&&8<Vn&&11>=Vn),zn=String.fromCharCode(32),Bn=!1;function qn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Gn[e.type]:"textarea"===t}function Qn(e,t,n,r){Re(r),0<(t=Fr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Yn=null;function Xn(e){Ar(e,0)}function Jn(e){if(X(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){$n&&($n.detachEvent("onpropertychange",ar),Yn=$n=null)}function ar(e){if("value"===e.propertyName&&Jn(Yn)){var t=[];if(Qn(t,Yn,e,Se(e)),e=Xn,Fe)e(t);else{Fe=!0;try{Oe(e,t)}finally{Fe=!1,Ue()}}}}function or(e,t,n){"focusin"===e?(ir(),Yn=n,($n=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function ur(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Yn)}function sr(e,t){if("click"===e)return Jn(t)}function cr(e,t){if("input"===e||"change"===e)return Jn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,br=null,wr=null,xr=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==kr||kr!==J(r)||("selectionStart"in(r=kr)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&hr(wr,r)||(wr=r,0<(r=Fr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Dt,2);for(var Ir="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Er=0;Er<Ir.length;Er++)Ot.set(Ir[Er],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,c){if($e.apply(this,arguments),Ke){if(!Ke)throw Error(o(198));var l=We;Ke=!1,We=null,Ge||(Ge=!0,He=l)}}(r,t,void 0,e),e.currentTarget=null}function Ar(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}}}if(Ge)throw e=He,Ge=!1,He=null,e}function Nr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Rr="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){e[Rr]||(e[Rr]=!0,u.forEach((function(t){Tr.has(t)||Or(t,!1,e,null),Or(t,!0,e,null)})))}function Or(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Tr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(i|=4),Dr(a,e,i,t),o.add(u))}function Dr(e,t,n,r){var i=Ot.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=Xt;break;default:i=Jt}n=i.bind(null,t,n,e),i=void 0,!ze||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=ni(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(Ve)return e(t,n);Ve=!0;try{Me(e,t,n)}finally{Ve=!1,Ue()}}((function(){var r=a,i=Se(n),o=[];e:{var u=Pt.get(e);if(void 0!==u){var s=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":s=Nn;break;case"focusin":c="focus",s=kn;break;case"focusout":c="blur",s=kn;break;case"beforeblur":case"afterblur":s=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Pn;break;case Ct:case At:case Nt:s=bn;break;case Rt:s=On;break;case"scroll":s=vn;break;case"wheel":s=Ln;break;case"copy":case"cut":case"paste":s=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Rn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=je(p,h))&&l.push(Mr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=yn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Rn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ii(s),d=null==c?u:ii(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Vr(d))p++;for(d=0,v=h;v;v=Vr(v))d++;for(;0<p-d;)l=Vr(l),p--;for(;0<d-p;)h=Vr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Vr(l),h=Vr(h)}l=null}else l=null;null!==s&&Ur(o,u,s,l,!1),null!==c&&null!==f&&Ur(o,f,c,l,!0)}if("select"===(s=(u=r?ii(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Zn;else if(Hn(u))if(er)m=cr;else{m=ur;var y=or}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=sr);switch(m&&(m=m(e,r))?Qn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ie(u,"number",u.value)),y=r?ii(r):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(kr=y,br=r,wr=null);break;case"focusout":wr=br=kr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,_r(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":_r(o,n,i)}var g;if(Fn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Wn?qn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(jn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Wn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Wn=!0)),0<(y=Fr(r,k)).length&&(k=new _n(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Kn(n))&&(k.data=g))),(g=Un?function(e,t){switch(e){case"compositionend":return Kn(t);case"keypress":return 32!==t.which?null:(Bn=!0,zn);case"textInput":return(e=t.data)===zn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Fn&&qn(e,t)?(e=rn(),nn=tn=en=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Fr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ar(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=je(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=je(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function Vr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ur(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=je(n,a))&&o.unshift(Mr(n,s,u)):i||null!=(s=je(n,a))&&o.push(Mr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function jr(){}var zr=null,Br=null;function qr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Kr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wr="function"===typeof setTimeout?setTimeout:void 0,Gr="function"===typeof clearTimeout?clearTimeout:void 0;function Hr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function $r(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var Xr=Math.random().toString(36).slice(2),Jr="__reactFiber$"+Xr,Zr="__reactProps$"+Xr,ei="__reactContainer$"+Xr,ti="__reactEvents$"+Xr;function ni(e){var t=e[Jr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Jr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=$r(e);null!==e;){if(n=e[Jr])return n;e=$r(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Jr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var ui=[],si=-1;function ci(e){return{current:e}}function li(e){0>si||(e.current=ui[si],ui[si]=null,si--)}function fi(e,t){si++,ui[si]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function mi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function yi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,H(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var _i=null,Ii=null,Ei=a.unstable_runWithPriority,Si=a.unstable_scheduleCallback,Ti=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ai=a.unstable_requestPaint,Ni=a.unstable_now,Ri=a.unstable_getCurrentPriorityLevel,Pi=a.unstable_ImmediatePriority,Oi=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,Li=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,Fi={},Vi=void 0!==Ai?Ai:function(){},Ui=null,ji=null,zi=!1,Bi=Ni(),qi=1e4>Bi?Ni:function(){return Ni()-Bi};function Ki(){switch(Ri()){case Pi:return 99;case Oi:return 98;case Di:return 97;case Li:return 96;case Mi:return 95;default:throw Error(o(332))}}function Wi(e){switch(e){case 99:return Pi;case 98:return Oi;case 97:return Di;case 96:return Li;case 95:return Mi;default:throw Error(o(332))}}function Gi(e,t){return e=Wi(e),Ei(e,t)}function Hi(e,t,n){return e=Wi(e),Si(e,t,n)}function Qi(){if(null!==ji){var e=ji;ji=null,Ti(e)}$i()}function $i(){if(!zi&&null!==Ui){zi=!0;var e=0;try{var t=Ui;Gi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),Si(Pi,Qi),n}finally{zi=!1}}}var Yi=w.ReactCurrentBatchConfig;function Xi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ji=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=Ji.current;li(Ji),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Fo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var ua=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;ua=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?o=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==u&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,u=0,f=l=c=null;;){s=o.lane;var d=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,s);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(d,h,s):p)||void 0===s)break e;h=i({},h,s);break e;case 2:ua=!0}}null!==o.callback&&(e.flags|=32,null===(s=a.effects)?a.effects=[o]:s.push(o))}else d={eventTime:d,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,u|=s;if(null===(o=o.next)){if(null===(s=a.shared.pending))break;o=s.next,s.next=null,a.lastBaseUpdate=s,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,zu|=u,e.lanes=u,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ma(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ya={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hs(),r=ds(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),ps(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=yi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?mi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ya,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ya.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,sa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=yi(t)?vi:di.current,i.context=mi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ma(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ya.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xa=Array.isArray;function _a(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ia(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ea(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Gs(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ys(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=_a(e,t,n),r.return=e,r):((r=Hs(n.type,n.key,n.props,null,e.mode,r)).ref=_a(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xs(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qs(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Ys(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Hs(t.type,t.key,t.props,null,e.mode,n)).ref=_a(e,null,t),n.return=e,n;case _:return(t=Xs(t,e.mode,n)).return=e,t}if(xa(t)||B(t))return(t=Qs(t,e.mode,n,null)).return=e,t;Ia(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===I?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null}if(xa(n)||B(n))return null!==i?null:f(e,t,n,r,null);Ia(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===I?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||B(r))return f(t,e=e.get(n)||null,r,i,null);Ia(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,u,s,c){var l=B(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=a(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=a(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,s){var c="object"===typeof a&&null!==a&&a.type===I&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===I){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=_a(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===I?((r=Qs(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Hs(a.type,a.key,a.props,null,e.mode,s)).ref=_a(e,r,a),s.return=e,e=s)}return u(e);case _:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Xs(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Ys(a,e.mode,s)).return=e,e=r),u(e);if(xa(a))return v(e,r,a,s);if(B(a))return m(e,r,a,s);if(l&&Ia(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,H(e.type)||"Component"))}return n(e,r)}}var Sa=Ea(!0),Ta=Ea(!1),Ca={},Aa=ci(Ca),Na=ci(Ca),Ra=ci(Ca);function Pa(e){if(e===Ca)throw Error(o(174));return e}function Oa(e,t){switch(fi(Ra,t),fi(Na,e),fi(Aa,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Aa),fi(Aa,t)}function Da(){li(Aa),li(Na),li(Ra)}function La(e){Pa(Ra.current);var t=Pa(Aa.current),n=pe(t,e.type);t!==n&&(fi(Na,e),fi(Aa,n))}function Ma(e){Na.current===e&&(li(Aa),li(Na))}var Fa=ci(0);function Va(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ua=null,ja=null,za=!1;function Ba(e,t){var n=Ks(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function qa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ka(e){if(za){var t=ja;if(t){var n=t;if(!qa(e,t)){if(!(t=Qr(n.nextSibling))||!qa(e,t))return e.flags=-1025&e.flags|2,za=!1,void(Ua=e);Ba(Ua,n)}Ua=e,ja=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,za=!1,Ua=e}}function Wa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ua=e}function Ga(e){if(e!==Ua)return!1;if(!za)return Wa(e),za=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Kr(t,e.memoizedProps))for(t=ja;t;)Ba(e,t),t=Qr(t.nextSibling);if(Wa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ja=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ja=null}}else ja=Ua?Qr(e.stateNode.nextSibling):null;return!0}function Ha(){ja=Ua=null,za=!1}var Qa=[];function $a(){for(var e=0;e<Qa.length;e++)Qa[e]._workInProgressVersionPrimary=null;Qa.length=0}var Ya=w.ReactCurrentDispatcher,Xa=w.ReactCurrentBatchConfig,Ja=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Ja=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ya.current=null===e||null===e.memoizedState?Oo:Do,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Ya.current=Lo,e=n(r,i)}while(ro)}if(Ya.current=Po,t=null!==eo&&null!==eo.next,Ja=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function uo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function so(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,c=i;do{var l=c.lane;if((Ja&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,Za.lanes|=l,zu|=l}c=c.next}while(null!==c&&c!==i);null===s?a=r:s.next=u,lr(r,t.memoizedState)||(Fo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);lr(a,t.memoizedState)||(Fo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Ja&e)===e)&&(t._workInProgressVersionPrimary=r,Qa.push(t))),e)return n(t._source);throw Qa.push(t),Error(o(350))}function po(e,t,n,r){var i=Ou;if(null===i)throw Error(o(349));var a=t._getVersion,u=a(t._source),s=Ya.current,c=s.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Za;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(u,e)){e=n(t._source),lr(f,e)||(l(e),e=ds(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var s=31-Kt(o),c=1<<s;r[s]|=e,o&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=ds(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Ro.bind(null,Za,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(so(),e,t,n)}function mo(e){var t=uo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Ro.bind(null,Za,e),[t.memoizedState,e]}function yo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},uo().memoizedState=e}function ko(){return so().memoizedState}function bo(e,t,n,r){var i=uo();Za.flags|=e,i.memoizedState=yo(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=so();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void yo(t,n,a,r)}Za.flags|=e,i.memoizedState=yo(1|t,n,a,r)}function xo(e,t){return bo(516,4,e,t)}function _o(e,t){return wo(516,4,e,t)}function Io(e,t){return wo(4,2,e,t)}function Eo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function So(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,Eo.bind(null,t,e),n)}function To(){}function Co(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ao(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function No(e,t){var n=Ki();Gi(98>n?98:n,(function(){e(!0)})),Gi(97<n?97:n,(function(){var n=Xa.transition;Xa.transition=1;try{e(!1),t()}finally{Xa.transition=n}}))}function Ro(e,t,n){var r=hs(),i=ds(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(a.eagerReducer=o,a.eagerState=s,lr(s,u))return}catch(c){}ps(e,i,r)}}var Po={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Oo={readContext:oa,useCallback:function(e,t){return uo().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,Eo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=uo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=uo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ro.bind(null,Za,e),[r.memoizedState,e]},useRef:go,useState:mo,useDebugValue:To,useDeferredValue:function(e){var t=mo(e),n=t[0],r=t[1];return xo((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=mo(!1),t=e[0];return go(e=No.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=uo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(za){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(o(355))})),n=mo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,yo(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return mo(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:So,useLayoutEffect:Io,useMemo:Ao,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:To,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return _o((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:So,useLayoutEffect:Io,useMemo:Ao,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:To,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return _o((function(){var t=Xa.transition;Xa.transition=1;try{r(e)}finally{Xa.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Mo=w.ReactCurrentOwner,Fo=!1;function Vo(e,t,n,r){t.child=null===e?Ta(t,null,n,r):Sa(t,e.child,n,r)}function Uo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,Vo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function jo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Ws(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Hs(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,zo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?au(e,t,a):(t.flags|=1,(e=Gs(o,r)).ref=t.ref,e.return=t,t.child=e)}function zo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Fo=!1,0===(a&i))return t.lanes=e.lanes,au(e,t,a);0!==(16384&e.flags)&&(Fo=!0)}return Ko(e,t,n,r,a)}function Bo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xs(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xs(t,e),null;t.memoizedState={baseLanes:0},xs(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xs(t,r);return Vo(e,t,i,n),t.child}function qo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ko(e,t,n,r,i){var a=yi(n)?vi:di.current;return a=mi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,Vo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Wo(e,t,n,r,i){if(yi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=mi(t,c=yi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&ba(t,o,r,c),ua=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),s=t.memoizedState,u!==r||h!==s||pi.current||ua?("function"===typeof l&&(ma(t,n,l,r),s=t.memoizedState),(u=ua||ga(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Xi(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=oa(s):s=mi(t,s=yi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&ba(t,o,r,s),ua=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||pi.current||ua?("function"===typeof d&&(ma(t,n,d,r),p=t.memoizedState),(c=ua||ga(t,n,c,r,h,p,s))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Go(e,t,n,r,a,i)}function Go(e,t,n,r,i,a){qo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&xi(t,n,!1),au(e,t,a);r=t.stateNode,Mo.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Sa(t,e.child,null,a),t.child=Sa(t,null,u,a)):Vo(e,t,u,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Ho(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Oa(e,t.containerInfo)}var Qo,$o,Yo,Xo={dehydrated:null,retryLane:0};function Jo(e,t,n){var r,i=t.pendingProps,a=Fa.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Fa,1&a),null===e?(void 0!==i.fallback&&Ka(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,t.lanes=33554432,e):((n=$s({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=tu(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Xo,i):(n=eu(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=$s(t,i,0,null),n=Qs(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function eu(e,t,n,r){var i=e.child;return e=i.sibling,n=Gs(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tu(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Gs(o,u),null!==e?r=Gs(e,r):(r=Qs(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function nu(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function ru(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function iu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Vo(e,t,r.children,n),0!==(2&(r=Fa.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nu(e,n);else if(19===e.tag)nu(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Fa,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Va(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ru(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Va(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ru(t,!0,n,null,a,t.lastEffect);break;case"together":ru(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function au(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Gs(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Gs(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ou(e,t){if(!za)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return yi(t.type)&&gi(),null;case 3:return Da(),li(pi),li(di),$a(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ga(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Pa(Ra.current);if(n=t.type,null!==e&&null!=t.stateNode)$o(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Pa(Aa.current),Ga(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[Jr]=t,r[Zr]=u,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<Sr.length;e++)Nr(Sr[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,u),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Nr("invalid",r);break;case"textarea":se(r,u),Nr("invalid",r)}for(var c in Ie(n,u),e=null,u)u.hasOwnProperty(c)&&(a=u[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):s.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Nr("scroll",r));switch(n){case"input":Y(r),re(r,u,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=jr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Jr]=t,e[Zr]=r,Qo(e,t),t.stateNode=e,c=Ee(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),a=r;break;case"iframe":case"object":case"embed":Nr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Sr.length;a++)Nr(Sr[a],e);a=r;break;case"source":Nr("error",e),a=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),a=r;break;case"details":Nr("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Nr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":se(e,r),a=ue(e,r),Nr("invalid",e);break;default:a=r}Ie(n,a);var l=a;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?xe(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&ye(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Nr("scroll",e):null!=f&&b(e,u,f,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=jr)}qr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Yo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Pa(Ra.current),Pa(Aa.current),Ga(t)?(r=t.stateNode,n=t.memoizedProps,r[Jr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Jr]=t,t.stateNode=r)}return null;case 13:return li(Fa),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ga(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fa.current)?0===Vu&&(Vu=3):(0!==Vu&&3!==Vu||(Vu=4),null===Ou||0===(134217727&zu)&&0===(134217727&Bu)||gs(Ou,Lu))),(r||n)&&(t.flags|=4),null);case 4:return Da(),null===e&&Pr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Fa),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)ou(r,!1);else{if(0!==Vu||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Va(e))){for(t.flags|=64,ou(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Fa,1&Fa.current|2),t.child}e=e.sibling}null!==r.tail&&qi()>Gu&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=Va(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ou(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!za)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>Gu&&1073741824!==n&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=Fa.current,fi(Fa,u?1&t|2:1&t),n):null;case 23:case 24:return _s(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function su(e){switch(e.tag){case 1:yi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Da(),li(pi),li(di),$a(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(Fa),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Fa),null;case 4:return Da(),null;case 10:return ra(e),null;case 23:case 24:return _s(),null;default:return null}}function cu(e,t){try{var n="",r=t;do{n+=G(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function lu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},$o=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Pa(Aa.current);var o,u=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),u=[];break;case"option":a=ae(e,a),r=ae(e,r),u=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":a=ue(e,a),r=ue(e,r),u=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=jr)}for(f in Ie(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Nr("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},Yo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Yu||(Yu=!0,Xu=r),lu(0,t)},n}function du(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return lu(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ju?Ju=new Set([this]):Ju.add(this),lu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pu="function"===typeof WeakSet?WeakSet:Set;function vu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){js(e,n)}else t.current=null}function mu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Xi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Hr(t.stateNode.containerInfo))}throw Error(o(163))}function yu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Fs(n,e),Ms(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Xi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&qr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function gu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ku(e,t){if(Ii&&"function"===typeof Ii.onCommitFiberUnmount)try{Ii.onCommitFiberUnmount(_i,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Fs(t,n);else{r=t;try{i()}catch(a){js(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){js(t,a)}break;case 5:vu(t);break;case 4:Eu(e,t)}}function bu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function wu(e){return 5===e.tag||3===e.tag||4===e.tag}function xu(e){e:{for(var t=e.return;null!==t;){if(wu(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||wu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?_u(e,n,t):Iu(e,n,t)}function _u(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=jr));else if(4!==r&&null!==(e=e.child))for(_u(e,t,n),e=e.sibling;null!==e;)_u(e,t,n),e=e.sibling}function Iu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Iu(e,t,n),e=e.sibling;null!==e;)Iu(e,t,n),e=e.sibling}function Eu(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,c=s;;)if(ku(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ku(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Su(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ee(e,i),t=Ee(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?xe(n,s):"dangerouslySetInnerHTML"===u?ye(n,s):"children"===u?ge(n,s):b(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Wu=qi(),gu(t.child,!0)),void Tu(t);case 19:return void Tu(t);case 23:case 24:return void gu(t,null!==t.memoizedState)}throw Error(o(163))}function Tu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pu),t.forEach((function(t){var r=Bs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Au=Math.ceil,Nu=w.ReactCurrentDispatcher,Ru=w.ReactCurrentOwner,Pu=0,Ou=null,Du=null,Lu=0,Mu=0,Fu=ci(0),Vu=0,Uu=null,ju=0,zu=0,Bu=0,qu=0,Ku=null,Wu=0,Gu=1/0;function Hu(){Gu=qi()+500}var Qu,$u=null,Yu=!1,Xu=null,Ju=null,Zu=!1,es=null,ts=90,ns=[],rs=[],is=null,as=0,os=null,us=-1,ss=0,cs=0,ls=null,fs=!1;function hs(){return 0!==(48&Pu)?qi():-1!==us?us:us=qi()}function ds(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Ki()?1:2;if(0===ss&&(ss=ju),0!==Yi.transition){0!==cs&&(cs=null!==Ku?Ku.pendingLanes:0),e=ss;var t=4186112&~cs;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Ki(),0!==(4&Pu)&&98===e?e=jt(12,ss):e=jt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ss),e}function ps(e,t,n){if(50<as)throw as=0,os=null,Error(o(185));if(null===(e=vs(e,t)))return null;qt(e,t,n),e===Ou&&(Bu|=t,4===Vu&&gs(e,Lu));var r=Ki();1===t?0!==(8&Pu)&&0===(48&Pu)?ks(e):(ms(e,n),0===Pu&&(Hu(),Qi())):(0===(4&Pu)||98!==r&&99!==r||(null===is?is=new Set([e]):is.add(e)),ms(e,n)),Ku=e}function vs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ms(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-Kt(u),c=1<<s,l=a[s];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Ft(c);var f=Mt;a[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=Vt(e,e===Ou?Lu:0),t=Mt,0===r)null!==n&&(n!==Fi&&Ti(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Fi&&Ti(n)}15===t?(n=ks.bind(null,e),null===Ui?(Ui=[n],ji=Si(Pi,$i)):Ui.push(n),n=Fi):14===t?n=Hi(99,ks.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Hi(n,ys.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ys(e){if(us=-1,cs=ss=0,0!==(48&Pu))throw Error(o(327));var t=e.callbackNode;if(Ls()&&e.callbackNode!==t)return null;var n=Vt(e,e===Ou?Lu:0);if(0===n)return null;var r=n,i=Pu;Pu|=16;var a=Ss();for(Ou===e&&Lu===r||(Hu(),Is(e,r));;)try{As();break}catch(s){Es(e,s)}if(na(),Nu.current=a,Pu=i,null!==Du?r=0:(Ou=null,Lu=0,r=Vu),0!==(ju&Bu))Is(e,0);else if(0!==r){if(2===r&&(Pu|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(n=Ut(e))&&(r=Ts(e,n))),1===r)throw t=Uu,Is(e,0),gs(e,n),ms(e,qi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Ps(e);break;case 3:if(gs(e,n),(62914560&n)===n&&10<(r=Wu+500-qi())){if(0!==Vt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Wr(Ps.bind(null,e),r);break}Ps(e);break;case 4:if(gs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-Kt(n);a=1<<u,(u=r[u])>i&&(i=u),n&=~a}if(n=i,10<(n=(120>(n=qi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Au(n/1960))-n)){e.timeoutHandle=Wr(Ps.bind(null,e),n);break}Ps(e);break;default:throw Error(o(329))}}return ms(e,qi()),e.callbackNode===t?ys.bind(null,e):null}function gs(e,t){for(t&=~qu,t&=~Bu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Kt(t),r=1<<n;e[n]=-1,t&=~r}}function ks(e){if(0!==(48&Pu))throw Error(o(327));if(Ls(),e===Ou&&0!==(e.expiredLanes&Lu)){var t=Lu,n=Ts(e,t);0!==(ju&Bu)&&(n=Ts(e,t=Vt(e,t)))}else n=Ts(e,t=Vt(e,0));if(0!==e.tag&&2===n&&(Pu|=64,e.hydrate&&(e.hydrate=!1,Hr(e.containerInfo)),0!==(t=Ut(e))&&(n=Ts(e,t))),1===n)throw n=Uu,Is(e,0),gs(e,t),ms(e,qi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ps(e),ms(e,qi()),null}function bs(e,t){var n=Pu;Pu|=1;try{return e(t)}finally{0===(Pu=n)&&(Hu(),Qi())}}function ws(e,t){var n=Pu;Pu&=-2,Pu|=8;try{return e(t)}finally{0===(Pu=n)&&(Hu(),Qi())}}function xs(e,t){fi(Fu,Mu),Mu|=t,ju|=t}function _s(){Mu=Fu.current,li(Fu)}function Is(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Gr(n)),null!==Du)for(n=Du.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Da(),li(pi),li(di),$a();break;case 5:Ma(r);break;case 4:Da();break;case 13:case 19:li(Fa);break;case 10:ra(r);break;case 23:case 24:_s()}n=n.return}Ou=e,Du=Gs(e.current,null),Lu=Mu=ju=t,Vu=0,Uu=null,qu=Bu=zu=0}function Es(e,t){for(;;){var n=Du;try{if(na(),Ya.current=Po,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Ja=0,to=eo=Za=null,ro=!1,Ru.current=null,null===n||null===n.return){Vu=1,Uu=t,Du=null;break}e:{var a=e,o=n.return,u=n,s=t;if(t=Lu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&Fa.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var y=new Set;y.add(c),h.updateQueue=y}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var g=la(-1,1);g.tag=2,fa(u,g)}u.lanes|=1;break e}s=void 0,u=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fu,s=new Set,k.set(c,s)):void 0===(s=k.get(c))&&(s=new Set,k.set(c,s)),!s.has(u)){s.add(u);var b=zs.bind(null,a,c,u);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);s=Error((H(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Vu&&(Vu=2),s=cu(s,u),h=o;do{switch(h.tag){case 3:a=s,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hu(0,a,t));break e;case 1:a=s;var w=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Ju||!Ju.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,du(h,a,t));break e}}h=h.return}while(null!==h)}Rs(n)}catch(_){t=_,Du===n&&null!==n&&(Du=n=n.return);continue}break}}function Ss(){var e=Nu.current;return Nu.current=Po,null===e?Po:e}function Ts(e,t){var n=Pu;Pu|=16;var r=Ss();for(Ou===e&&Lu===t||Is(e,t);;)try{Cs();break}catch(i){Es(e,i)}if(na(),Pu=n,Nu.current=r,null!==Du)throw Error(o(261));return Ou=null,Lu=0,Vu}function Cs(){for(;null!==Du;)Ns(Du)}function As(){for(;null!==Du&&!Ci();)Ns(Du)}function Ns(e){var t=Qu(e.alternate,e,Mu);e.memoizedProps=e.pendingProps,null===t?Rs(e):Du=t,Ru.current=null}function Rs(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=uu(n,t,Mu)))return void(Du=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Mu)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=su(t)))return n.flags&=2047,void(Du=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Du=t);Du=t=e}while(null!==t);0===Vu&&(Vu=5)}function Ps(e){var t=Ki();return Gi(99,Os.bind(null,e,t)),null}function Os(e,t){do{Ls()}while(null!==es);if(0!==(48&Pu))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<a;){var c=31-Kt(a),l=1<<c;i[c]=0,u[c]=-1,s[c]=-1,a&=~l}if(null!==is&&0===(24&r)&&is.has(e)&&is.delete(e),e===Ou&&(Du=Ou=null,Lu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Pu,Pu|=32,Ru.current=null,zr=$t,yr(u=mr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(S){s=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=u,y=null;t:for(;;){for(var g;m!==s||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===u)break t;if(y===s&&++p===a&&(h=f),y===c&&++v===l&&(d=f),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;Br={focusedElem:u,selectionRange:s},$t=!1,ls=null,fs=!1,$u=r;do{try{Ds()}catch(S){if(null===$u)throw Error(o(330));js($u,S),$u=$u.nextEffect}}while(null!==$u);ls=null,$u=r;do{try{for(u=e;null!==$u;){var k=$u.flags;if(16&k&&ge($u.stateNode,""),128&k){var b=$u.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:xu($u),$u.flags&=-3;break;case 6:xu($u),$u.flags&=-3,Su($u.alternate,$u);break;case 1024:$u.flags&=-1025;break;case 1028:$u.flags&=-1025,Su($u.alternate,$u);break;case 4:Su($u.alternate,$u);break;case 8:Eu(u,s=$u);var x=s.alternate;bu(s),null!==x&&bu(x)}$u=$u.nextEffect}}catch(S){if(null===$u)throw Error(o(330));js($u,S),$u=$u.nextEffect}}while(null!==$u);if(w=Br,b=mr(),k=w.focusedElem,u=w.selectionRange,b!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==u&&yr(k)&&(b=u.start,void 0===(w=u.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),s=k.textContent.length,x=Math.min(u.start,s),u=void 0===u.end?x:Math.min(u.end,s),!w.extend&&x>u&&(s=u,u=x,x=s),s=pr(k,x),a=pr(k,u),s&&a&&(1!==w.rangeCount||w.anchorNode!==s.node||w.anchorOffset!==s.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(s.node,s.offset),w.removeAllRanges(),x>u?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}$t=!!zr,Br=zr=null,e.current=n,$u=r;do{try{for(k=e;null!==$u;){var _=$u.flags;if(36&_&&yu(k,$u.alternate,$u),128&_){b=void 0;var I=$u.ref;if(null!==I){var E=$u.stateNode;$u.tag,b=E,"function"===typeof I?I(b):I.current=b}}$u=$u.nextEffect}}catch(S){if(null===$u)throw Error(o(330));js($u,S),$u=$u.nextEffect}}while(null!==$u);$u=null,Vi(),Pu=i}else e.current=n;if(Zu)Zu=!1,es=e,ts=t;else for($u=r;null!==$u;)t=$u.nextEffect,$u.nextEffect=null,8&$u.flags&&((_=$u).sibling=null,_.stateNode=null),$u=t;if(0===(r=e.pendingLanes)&&(Ju=null),1===r?e===os?as++:(as=0,os=e):as=0,n=n.stateNode,Ii&&"function"===typeof Ii.onCommitFiberRoot)try{Ii.onCommitFiberRoot(_i,n,void 0,64===(64&n.current.flags))}catch(S){}if(ms(e,qi()),Yu)throw Yu=!1,e=Xu,Xu=null,e;return 0!==(8&Pu)||Qi(),null}function Ds(){for(;null!==$u;){var e=$u.alternate;fs||null===ls||(0!==(8&$u.flags)?et($u,ls)&&(fs=!0):13===$u.tag&&Cu(e,$u)&&et($u,ls)&&(fs=!0));var t=$u.flags;0!==(256&t)&&mu(e,$u),0===(512&t)||Zu||(Zu=!0,Hi(97,(function(){return Ls(),null}))),$u=$u.nextEffect}}function Ls(){if(90!==ts){var e=97<ts?97:ts;return ts=90,Gi(e,Vs)}return!1}function Ms(e,t){ns.push(t,e),Zu||(Zu=!0,Hi(97,(function(){return Ls(),null})))}function Fs(e,t){rs.push(t,e),Zu||(Zu=!0,Hi(97,(function(){return Ls(),null})))}function Vs(){if(null===es)return!1;var e=es;if(es=null,0!==(48&Pu))throw Error(o(331));var t=Pu;Pu|=32;var n=rs;rs=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===a)throw Error(o(330));js(a,c)}}for(n=ns,ns=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var s=i.create;i.destroy=s()}catch(c){if(null===a)throw Error(o(330));js(a,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Pu=t,Qi(),!0}function Us(e,t,n){fa(e,t=hu(0,t=cu(n,t),1)),t=hs(),null!==(e=vs(e,1))&&(qt(e,1,t),ms(e,t))}function js(e,t){if(3===e.tag)Us(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Us(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ju||!Ju.has(r))){var i=du(n,e=cu(t,e),1);if(fa(n,i),i=hs(),null!==(n=vs(n,1)))qt(n,1,i),ms(n,i);else if("function"===typeof r.componentDidCatch&&(null===Ju||!Ju.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function zs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hs(),e.pingedLanes|=e.suspendedLanes&n,Ou===e&&(Lu&n)===n&&(4===Vu||3===Vu&&(62914560&Lu)===Lu&&500>qi()-Wu?Is(e,0):qu|=n),ms(e,t)}function Bs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Ki()?1:2:(0===ss&&(ss=ju),0===(t=zt(62914560&~ss))&&(t=4194304))),n=hs(),null!==(e=vs(e,t))&&(qt(e,t,n),ms(e,n))}function qs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ks(e,t,n,r){return new qs(e,t,n,r)}function Ws(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Gs(e,t){var n=e.alternate;return null===n?((n=Ks(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hs(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Ws(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case I:return Qs(n.children,i,a,t);case M:u=8,i|=16;break;case E:u=8,i|=1;break;case S:return(e=Ks(12,n,t,8|i)).elementType=S,e.type=S,e.lanes=a,e;case N:return(e=Ks(13,n,t,i)).type=N,e.elementType=N,e.lanes=a,e;case R:return(e=Ks(19,n,t,i)).elementType=R,e.lanes=a,e;case F:return $s(n,i,a,t);case V:return(e=Ks(24,n,t,i)).elementType=V,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:u=10;break e;case C:u=9;break e;case A:u=11;break e;case P:u=14;break e;case O:u=16,r=null;break e;case D:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ks(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qs(e,t,n,r){return(e=Ks(7,e,r,t)).lanes=n,e}function $s(e,t,n,r){return(e=Ks(23,e,r,t)).elementType=F,e.lanes=n,e}function Ys(e,t,n){return(e=Ks(6,e,null,t)).lanes=n,e}function Xs(e,t,n){return(t=Ks(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Js(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function Zs(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hs(),u=ds(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(yi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(yi(c)){n=bi(n,c,s);break e}}n=s}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),ps(i,u,a),u}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Js(e,t,null!=n&&!0===n.hydrate),t=Ks(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,sa(t),e[ei]=n.current,Pr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ws((function(){ec(t,o,e,i)}))}return tc(o)}function uc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zs(e,t,null,n)}Qu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Fo=!0;else{if(0===(n&r)){switch(Fo=!1,t.tag){case 3:Ho(t),Ha();break;case 5:La(t);break;case 1:yi(t.type)&&wi(t);break;case 4:Oa(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Ji,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Jo(e,t,n):(fi(Fa,1&Fa.current),null!==(t=au(e,t,n))?t.sibling:null);fi(Fa,1&Fa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return iu(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Fa,Fa.current),r)break;return null;case 23:case 24:return t.lanes=0,Bo(e,t,n)}return au(e,t,n)}Fo=0!==(16384&e.flags)}else Fo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=mi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,yi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,sa(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&ma(t,r,u,e),i.updater=ya,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Go(null,t,r,!0,a,n)}else t.tag=0,Vo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Ws(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===P)return 14}return 2}(i),e=Xi(i,e),a){case 0:t=Ko(null,t,i,e,n);break e;case 1:t=Wo(null,t,i,e,n);break e;case 11:t=Uo(null,t,i,e,n);break e;case 14:t=jo(null,t,i,Xi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ko(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 3:if(Ho(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ha(),t=au(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(ja=Qr(t.stateNode.containerInfo.firstChild),Ua=t,a=za=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Qa.push(a);for(n=Ta(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Vo(e,t,r,n),Ha();t=t.child}return t;case 5:return La(t),null===e&&Ka(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,Kr(r,i)?u=null:null!==a&&Kr(r,a)&&(t.flags|=16),qo(e,t),Vo(e,t,u,n),t.child;case 6:return null===e&&Ka(t),null;case 13:return Jo(e,t,n);case 4:return Oa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Sa(t,null,r,n):Vo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Uo(e,t,r,i=t.elementType===r?i:Xi(r,i),n);case 7:return Vo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Vo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(fi(Ji,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=lr(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!pi.current){t=au(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===s.tag&&((l=la(-1,n&-n)).tag=2,fa(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ia(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Vo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Vo(e,t,r,n),t.child;case 14:return a=Xi(i=t.type,t.pendingProps),jo(e,t,i,a=Xi(i.type,a),r,n);case 15:return zo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,yi(r)?(e=!0,wi(t)):e=!1,aa(t,n),ka(t,r,i),wa(t,r,i,n),Go(null,t,r,!0,e,n);case 19:return iu(e,t,n);case 23:case 24:return Bo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(ps(e,4,hs()),rc(e,4))},nt=function(e){13===e.tag&&(ps(e,67108864,hs()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hs(),n=ds(e);ps(e,n,t),rc(e,n)}},it=function(e,t){return t()},Te=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));X(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Oe=bs,De=function(e,t,n,r,i){var a=Pu;Pu|=4;try{return Gi(98,e.bind(null,t,n,r,i))}finally{0===(Pu=a)&&(Hu(),Qi())}},Le=function(){0===(49&Pu)&&(function(){if(null!==is){var e=is;is=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ms(e,qi())}))}Qi()}(),Ls())},Me=function(e,t){var n=Pu;Pu|=2;try{return e(t)}finally{0===(Pu=n)&&(Hu(),Qi())}};var sc={Events:[ri,ii,ai,Re,Pe,Ls,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{_i=fc.inject(lc),Ii=fc}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=uc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Pu;if(0!==(48&n))return e(t);Pu|=1;try{if(e)return Gi(99,e.bind(null,t))}finally{Pu=n,Qi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(ws((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bs,t.unstable_createPortal=function(e,t){return uc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},381:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},239:function(e,t,n){var r=n(381);e.exports=d,e.exports.parse=a,e.exports.compile=function(e,t){return u(a(e,t),t)},e.exports.tokensToFunction=u,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,u="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(u+=e.slice(o,d),o=d+f.length,h)u+=h[1];else{var p=e[o],v=n[2],m=n[3],y=n[4],g=n[5],k=n[6],b=n[7];u&&(r.push(u),u="");var w=null!=v&&null!=p&&p!==v,x="+"===k||"*"===k,_="?"===k||"*"===k,I=n[2]||l,E=y||g;r.push({name:m||a++,prefix:v||"",delimiter:I,optional:_,repeat:x,partial:w,asterisk:!!b,pattern:E?c(E):b?".*":"[^"+s(I)+"]+?"})}}return o<e.length&&(u+=e.substr(o)),u&&r.push(u),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function u(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var a="",u=t||{},s=(i||{}).pretty?o:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,h=u[l.name];if(null==h){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=s(h[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");a+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');a+=l.prefix+f}}else a+=l}return a}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",u=0;u<e.length;u++){var c=e[u];if("string"===typeof c)o+=s(c);else{var h=s(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),o+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=s(n.delimiter||"/"),v=o.slice(-p.length)===p;return i||(o=(v?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+o,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(a(e,n),t,n)}(e,t,n)}},195:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}},228:function(e,t,n){"use strict";n(195)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var k=g.prototype=new y;k.constructor=g,r(k,m.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:i,type:e,key:o,ref:u,props:a,_owner:b.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var E=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return o=o(s=e),e=""===r?"."+S(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(E,"$&/")+"/"),T(o,t,n,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+S(u=e[c],c);s+=T(u,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=T(u=u.value,t,n,l=r+S(u,c++),o);else if("object"===u)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function C(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function R(){var e=N.current;if(null===e)throw Error(d(321));return e}var P={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:u,props:a,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return R().useCallback(e,t)},t.useContext=function(e,t){return R().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return R().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return R().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return R().useLayoutEffect(e,t)},t.useMemo=function(e,t){return R().useMemo(e,t)},t.useReducer=function(e,t,n){return R().useReducer(e,t,n)},t.useRef=function(e){return R().useRef(e)},t.useState=function(e){return R().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(R){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=E(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};s(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(A([])));w&&w!==n&&r.call(w,a)&&(k=w);var x=g.prototype=m.prototype=Object.create(k);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function E(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:N}}function N(){return{value:t,done:!0}}return y.prototype=g,s(x,"constructor",g),s(g,"constructor",y),y.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(I.prototype),s(I.prototype,o,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new I(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+g;try{m(!0,e)?w.postMessage(null):(v=!1,m=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,w.postMessage(null))},r=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<E(i,t)))break e;e[r]=t,e[n]=i,n=r}}function _(e){return void 0===(e=e[0])?null:e}function I(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>E(o,n))void 0!==s&&0>E(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>E(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function E(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var S=[],T=[],C=1,A=null,N=3,R=!1,P=!1,O=!1;function D(e){for(var t=_(T);null!==t;){if(null===t.callback)I(T);else{if(!(t.startTime<=e))break;I(T),t.sortIndex=t.expirationTime,x(S,t)}t=_(T)}}function L(e){if(O=!1,D(e),!P)if(null!==_(S))P=!0,n(M);else{var t=_(T);null!==t&&r(L,t.startTime-e)}}function M(e,n){P=!1,O&&(O=!1,i()),R=!0;var a=N;try{for(D(n),A=_(S);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=A.callback;if("function"===typeof o){A.callback=null,N=A.priorityLevel;var u=o(A.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?A.callback=u:A===_(S)&&I(S),D(n)}else I(S);A=_(S)}if(null!==A)var s=!0;else{var c=_(T);null!==c&&r(L,c.startTime-n),s=!1}return s}finally{A=null,N=a,R=!1}}var F=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||R||(P=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return _(S)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,a,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,x(T,e),null===_(S)&&e===_(T)&&(O?i():O=!0,r(L,o-u))):(e.sortIndex=s,x(S,e),P||R||(P=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".62d645e5.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="context-api:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkcontext_api=self.webpackChunkcontext_api||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Pa},SDK_VERSION:function(){return Ho},_DEFAULT_ENTRY_NAME:function(){return Do},_addComponent:function(){return Vo},_addOrOverwriteComponent:function(){return Uo},_apps:function(){return Mo},_clearComponents:function(){return qo},_components:function(){return Fo},_getProvider:function(){return zo},_registerComponent:function(){return jo},_removeServiceInstance:function(){return Bo},deleteApp:function(){return Xo},getApp:function(){return $o},getApps:function(){return Yo},initializeApp:function(){return Qo},onLog:function(){return eu},registerVersion:function(){return Zo},setLogLevel:function(){return tu}});var t=n(791),r=n.t(t,2),i=n(164);function a(e){if(Array.isArray(e))return e}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){return a(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||u(e,t)||s()}function l(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function h(e){var t,n,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=h(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function d(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=h(e))&&(r&&(r+=" "),r+=t);return r}function p(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(n&&n[r]&&e.push(n[r]),e.push(t(r))),e}),[]).join(" ")})),r}function v(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function m(e){return function(e){if(Array.isArray(e))return o(e)}(e)||v(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var y=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},g=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,k=y((function(e){return g.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));var b=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),w=Math.abs,x=String.fromCharCode,_=Object.assign;function I(e){return e.trim()}function E(e,t,n){return e.replace(t,n)}function S(e,t){return e.indexOf(t)}function T(e,t){return 0|e.charCodeAt(t)}function C(e,t,n){return e.slice(t,n)}function A(e){return e.length}function N(e){return e.length}function R(e,t){return t.push(e),e}var P=1,O=1,D=0,L=0,M=0,F="";function V(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:P,column:O,length:o,return:""}}function U(e,t){return _(V("",null,null,"",null,null,0),e,{length:-e.length},t)}function j(){return M=L>0?T(F,--L):0,O--,10===M&&(O=1,P--),M}function z(){return M=L<D?T(F,L++):0,O++,10===M&&(O=1,P++),M}function B(){return T(F,L)}function q(){return L}function K(e,t){return C(F,e,t)}function W(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function G(e){return P=O=1,D=A(F=e),L=0,[]}function H(e){return F="",e}function Q(e){return I(K(L-1,X(91===e?e+2:40===e?e+1:e)))}function $(e){for(;(M=B())&&M<33;)z();return W(e)>2||W(M)>3?"":" "}function Y(e,t){for(;--t&&z()&&!(M<48||M>102||M>57&&M<65||M>70&&M<97););return K(e,q()+(t<6&&32==B()&&32==z()))}function X(e){for(;z();)switch(M){case e:return L;case 34:case 39:34!==e&&39!==e&&X(M);break;case 40:41===e&&X(e);break;case 92:z()}return L}function J(e,t){for(;z()&&e+M!==57&&(e+M!==84||47!==B()););return"/*"+K(t,L-1)+"*"+x(47===e?e:z())}function Z(e){for(;!W(B());)z();return K(e,L)}var ee="-ms-",te="-moz-",ne="-webkit-",re="comm",ie="rule",ae="decl",oe="@keyframes";function ue(e,t){for(var n="",r=N(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function se(e,t,n,r){switch(e.type){case"@import":case ae:return e.return=e.return||e.value;case re:return"";case oe:return e.return=e.value+"{"+ue(e.children,r)+"}";case ie:e.value=e.props.join(",")}return A(n=ue(e.children,r))?e.return=e.value+"{"+n+"}":""}function ce(e,t){switch(function(e,t){return(((t<<2^T(e,0))<<2^T(e,1))<<2^T(e,2))<<2^T(e,3)}(e,t)){case 5103:return ne+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ne+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ne+e+te+e+ee+e+e;case 6828:case 4268:return ne+e+ee+e+e;case 6165:return ne+e+ee+"flex-"+e+e;case 5187:return ne+e+E(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return ne+e+ee+"flex-item-"+E(e,/flex-|-self/,"")+e;case 4675:return ne+e+ee+"flex-line-pack"+E(e,/align-content|flex-|-self/,"")+e;case 5548:return ne+e+ee+E(e,"shrink","negative")+e;case 5292:return ne+e+ee+E(e,"basis","preferred-size")+e;case 6060:return ne+"box-"+E(e,"-grow","")+ne+e+ee+E(e,"grow","positive")+e;case 4554:return ne+E(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return E(E(E(e,/(zoom-|grab)/,ne+"$1"),/(image-set)/,ne+"$1"),e,"")+e;case 5495:case 3959:return E(e,/(image-set\([^]*)/,ne+"$1$`$1");case 4968:return E(E(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+ne+e+e;case 4095:case 3583:case 4068:case 2532:return E(e,/(.+)-inline(.+)/,ne+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(A(e)-1-t>6)switch(T(e,t+1)){case 109:if(45!==T(e,t+4))break;case 102:return E(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+te+(108==T(e,t+3)?"$3":"$2-$3"))+e;case 115:return~S(e,"stretch")?ce(E(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==T(e,t+1))break;case 6444:switch(T(e,A(e)-3-(~S(e,"!important")&&10))){case 107:return E(e,":",":"+ne)+e;case 101:return E(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ne+(45===T(e,14)?"inline-":"")+"box$3$1"+ne+"$2$3$1"+ee+"$2box$3")+e}break;case 5936:switch(T(e,t+11)){case 114:return ne+e+ee+E(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ne+e+ee+E(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ne+e+ee+E(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ne+e+ee+e+e}return e}function le(e){return H(fe("",null,null,null,[""],e=G(e),0,[0],e))}function fe(e,t,n,r,i,a,o,u,s){for(var c=0,l=0,f=o,h=0,d=0,p=0,v=1,m=1,y=1,g=0,k="",b=i,w=a,_=r,I=k;m;)switch(p=g,g=z()){case 40:if(108!=p&&58==I.charCodeAt(f-1)){-1!=S(I+=E(Q(g),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:I+=Q(g);break;case 9:case 10:case 13:case 32:I+=$(p);break;case 92:I+=Y(q()-1,7);continue;case 47:switch(B()){case 42:case 47:R(de(J(z(),q()),t,n),s);break;default:I+="/"}break;case 123*v:u[c++]=A(I)*y;case 125*v:case 59:case 0:switch(g){case 0:case 125:m=0;case 59+l:d>0&&A(I)-f&&R(d>32?pe(I+";",r,n,f-1):pe(E(I," ","")+";",r,n,f-2),s);break;case 59:I+=";";default:if(R(_=he(I,t,n,c,l,i,u,k,b=[],w=[],f),a),123===g)if(0===l)fe(I,t,_,_,b,a,f,u,w);else switch(h){case 100:case 109:case 115:fe(e,_,_,r&&R(he(e,_,_,0,0,i,u,k,i,b=[],f),w),i,w,f,u,r?b:w);break;default:fe(I,_,_,_,[""],w,0,u,w)}}c=l=d=0,v=y=1,k=I="",f=o;break;case 58:f=1+A(I),d=p;default:if(v<1)if(123==g)--v;else if(125==g&&0==v++&&125==j())continue;switch(I+=x(g),g*v){case 38:y=l>0?1:(I+="\f",-1);break;case 44:u[c++]=(A(I)-1)*y,y=1;break;case 64:45===B()&&(I+=Q(z())),h=B(),l=f=A(k=I+=Z(q())),g++;break;case 45:45===p&&2==A(I)&&(v=0)}}return a}function he(e,t,n,r,i,a,o,u,s,c,l){for(var f=i-1,h=0===i?a:[""],d=N(h),p=0,v=0,m=0;p<r;++p)for(var y=0,g=C(e,f+1,f=w(v=o[p])),k=e;y<d;++y)(k=I(v>0?h[y]+" "+g:E(g,/&\f/g,h[y])))&&(s[m++]=k);return V(e,t,n,0===i?ie:u,s,c,l)}function de(e,t,n){return V(e,t,n,re,x(M),C(e,2,-2),0)}function pe(e,t,n,r){return V(e,t,n,ae,C(e,0,r),C(e,r+1,-1),r)}var ve=function(e,t,n){for(var r=0,i=0;r=i,i=B(),38===r&&12===i&&(t[n]=1),!W(i);)z();return K(e,L)},me=function(e,t){return H(function(e,t){var n=-1,r=44;do{switch(W(r)){case 0:38===r&&12===B()&&(t[n]=1),e[n]+=ve(L-1,t,n);break;case 2:e[n]+=Q(r);break;case 4:if(44===r){e[++n]=58===B()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=x(r)}}while(r=z());return e}(G(e),t))},ye=new WeakMap,ge=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||ye.get(n))&&!r){ye.set(e,!0);for(var i=[],a=me(t,i),o=n.props,u=0,s=0;u<a.length;u++)for(var c=0;c<o.length;c++,s++)e.props[s]=i[u]?a[u].replace(/&\f/g,o[c]):o[c]+" "+a[u]}}},ke=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},be=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case ae:e.return=ce(e.value,e.length);break;case oe:return ue([U(e,{value:E(e.value,"@","@"+ne)})],r);case ie:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ue([U(e,{props:[E(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return ue([U(e,{props:[E(t,/:(plac\w+)/,":-webkit-input-$1")]}),U(e,{props:[E(t,/:(plac\w+)/,":-moz-$1")]}),U(e,{props:[E(t,/:(plac\w+)/,ee+"input-$1")]})],r)}return""}))}}],we=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||be;var i,a,o={},u=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;u.push(e)}));var s,c,l=[se,(c=function(e){s.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],f=function(e){var t=N(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}([ge,ke].concat(r,l));a=function(e,t,n,r){s=n,ue(le(e?e+"{"+t.styles+"}":t.styles),f),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new b({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return h.sheet.hydrate(u),h};var xe=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},_e={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ie=/[A-Z]|^ms/g,Ee=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Se=function(e){return 45===e.charCodeAt(1)},Te=function(e){return null!=e&&"boolean"!==typeof e},Ce=y((function(e){return Se(e)?e:e.replace(Ie,"-$&").toLowerCase()})),Ae=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(Ee,(function(e,t,n){return Re={name:t,styles:n,next:Re},t}))}return 1===_e[e]||Se(e)||"number"!==typeof t||0===t?t:t+"px"};function Ne(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Re={name:n.name,styles:n.styles,next:Re},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Re={name:r.name,styles:r.styles,next:Re},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Ne(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":Te(o)&&(r+=Ce(a)+":"+Ae(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=Ne(e,t,o);switch(a){case"animation":case"animationName":r+=Ce(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var s=0;s<o.length;s++)Te(o[s])&&(r+=Ce(a)+":"+Ae(a,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=Re,a=n(e);return Re=i,Ne(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var Re,Pe=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var Oe=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";Re=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=Ne(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=Ne(n,t,e[o]),r&&(i+=a[o]);Pe.lastIndex=0;for(var u,s="";null!==(u=Pe.exec(i));)s+="-"+u[1];return{name:xe(i)+s,styles:i,next:Re}},De=(0,t.createContext)("undefined"!==typeof HTMLElement?we({key:"css"}):null);De.Provider;var Le=function(e){return(0,t.forwardRef)((function(n,r){var i=(0,t.useContext)(De);return e(n,i,r)}))},Me=(0,t.createContext)({});r.useInsertionEffect&&r.useInsertionEffect;function Fe(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var Ve=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},Ue=k,je=function(e){return"theme"!==e},ze=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?Ue:je},Be=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},qe=r.useInsertionEffect?r.useInsertionEffect:function(e){e()};var Ke=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;Ve(t,n,r);var i;i=function(){return function(e,t,n){Ve(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)},qe(i);return null},We=function e(n,r){var i,a,o=n.__emotion_real===n,u=o&&n.__emotion_base||n;void 0!==r&&(i=r.label,a=r.target);var s=Be(n,r,o),c=s||ze(u),l=!c("as");return function(){var h=arguments,d=o&&void 0!==n.__emotion_styles?n.__emotion_styles.slice(0):[];if(void 0!==i&&d.push("label:"+i+";"),null==h[0]||void 0===h[0].raw)d.push.apply(d,h);else{0,d.push(h[0][0]);for(var p=h.length,v=1;v<p;v++)d.push(h[v],h[0][v])}var m=Le((function(e,n,r){var i=l&&e.as||u,o="",f=[],h=e;if(null==e.theme){for(var p in h={},e)h[p]=e[p];h.theme=(0,t.useContext)(Me)}"string"===typeof e.className?o=Fe(n.registered,f,e.className):null!=e.className&&(o=e.className+" ");var v=Oe(d.concat(f),n.registered,h);o+=n.key+"-"+v.name,void 0!==a&&(o+=" "+a);var m=l&&void 0===s?ze(i):c,y={};for(var g in e)l&&"as"===g||m(g)&&(y[g]=e[g]);return y.className=o,y.ref=r,(0,t.createElement)(t.Fragment,null,(0,t.createElement)(Ke,{cache:n,serialized:v,isStringTag:"string"===typeof i}),(0,t.createElement)(i,y))}));return m.displayName=void 0!==i?i:"Styled("+("string"===typeof u?u:u.displayName||u.name||"Component")+")",m.defaultProps=n.defaultProps,m.__emotion_real=m,m.__emotion_base=u,m.__emotion_styles=d,m.__emotion_forwardProp=s,Object.defineProperty(m,"toString",{value:function(){return"."+a}}),m.withComponent=function(t,n){return e(t,f({},r,n,{shouldForwardProp:Be(m,n,!0)})).apply(void 0,d)},m}},Ge=We.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){Ge[e]=Ge(e)}));var He=Ge;function Qe(e,t){return He(e,t)}function $e(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function Ye(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?f({},e):e;return $e(e)&&$e(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&($e(t[i])&&i in e&&$e(e[i])?r[i]=Ye(e[i],t[i],n):r[i]=t[i])})),r}function Xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Je=["values","unit","step"];function Ze(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,u=l(e,Je),s=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return f({},e,Xe({},t.key,t.val))}),{})}(n),c=Object.keys(s);function h(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function d(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-o/100).concat(i,")")}function p(e,t){var r=c.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[c[r]]?n[c[r]]:t)-o/100).concat(i,")")}return f({keys:c,values:s,up:h,down:d,between:p,only:function(e){return c.indexOf(e)+1<c.length?p(e,c[c.indexOf(e)+1]):h(e)},not:function(e){var t=c.indexOf(e);return 0===t?h(c[1]):t===c.length-1?d(c[t]):p(e,c[c.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},u)}var et={borderRadius:4},tt={xs:0,sm:600,md:900,lg:1200,xl:1536},nt={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(tt[e],"px)")}};function rt(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||nt;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===typeof t){var a=r.breakpoints||nt;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(a.values||tt).indexOf(r)){e[a.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function it(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==t||null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function at(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function ot(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function ut(e){if("string"!==typeof e)throw new Error(ot(7));return e.charAt(0).toUpperCase()+e.slice(1)}function st(e,t){if(!t||"string"!==typeof t)return null;if(e&&e.vars){var n="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=n)return n}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function ct(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:st(e,n)||i,t&&(r=t(r)),r}var lt=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,o=function(e){if(null==e[t])return null;var n=e[t],o=st(e.theme,i)||{};return rt(e,n,(function(e){var n=ct(o,a,e);return e===n&&"string"===typeof e&&(n=ct(o,a,"".concat(t).concat("default"===e?"":ut(e)),e)),!1===r?n:Xe({},r,n)}))};return o.propTypes={},o.filterProps=[t],o};var ft=function(e,t){return t?Ye(e,t,{clone:!1}):e};var ht={m:"margin",p:"padding"},dt={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},pt={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},vt=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!pt[e])return[e];e=pt[e]}var t=c(e.split(""),2),n=t[0],r=t[1],i=ht[n],a=dt[r]||"";return Array.isArray(a)?a.map((function(e){return i+e})):[i+a]})),mt=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],yt=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],gt=[].concat(mt,yt);function kt(e,t,n,r){var i,a=null!=(i=st(e,t))?i:n;return"number"===typeof a?function(e){return"string"===typeof e?e:a*e}:Array.isArray(a)?function(e){return"string"===typeof e?e:a[e]}:"function"===typeof a?a:function(){}}function bt(e){return kt(e,"spacing",8)}function wt(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function xt(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=wt(t,n),e}),{})}}(vt(n),r);return rt(e,e[n],i)}function _t(e,t){var n=bt(e.theme);return Object.keys(e).map((function(r){return xt(e,t,r,n)})).reduce(ft,{})}function It(e){return _t(e,mt)}function Et(e){return _t(e,yt)}function St(e){return _t(e,gt)}It.propTypes={},It.filterProps=mt,Et.propTypes={},Et.filterProps=yt,St.propTypes={},St.filterProps=gt;var Tt=St;function Ct(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=bt({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=0===n.length?[1]:n;return i.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var At=["breakpoints","palette","spacing","shape"];var Nt=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.spacing,o=e.shape,u=void 0===o?{}:o,s=l(e,At),c=Ze(n),h=Ct(a),d=Ye({breakpoints:c,direction:"ltr",components:{},palette:f({mode:"light"},i),spacing:h,shape:f({},et,u)},s),p=arguments.length,v=new Array(p>1?p-1:0),m=1;m<p;m++)v[m-1]=arguments[m];return d=v.reduce((function(e,t){return Ye(e,t)}),d)},Rt=["variant"];function Pt(e){return 0===e.length}function Ot(e){var t=e.variant,n=l(e,Rt),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?Pt(r)?e[t]:ut(e[t]):"".concat(Pt(r)?t:ut(t)).concat(ut(e[t].toString()))})),r}var Dt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?ft(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function Lt(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var Mt=lt({prop:"border",themeKey:"borders",transform:Lt}),Ft=lt({prop:"borderTop",themeKey:"borders",transform:Lt}),Vt=lt({prop:"borderRight",themeKey:"borders",transform:Lt}),Ut=lt({prop:"borderBottom",themeKey:"borders",transform:Lt}),jt=lt({prop:"borderLeft",themeKey:"borders",transform:Lt}),zt=lt({prop:"borderColor",themeKey:"palette"}),Bt=lt({prop:"borderTopColor",themeKey:"palette"}),qt=lt({prop:"borderRightColor",themeKey:"palette"}),Kt=lt({prop:"borderBottomColor",themeKey:"palette"}),Wt=lt({prop:"borderLeftColor",themeKey:"palette"}),Gt=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=kt(e.theme,"shape.borderRadius",4);return rt(e,e.borderRadius,(function(e){return{borderRadius:wt(t,e)}}))}return null};Gt.propTypes={},Gt.filterProps=["borderRadius"];var Ht=Dt(Mt,Ft,Vt,Ut,jt,zt,Bt,qt,Kt,Wt,Gt),Qt=Dt(lt({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),lt({prop:"display"}),lt({prop:"overflow"}),lt({prop:"textOverflow"}),lt({prop:"visibility"}),lt({prop:"whiteSpace"})),$t=Dt(lt({prop:"flexBasis"}),lt({prop:"flexDirection"}),lt({prop:"flexWrap"}),lt({prop:"justifyContent"}),lt({prop:"alignItems"}),lt({prop:"alignContent"}),lt({prop:"order"}),lt({prop:"flex"}),lt({prop:"flexGrow"}),lt({prop:"flexShrink"}),lt({prop:"alignSelf"}),lt({prop:"justifyItems"}),lt({prop:"justifySelf"})),Yt=function(e){if(void 0!==e.gap&&null!==e.gap){var t=kt(e.theme,"spacing",8);return rt(e,e.gap,(function(e){return{gap:wt(t,e)}}))}return null};Yt.propTypes={},Yt.filterProps=["gap"];var Xt=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=kt(e.theme,"spacing",8);return rt(e,e.columnGap,(function(e){return{columnGap:wt(t,e)}}))}return null};Xt.propTypes={},Xt.filterProps=["columnGap"];var Jt=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=kt(e.theme,"spacing",8);return rt(e,e.rowGap,(function(e){return{rowGap:wt(t,e)}}))}return null};Jt.propTypes={},Jt.filterProps=["rowGap"];var Zt=Dt(Yt,Xt,Jt,lt({prop:"gridColumn"}),lt({prop:"gridRow"}),lt({prop:"gridAutoFlow"}),lt({prop:"gridAutoColumns"}),lt({prop:"gridAutoRows"}),lt({prop:"gridTemplateColumns"}),lt({prop:"gridTemplateRows"}),lt({prop:"gridTemplateAreas"}),lt({prop:"gridArea"})),en=Dt(lt({prop:"position"}),lt({prop:"zIndex",themeKey:"zIndex"}),lt({prop:"top"}),lt({prop:"right"}),lt({prop:"bottom"}),lt({prop:"left"})),tn=Dt(lt({prop:"color",themeKey:"palette"}),lt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),lt({prop:"backgroundColor",themeKey:"palette"})),nn=lt({prop:"boxShadow",themeKey:"shadows"});function rn(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var an=lt({prop:"width",transform:rn}),on=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return rt(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||tt[t]||rn(t)}}))}return null};on.filterProps=["maxWidth"];var un=lt({prop:"minWidth",transform:rn}),sn=lt({prop:"height",transform:rn}),cn=lt({prop:"maxHeight",transform:rn}),ln=lt({prop:"minHeight",transform:rn}),fn=(lt({prop:"size",cssProperty:"width",transform:rn}),lt({prop:"size",cssProperty:"height",transform:rn}),Dt(an,on,un,sn,cn,ln,lt({prop:"boxSizing"}))),hn=lt({prop:"fontFamily",themeKey:"typography"}),dn=lt({prop:"fontSize",themeKey:"typography"}),pn=lt({prop:"fontStyle",themeKey:"typography"}),vn=lt({prop:"fontWeight",themeKey:"typography"}),mn=lt({prop:"letterSpacing"}),yn=lt({prop:"textTransform"}),gn=lt({prop:"lineHeight"}),kn=lt({prop:"textAlign"}),bn=Dt(lt({prop:"typography",cssProperty:!1,themeKey:"typography"}),hn,dn,pn,vn,mn,gn,kn,yn),wn={borders:Ht.filterProps,display:Qt.filterProps,flexbox:$t.filterProps,grid:Zt.filterProps,positions:en.filterProps,palette:tn.filterProps,shadows:nn.filterProps,sizing:fn.filterProps,spacing:Tt.filterProps,typography:bn.filterProps},xn={borders:Ht,display:Qt,flexbox:$t,grid:Zt,positions:en,palette:tn,shadows:nn,sizing:fn,spacing:Tt,typography:bn};Object.keys(wn).reduce((function(e,t){return wn[t].forEach((function(n){e[n]=xn[t]})),e}),{});function _n(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}function In(e,t){return"function"===typeof e?e(t):e}var En=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xn,t=Object.keys(e).reduce((function(t,n){return e[n].filterProps.forEach((function(r){t[r]=e[n]})),t}),{});function n(e,n,r){var i,a=(Xe(i={},e,n),Xe(i,"theme",r),i),o=t[e];return o?o(a):Xe({},e,n)}function r(e){var i=e||{},a=i.sx,o=i.theme,u=void 0===o?{}:o;if(!a)return null;function s(e){var i=e;if("function"===typeof e)i=e(u);else if("object"!==typeof e)return e;if(!i)return null;var a=it(u.breakpoints),o=Object.keys(a),s=a;return Object.keys(i).forEach((function(e){var a=In(i[e],u);if(null!==a&&void 0!==a)if("object"===typeof a)if(t[e])s=ft(s,n(e,a,u));else{var o=rt({theme:u},a,(function(t){return Xe({},e,t)}));_n(o,a)?s[e]=r({sx:a,theme:u}):s=ft(s,o)}else s=ft(s,n(e,a,u))})),at(o,s)}return Array.isArray(a)?a.map(s):s(a)}return r}();En.filterProps=["sx"];var Sn=En,Tn=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],Cn=["theme"],An=["theme"];function Nn(e){return 0===Object.keys(e).length}var Rn=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},Pn=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=Ot(e.props);r[t]=e.style})),r},On=function(e,t,n,r){var i,a,o=e.ownerState,u=void 0===o?{}:o,s=[],c=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){u[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&s.push(t[Ot(n.props)])})),s};function Dn(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var Ln=Nt();function Mn(e,t,n){var r;return f({toolbar:(r={minHeight:56},Xe(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),Xe(r,e.up("sm"),{minHeight:64}),r)},n)}function Fn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function Vn(e){if(e.type)return e;if("#"===e.charAt(0))return Vn(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(ot(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(ot(10,r))}else i=i.split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:r}}function Un(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function jn(e){var t="hsl"===(e=Vn(e)).type?Vn(function(e){var t=(e=Vn(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",s=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(u+="a",s.push(t[3])),Un({type:u,values:s})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function zn(e,t){return e=Vn(e),t=Fn(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,Un(e)}function Bn(e,t){if(e=Vn(e),t=Fn(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return Un(e)}function qn(e,t){if(e=Vn(e),t=Fn(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return Un(e)}var Kn={black:"#000",white:"#fff"},Wn={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Gn={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Hn={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Qn={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},$n={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Yn={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Xn={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Jn=["mode","contrastThreshold","tonalOffset"],Zn={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Kn.white,default:Kn.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},er={text:{primary:Kn.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Kn.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function tr(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=qn(e.main,i):"dark"===t&&(e.dark=Bn(e.main,a)))}function nr(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,i=void 0===r?3:r,a=e.tonalOffset,o=void 0===a?.2:a,u=l(e,Jn),s=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:$n[200],light:$n[50],dark:$n[400]}:{main:$n[700],light:$n[400],dark:$n[800]}}(n),c=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Gn[200],light:Gn[50],dark:Gn[400]}:{main:Gn[500],light:Gn[300],dark:Gn[700]}}(n),h=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Hn[500],light:Hn[300],dark:Hn[700]}:{main:Hn[700],light:Hn[400],dark:Hn[800]}}(n),d=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Yn[400],light:Yn[300],dark:Yn[700]}:{main:Yn[700],light:Yn[500],dark:Yn[900]}}(n),p=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Xn[400],light:Xn[300],dark:Xn[700]}:{main:Xn[800],light:Xn[500],dark:Xn[900]}}(n),v=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Qn[400],light:Qn[300],dark:Qn[700]}:{main:"#ed6c02",light:Qn[500],dark:Qn[900]}}(n);function m(e){var t=function(e,t){var n=jn(e),r=jn(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,er.text.primary)>=i?er.text.primary:Zn.text.primary;return t}var y=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,a=e.lightShade,u=void 0===a?300:a,s=e.darkShade,c=void 0===s?700:s;if(!(t=f({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(ot(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(ot(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return tr(t,"light",u,o),tr(t,"dark",c,o),t.contrastText||(t.contrastText=m(t.main)),t},g={dark:er,light:Zn};return Ye(f({common:Kn,mode:n,primary:y({color:s,name:"primary"}),secondary:y({color:c,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:y({color:h,name:"error"}),warning:y({color:v,name:"warning"}),info:y({color:d,name:"info"}),success:y({color:p,name:"success"}),grey:Wn,contrastThreshold:i,getContrastText:m,augmentColor:y,tonalOffset:o},g[n]),u)}var rr=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var ir={textTransform:"uppercase"},ar='"Roboto", "Helvetica", "Arial", sans-serif';function or(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?ar:r,a=n.fontSize,o=void 0===a?14:a,u=n.fontWeightLight,s=void 0===u?300:u,c=n.fontWeightRegular,h=void 0===c?400:c,d=n.fontWeightMedium,p=void 0===d?500:d,v=n.fontWeightBold,m=void 0===v?700:v,y=n.htmlFontSize,g=void 0===y?16:y,k=n.allVariants,b=n.pxToRem,w=l(n,rr);var x=o/14,_=b||function(e){return"".concat(e/g*x,"rem")},I=function(e,t,n,r,a){return f({fontFamily:i,fontWeight:e,fontSize:_(t),lineHeight:n},i===ar?{letterSpacing:"".concat((o=r/t,Math.round(1e5*o)/1e5),"em")}:{},a,k);var o},E={h1:I(s,96,1.167,-1.5),h2:I(s,60,1.2,-.5),h3:I(h,48,1.167,0),h4:I(h,34,1.235,.25),h5:I(h,24,1.334,0),h6:I(p,20,1.6,.15),subtitle1:I(h,16,1.75,.15),subtitle2:I(p,14,1.57,.1),body1:I(h,16,1.5,.15),body2:I(h,14,1.43,.15),button:I(p,14,1.75,.4,ir),caption:I(h,12,1.66,.4),overline:I(h,12,2.66,1,ir)};return Ye(f({htmlFontSize:g,pxToRem:_,fontFamily:i,fontSize:o,fontWeightLight:s,fontWeightRegular:h,fontWeightMedium:p,fontWeightBold:m},E),w,{clone:!1})}function ur(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var sr=["none",ur(0,2,1,-1,0,1,1,0,0,1,3,0),ur(0,3,1,-2,0,2,2,0,0,1,5,0),ur(0,3,3,-2,0,3,4,0,0,1,8,0),ur(0,2,4,-1,0,4,5,0,0,1,10,0),ur(0,3,5,-1,0,5,8,0,0,1,14,0),ur(0,3,5,-1,0,6,10,0,0,1,18,0),ur(0,4,5,-2,0,7,10,1,0,2,16,1),ur(0,5,5,-3,0,8,10,1,0,3,14,2),ur(0,5,6,-3,0,9,12,1,0,3,16,2),ur(0,6,6,-3,0,10,14,1,0,4,18,3),ur(0,6,7,-4,0,11,15,1,0,4,20,3),ur(0,7,8,-4,0,12,17,2,0,5,22,4),ur(0,7,8,-4,0,13,19,2,0,5,24,4),ur(0,7,9,-4,0,14,21,2,0,5,26,4),ur(0,8,9,-5,0,15,22,2,0,6,28,5),ur(0,8,10,-5,0,16,24,2,0,6,30,5),ur(0,8,11,-5,0,17,26,2,0,6,32,5),ur(0,9,11,-5,0,18,28,2,0,7,34,6),ur(0,9,12,-6,0,19,29,2,0,7,36,6),ur(0,10,13,-6,0,20,31,3,0,8,38,7),ur(0,10,13,-6,0,21,33,3,0,8,40,7),ur(0,10,14,-6,0,22,35,3,0,8,42,7),ur(0,11,14,-7,0,23,36,3,0,9,44,8),ur(0,11,15,-7,0,24,38,3,0,9,46,8)],cr=["duration","easing","delay"],lr={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},fr={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function hr(e){return"".concat(Math.round(e),"ms")}function dr(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function pr(e){var t=f({},lr,e.easing),n=f({},fr,e.duration);return f({getAutoHeightDuration:dr,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,a=void 0===i?n.standard:i,o=r.easing,u=void 0===o?t.easeInOut:o,s=r.delay,c=void 0===s?0:s;l(r,cr);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof a?a:hr(a)," ").concat(u," ").concat("string"===typeof c?c:hr(c))})).join(",")}},e,{easing:t,duration:n})}var vr={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},mr=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function yr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.transitions,o=void 0===a?{}:a,u=e.typography,s=void 0===u?{}:u,c=l(e,mr),h=nr(i),d=Nt(e),p=Ye(d,{mixins:Mn(d.breakpoints,d.spacing,n),palette:h,shadows:sr.slice(),typography:or(h,s),transitions:pr(o),zIndex:f({},vr)});p=Ye(p,c);for(var v=arguments.length,m=new Array(v>1?v-1:0),y=1;y<v;y++)m[y-1]=arguments[y];return p=m.reduce((function(e,t){return Ye(e,t)}),p)}var gr=yr(),kr=function(e){return Dn(e)&&"classes"!==e},br=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?Ln:t,r=e.rootShouldForwardProp,i=void 0===r?Dn:r,a=e.slotShouldForwardProp,o=void 0===a?Dn:a,u=e.styleFunctionSx,s=void 0===u?Sn:u;return function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.name,u=r.slot,h=r.skipVariantsResolver,d=r.skipSx,p=r.overridesResolver,v=l(r,Tn),y=void 0!==h?h:u&&"Root"!==u||!1,g=d||!1;var k=Dn;"Root"===u?k=i:u&&(k=o);var b=Qe(e,f({shouldForwardProp:k,label:t},v)),w=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];var o=r?r.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=l(t,Cn);return e(f({theme:Nn(r)?n:r},i))}:e})):[],u=e;a&&p&&o.push((function(e){var t=Nn(e.theme)?n:e.theme,r=Rn(a,t);if(r){var i={};return Object.entries(r).forEach((function(t){var n=c(t,2),r=n[0],a=n[1];i[r]="function"===typeof a?a(e):a})),p(e,i)}return null})),a&&!y&&o.push((function(e){var t=Nn(e.theme)?n:e.theme;return On(e,Pn(a,t),t,a)})),g||o.push((function(e){var t=Nn(e.theme)?n:e.theme;return s(f({},e,{theme:t}))}));var h=o.length-r.length;if(Array.isArray(e)&&h>0){var d=new Array(h).fill("");(u=[].concat(m(e),m(d))).raw=[].concat(m(e.raw),m(d))}else"function"===typeof e&&e.__emotion_real!==e&&(u=function(t){var r=t.theme,i=l(t,An);return e(f({theme:Nn(r)?n:r},i))});var v=b.apply(void 0,[u].concat(m(o)));return v};return b.withConfig&&(w.withConfig=b.withConfig),w}}({defaultTheme:gr,rootShouldForwardProp:kr}),wr=br;function xr(e,t){var n=f({},t);return Object.keys(e).forEach((function(t){void 0===n[t]&&(n[t]=e[t])})),n}var _r=t.createContext(null);function Ir(){return t.useContext(_r)}function Er(e){return 0===Object.keys(e).length}var Sr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Ir();return!t||Er(t)?e:t},Tr=Nt();var Cr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tr;return Sr(e)};function Ar(e){var t=e.props,n=e.name,r=e.defaultTheme,i=function(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?xr(t.components[n].defaultProps,r):r}({theme:Cr(r),name:n,props:t});return i}function Nr(e){return Ar({props:e.props,name:e.name,defaultTheme:gr})}var Rr=ut,Pr=function(e){return e},Or=function(){var e=Pr;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=Pr}}}(),Dr={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function Lr(e,t){return Dr[t]||"".concat(Or.generate(e),"-").concat(t)}function Mr(e,t){var n={};return t.forEach((function(t){n[t]=Lr(e,t)})),n}function Fr(e){return Lr("MuiSvgIcon",e)}Mr("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var Vr=n(184),Ur=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],jr=wr("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat(Rr(n.color))],t["fontSize".concat(Rr(n.fontSize))]]}})((function(e){var t,n,r,i,a,o,u,s,c,l,f,h,d,p,v,m,y,g=e.theme,k=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=g.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=g.transitions)||null==(i=r.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(a=g.typography)||null==(o=a.pxToRem)?void 0:o.call(a,20))||"1.25rem",medium:(null==(u=g.typography)||null==(s=u.pxToRem)?void 0:s.call(u,24))||"1.5rem",large:(null==(c=g.typography)||null==(l=c.pxToRem)?void 0:l.call(c,35))||"2.1875"}[k.fontSize],color:null!=(f=null==(h=g.palette)||null==(d=h[k.color])?void 0:d.main)?f:{action:null==(p=g.palette)||null==(v=p.action)?void 0:v.active,disabled:null==(m=g.palette)||null==(y=m.action)?void 0:y.disabled,inherit:void 0}[k.color]}})),zr=t.forwardRef((function(e,t){var n=Nr({props:e,name:"MuiSvgIcon"}),r=n.children,i=n.className,a=n.color,o=void 0===a?"inherit":a,u=n.component,s=void 0===u?"svg":u,c=n.fontSize,h=void 0===c?"medium":c,v=n.htmlColor,m=n.inheritViewBox,y=void 0!==m&&m,g=n.titleAccess,k=n.viewBox,b=void 0===k?"0 0 24 24":k,w=l(n,Ur),x=f({},n,{color:o,component:s,fontSize:h,instanceFontSize:e.fontSize,inheritViewBox:y,viewBox:b}),_={};y||(_.viewBox=b);var I=function(e){var t=e.color,n=e.fontSize,r=e.classes;return p({root:["root","inherit"!==t&&"color".concat(Rr(t)),"fontSize".concat(Rr(n))]},Fr,r)}(x);return(0,Vr.jsxs)(jr,f({as:s,className:d(I.root,i),ownerState:x,focusable:"false",color:v,"aria-hidden":!g||void 0,role:g?"img":void 0,ref:t},_,w,{children:[r,g?(0,Vr.jsx)("title",{children:g}):null]}))}));zr.muiName="SvgIcon";var Br=zr;function qr(e,n){var r=function(t,r){return(0,Vr.jsx)(Br,f({"data-testid":"".concat(n,"Icon"),ref:r},t,{children:e}))};return r.muiName=Br.muiName,t.memo(t.forwardRef(r))}var Kr=qr((0,Vr.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function Wr(e){return Lr("MuiAvatar",e)}Mr("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var Gr=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],Hr=wr("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})((function(e){var t=e.theme,n=e.ownerState;return f({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===n.variant&&{borderRadius:t.shape.borderRadius},"square"===n.variant&&{borderRadius:0},n.colorDefault&&{color:t.palette.background.default,backgroundColor:"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[600]})})),Qr=wr("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(e,t){return t.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),$r=wr(Kr,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(e,t){return t.fallback}})({width:"75%",height:"75%"});var Yr=t.forwardRef((function(e,n){var r=Nr({props:e,name:"MuiAvatar"}),i=r.alt,a=r.children,o=r.className,u=r.component,s=void 0===u?"div":u,h=r.imgProps,v=r.sizes,m=r.src,y=r.srcSet,g=r.variant,k=void 0===g?"circular":g,b=l(r,Gr),w=null,x=function(e){var n=e.crossOrigin,r=e.referrerPolicy,i=e.src,a=e.srcSet,o=c(t.useState(!1),2),u=o[0],s=o[1];return t.useEffect((function(){if(i||a){s(!1);var e=!0,t=new Image;return t.onload=function(){e&&s("loaded")},t.onerror=function(){e&&s("error")},t.crossOrigin=n,t.referrerPolicy=r,t.src=i,a&&(t.srcset=a),function(){e=!1}}}),[n,r,i,a]),u}(f({},h,{src:m,srcSet:y})),_=m||y,I=_&&"error"!==x,E=f({},r,{colorDefault:!I,component:s,variant:k}),S=function(e){var t=e.classes;return p({root:["root",e.variant,e.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]},Wr,t)}(E);return w=I?(0,Vr.jsx)(Qr,f({alt:i,src:m,srcSet:y,sizes:v,ownerState:E,className:S.img},h)):null!=a?a:_&&i?i[0]:(0,Vr.jsx)($r,{className:S.fallback}),(0,Vr.jsx)(Hr,f({as:s,ownerState:E,className:d(S.root,o),ref:n},b,{children:w}))})),Xr=Yr;function Jr(e,t){"function"===typeof e?e(t):e&&(e.current=t)}var Zr=function(e,n){return t.useMemo((function(){return null==e&&null==n?null:function(t){Jr(e,t),Jr(n,t)}}),[e,n])},ei="undefined"!==typeof window?t.useLayoutEffect:t.useEffect;var ti,ni=function(e){var n=t.useRef(e);return ei((function(){n.current=e})),t.useCallback((function(){return n.current.apply(void 0,arguments)}),[])},ri=!0,ii=!1,ai={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function oi(e){e.metaKey||e.altKey||e.ctrlKey||(ri=!0)}function ui(){ri=!1}function si(){"hidden"===this.visibilityState&&ii&&(ri=!0)}function ci(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return ri||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!ai[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var li=function(){var e=t.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",oi,!0),t.addEventListener("mousedown",ui,!0),t.addEventListener("pointerdown",ui,!0),t.addEventListener("touchstart",ui,!0),t.addEventListener("visibilitychange",si,!0))}),[]),n=t.useRef(!1);return{isFocusVisibleRef:n,onFocus:function(e){return!!ci(e)&&(n.current=!0,!0)},onBlur:function(){return!!n.current&&(ii=!0,window.clearTimeout(ti),ti=window.setTimeout((function(){ii=!1}),100),n.current=!1,!0)},ref:e}};function fi(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function hi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function di(e,t){return di=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},di(e,t)}function pi(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,di(e,t)}var vi=t.createContext(null);function mi(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function yi(e,t,n){return null!=n[t]?n[t]:e.props[t]}function gi(e,n,r){var i=mi(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var c=i[s][r];u[i[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<a.length;r++)u[a[r]]=n(a[r]);return u}(n,i);return Object.keys(a).forEach((function(o){var u=a[o];if((0,t.isValidElement)(u)){var s=o in n,c=o in i,l=n[o],f=(0,t.isValidElement)(l)&&!l.props.in;!c||s&&!f?c||!s||f?c&&s&&(0,t.isValidElement)(l)&&(a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:l.props.in,exit:yi(u,"exit",e),enter:yi(u,"enter",e)})):a[o]=(0,t.cloneElement)(u,{in:!1}):a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:!0,exit:yi(u,"exit",e),enter:yi(u,"enter",e)})}})),a}var ki=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},bi=function(e){function n(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(hi(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}pi(n,e);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,n){var r,i,a=n.children,o=n.handleExited;return{children:n.firstRender?(r=e,i=o,mi(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:yi(e,"appear",r),enter:yi(e,"enter",r),exit:yi(e,"exit",r)})}))):gi(e,a,o),firstRender:!1}},r.handleExited=function(e,t){var n=mi(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=f({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=l(e,["component","childFactory"]),a=this.state.contextValue,o=ki(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement(vi.Provider,{value:a},o):t.createElement(vi.Provider,{value:a},t.createElement(n,i,o))},n}(t.Component);bi.propTypes={},bi.defaultProps={component:"div",childFactory:function(e){return e}};var wi=bi;n(110),r.useInsertionEffect?r.useInsertionEffect:t.useLayoutEffect;function xi(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Oe(t)}var _i=function(){var e=xi.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var Ii=function(e){var n=e.className,r=e.classes,i=e.pulsate,a=void 0!==i&&i,o=e.rippleX,u=e.rippleY,s=e.rippleSize,l=e.in,f=e.onExited,h=e.timeout,p=c(t.useState(!1),2),v=p[0],m=p[1],y=d(n,r.ripple,r.rippleVisible,a&&r.ripplePulsate),g={width:s,height:s,top:-s/2+u,left:-s/2+o},k=d(r.child,v&&r.childLeaving,a&&r.childPulsate);return l||v||m(!0),t.useEffect((function(){if(!l&&null!=f){var e=setTimeout(f,h);return function(){clearTimeout(e)}}}),[f,l,h]),(0,Vr.jsx)("span",{className:y,style:g,children:(0,Vr.jsx)("span",{className:k})})};var Ei,Si,Ti,Ci,Ai,Ni,Ri,Pi,Oi=Mr("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Di=["center","classes","className"],Li=_i(Ai||(Ai=Ei||(Ei=fi(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),Mi=_i(Ni||(Ni=Si||(Si=fi(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),Fi=_i(Ri||(Ri=Ti||(Ti=fi(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),Vi=wr("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Ui=wr(Ii,{name:"MuiTouchRipple",slot:"Ripple"})(Pi||(Pi=Ci||(Ci=fi(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),Oi.rippleVisible,Li,550,(function(e){return e.theme.transitions.easing.easeInOut}),Oi.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),Oi.child,Oi.childLeaving,Mi,550,(function(e){return e.theme.transitions.easing.easeInOut}),Oi.childPulsate,Fi,(function(e){return e.theme.transitions.easing.easeInOut})),ji=t.forwardRef((function(e,n){var r=Nr({props:e,name:"MuiTouchRipple"}),i=r.center,a=void 0!==i&&i,o=r.classes,u=void 0===o?{}:o,s=r.className,h=l(r,Di),p=c(t.useState([]),2),v=p[0],y=p[1],g=t.useRef(0),k=t.useRef(null);t.useEffect((function(){k.current&&(k.current(),k.current=null)}),[v]);var b=t.useRef(!1),w=t.useRef(null),x=t.useRef(null),_=t.useRef(null);t.useEffect((function(){return function(){clearTimeout(w.current)}}),[]);var I=t.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,a=e.cb;y((function(e){return[].concat(m(e),[(0,Vr.jsx)(Ui,{classes:{ripple:d(u.ripple,Oi.ripple),rippleVisible:d(u.rippleVisible,Oi.rippleVisible),ripplePulsate:d(u.ripplePulsate,Oi.ripplePulsate),child:d(u.child,Oi.child),childLeaving:d(u.childLeaving,Oi.childLeaving),childPulsate:d(u.childPulsate,Oi.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},g.current)])})),g.current+=1,k.current=a}),[u]),E=t.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,o=t.center,u=void 0===o?a||t.pulsate:o,s=t.fakeElement,c=void 0!==s&&s;if("mousedown"===e.type&&b.current)b.current=!1;else{"touchstart"===e.type&&(b.current=!0);var l,f,h,d=c?null:_.current,p=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(u||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches?e.touches[0]:e,m=v.clientX,y=v.clientY;l=Math.round(m-p.left),f=Math.round(y-p.top)}if(u)(h=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(h+=1);else{var g=2*Math.max(Math.abs((d?d.clientWidth:0)-l),l)+2,k=2*Math.max(Math.abs((d?d.clientHeight:0)-f),f)+2;h=Math.sqrt(Math.pow(g,2)+Math.pow(k,2))}e.touches?null===x.current&&(x.current=function(){I({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})},w.current=setTimeout((function(){x.current&&(x.current(),x.current=null)}),80)):I({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})}}),[a,I]),S=t.useCallback((function(){E({},{pulsate:!0})}),[E]),T=t.useCallback((function(e,t){if(clearTimeout(w.current),"touchend"===e.type&&x.current)return x.current(),x.current=null,void(w.current=setTimeout((function(){T(e,t)})));x.current=null,y((function(e){return e.length>0?e.slice(1):e})),k.current=t}),[]);return t.useImperativeHandle(n,(function(){return{pulsate:S,start:E,stop:T}}),[S,E,T]),(0,Vr.jsx)(Vi,f({className:d(u.root,Oi.root,s),ref:_},h,{children:(0,Vr.jsx)(wi,{component:null,exit:!0,children:v})}))})),zi=ji;function Bi(e){return Lr("MuiButtonBase",e)}var qi,Ki=Mr("MuiButtonBase",["root","disabled","focusVisible"]),Wi=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Gi=wr("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((Xe(qi={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(Ki.disabled),{pointerEvents:"none",cursor:"default"}),Xe(qi,"@media print",{colorAdjust:"exact"}),qi)),Hi=t.forwardRef((function(e,n){var r=Nr({props:e,name:"MuiButtonBase"}),i=r.action,a=r.centerRipple,o=void 0!==a&&a,u=r.children,s=r.className,h=r.component,v=void 0===h?"button":h,m=r.disabled,y=void 0!==m&&m,g=r.disableRipple,k=void 0!==g&&g,b=r.disableTouchRipple,w=void 0!==b&&b,x=r.focusRipple,_=void 0!==x&&x,I=r.LinkComponent,E=void 0===I?"a":I,S=r.onBlur,T=r.onClick,C=r.onContextMenu,A=r.onDragLeave,N=r.onFocus,R=r.onFocusVisible,P=r.onKeyDown,O=r.onKeyUp,D=r.onMouseDown,L=r.onMouseLeave,M=r.onMouseUp,F=r.onTouchEnd,V=r.onTouchMove,U=r.onTouchStart,j=r.tabIndex,z=void 0===j?0:j,B=r.TouchRippleProps,q=r.touchRippleRef,K=r.type,W=l(r,Wi),G=t.useRef(null),H=t.useRef(null),Q=Zr(H,q),$=li(),Y=$.isFocusVisibleRef,X=$.onFocus,J=$.onBlur,Z=$.ref,ee=c(t.useState(!1),2),te=ee[0],ne=ee[1];y&&te&&ne(!1),t.useImperativeHandle(i,(function(){return{focusVisible:function(){ne(!0),G.current.focus()}}}),[]);var re=c(t.useState(!1),2),ie=re[0],ae=re[1];t.useEffect((function(){ae(!0)}),[]);var oe=ie&&!k&&!y;function ue(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w;return ni((function(r){return t&&t(r),!n&&H.current&&H.current[e](r),!0}))}t.useEffect((function(){te&&_&&!k&&ie&&H.current.pulsate()}),[k,_,te,ie]);var se=ue("start",D),ce=ue("stop",C),le=ue("stop",A),fe=ue("stop",M),he=ue("stop",(function(e){te&&e.preventDefault(),L&&L(e)})),de=ue("start",U),pe=ue("stop",F),ve=ue("stop",V),me=ue("stop",(function(e){J(e),!1===Y.current&&ne(!1),S&&S(e)}),!1),ye=ni((function(e){G.current||(G.current=e.currentTarget),X(e),!0===Y.current&&(ne(!0),R&&R(e)),N&&N(e)})),ge=function(){var e=G.current;return v&&"button"!==v&&!("A"===e.tagName&&e.href)},ke=t.useRef(!1),be=ni((function(e){_&&!ke.current&&te&&H.current&&" "===e.key&&(ke.current=!0,H.current.stop(e,(function(){H.current.start(e)}))),e.target===e.currentTarget&&ge()&&" "===e.key&&e.preventDefault(),P&&P(e),e.target===e.currentTarget&&ge()&&"Enter"===e.key&&!y&&(e.preventDefault(),T&&T(e))})),we=ni((function(e){_&&" "===e.key&&H.current&&te&&!e.defaultPrevented&&(ke.current=!1,H.current.stop(e,(function(){H.current.pulsate(e)}))),O&&O(e),T&&e.target===e.currentTarget&&ge()&&" "===e.key&&!e.defaultPrevented&&T(e)})),xe=v;"button"===xe&&(W.href||W.to)&&(xe=E);var _e={};"button"===xe?(_e.type=void 0===K?"button":K,_e.disabled=y):(W.href||W.to||(_e.role="button"),y&&(_e["aria-disabled"]=y));var Ie=Zr(Z,G),Ee=Zr(n,Ie);var Se=f({},r,{centerRipple:o,component:v,disabled:y,disableRipple:k,disableTouchRipple:w,focusRipple:_,tabIndex:z,focusVisible:te}),Te=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,i=p({root:["root",t&&"disabled",n&&"focusVisible"]},Bi,e.classes);return n&&r&&(i.root+=" ".concat(r)),i}(Se);return(0,Vr.jsxs)(Gi,f({as:xe,className:d(Te.root,s),ownerState:Se,onBlur:me,onClick:T,onContextMenu:ce,onFocus:ye,onKeyDown:be,onKeyUp:we,onMouseDown:se,onMouseLeave:he,onMouseUp:fe,onDragLeave:le,onTouchEnd:pe,onTouchMove:ve,onTouchStart:de,ref:Ee,tabIndex:y?-1:z,type:K},_e,W,{children:[u,oe?(0,Vr.jsx)(zi,f({ref:Q,center:o},B)):null]}))})),Qi=Hi;function $i(e){return Lr("MuiIconButton",e)}var Yi=Mr("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Xi=["edge","children","className","color","disabled","disableFocusRipple","size"],Ji=wr(Qi,{name:"MuiIconButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"default"!==n.color&&t["color".concat(Rr(n.color))],n.edge&&t["edge".concat(Rr(n.edge))],t["size".concat(Rr(n.size))]]}})((function(e){var t=e.theme,n=e.ownerState;return f({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:t.palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:zn(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})}),(function(e){var t=e.theme,n=e.ownerState;return f({},"inherit"===n.color&&{color:"inherit"},"inherit"!==n.color&&"default"!==n.color&&f({color:t.palette[n.color].main},!n.disableRipple&&{"&:hover":{backgroundColor:zn(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}),"small"===n.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===n.size&&{padding:12,fontSize:t.typography.pxToRem(28)},Xe({},"&.".concat(Yi.disabled),{backgroundColor:"transparent",color:t.palette.action.disabled}))})),Zi=t.forwardRef((function(e,t){var n=Nr({props:e,name:"MuiIconButton"}),r=n.edge,i=void 0!==r&&r,a=n.children,o=n.className,u=n.color,s=void 0===u?"default":u,c=n.disabled,h=void 0!==c&&c,v=n.disableFocusRipple,m=void 0!==v&&v,y=n.size,g=void 0===y?"medium":y,k=l(n,Xi),b=f({},n,{edge:i,color:s,disabled:h,disableFocusRipple:m,size:g}),w=function(e){var t=e.classes,n=e.disabled,r=e.color,i=e.edge,a=e.size;return p({root:["root",n&&"disabled","default"!==r&&"color".concat(Rr(r)),i&&"edge".concat(Rr(i)),"size".concat(Rr(a))]},$i,t)}(b);return(0,Vr.jsx)(Ji,f({className:d(w.root,o),centerRipple:!0,focusRipple:!m,disabled:h,ref:t,ownerState:b},k,{children:a}))})),ea=Zi,ta=qr((0,Vr.jsx)("path",{d:"M13 5.08c3.06.44 5.48 2.86 5.92 5.92h3.03c-.47-4.72-4.23-8.48-8.95-8.95v3.03zM18.92 13c-.44 3.06-2.86 5.48-5.92 5.92v3.03c4.72-.47 8.48-4.23 8.95-8.95h-3.03zM11 18.92c-3.39-.49-6-3.4-6-6.92s2.61-6.43 6-6.92V2.05c-5.05.5-9 4.76-9 9.95 0 5.19 3.95 9.45 9 9.95v-3.03z"}),"DonutLargeOutlined"),na=qr((0,Vr.jsx)("path",{d:"M4 4h16v12H5.17L4 17.17V4m0-2c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2H4zm2 10h8v2H6v-2zm0-3h12v2H6V9zm0-3h12v2H6V6z"}),"ChatOutlined"),ra=qr((0,Vr.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVertOutlined"),ia=qr((0,Vr.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"SearchOutlined");function aa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ua(e,t,n){return t&&oa(e.prototype,t),n&&oa(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function sa(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function ca(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&di(e,t)}function la(e){return la=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},la(e)}function fa(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ha(e){return ha="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ha(e)}function da(e,t){if(t&&("object"===ha(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return hi(e)}function pa(e){var t=fa();return function(){var n,r=la(e);if(t){var i=la(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return da(this,n)}}function va(e,t,n){return va=fa()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&di(i,n.prototype),i},va.apply(null,arguments)}function ma(e){var t="function"===typeof Map?new Map:void 0;return ma=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return va(e,arguments,la(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),di(n,e)},ma(e)}var ya=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ga={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ya(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},ka=function(e){return function(e){var t=ya(e);return ga.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ba=function(e){try{return ga.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function wa(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&xa(n)&&(e[n]=wa(e[n],t[n]));return e}function xa(e){return"__proto__"!==e}var _a=function(){function e(){var t=this;aa(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return ua(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Ia(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ka(JSON.stringify({alg:"none",type:"JWT"})),ka(JSON.stringify(a)),""].join(".")}function Ea(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Sa(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ea())}function Ta(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function Ca(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Aa(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Na(){var e=Ea();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Ra(){return"object"===typeof indexedDB}var Pa=function(e){ca(n,e);var t=pa(n);function n(e,r,i){var a;return aa(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(hi(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(hi(a),Oa.prototype.create),a}return ua(n)}(ma(Error)),Oa=function(){function e(t,n,r){aa(this,e),this.service=t,this.serviceName=n,this.errors=r}return ua(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Da(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Pa(n,a,t);return o}}]),e}();function Da(e,t){return e.replace(La,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var La=/\{\$([^}]+)}/g;function Ma(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Fa(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Va(u)&&Va(s)){if(!Fa(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Va(e){return null!==e&&"object"===typeof e}function Ua(e){for(var t=[],n=function(){var e=c(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function ja(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=c(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function za(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Ba(e,t){var n=new qa(e,t);return n.subscribe.bind(n)}var qa=function(){function e(t,n){var r=this;aa(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return ua(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=sa(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Ka),void 0===r.error&&(r.error=Ka),void 0===r.complete&&(r.complete=Ka);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Ka(){}function Wa(e){return e&&e._delegate?e._delegate:e}function Ga(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Ha(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Ga(a,r,i,o,u,"next",e)}function u(e){Ga(a,r,i,o,u,"throw",e)}o(void 0)}))}}var Qa=n(757),$a=n.n(Qa),Ya=function(){function e(t,n,r){aa(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return ua(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Xa="[DEFAULT]",Ja=function(){function e(t,n){aa(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return ua(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new _a;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Xa})}catch(s){}var t,n=sa(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=c(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xa;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Ha(Qa.mark((function e(){var t;return Qa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(m(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),m(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xa;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xa;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=sa(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=c(i.value,2),s=u[0],l=u[1],f=this.normalizeInstanceIdentifier(s);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=sa(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(eC){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Za(t),options:r}),this.instances.set(t,i),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(eC){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xa;return this.component?this.component.multipleInstances?e:Xa:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();function Za(e){return e===Xa?void 0:e}var eo,to,no=function(){function e(t){aa(this,e),this.name=t,this.providers=new Map}return ua(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ja(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),ro=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(to||(to={}));var io={debug:to.DEBUG,verbose:to.VERBOSE,info:to.INFO,warn:to.WARN,error:to.ERROR,silent:to.SILENT},ao=to.INFO,oo=(Xe(eo={},to.DEBUG,"log"),Xe(eo,to.VERBOSE,"log"),Xe(eo,to.INFO,"info"),Xe(eo,to.WARN,"warn"),Xe(eo,to.ERROR,"error"),eo),uo=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=oo[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},so=function(){function e(t){aa(this,e),this.name=t,this._logLevel=ao,this._logHandler=uo,this._userLogHandler=null,ro.push(this)}return ua(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in to))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?io[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,to.DEBUG].concat(t)),this._logHandler.apply(this,[this,to.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,to.VERBOSE].concat(t)),this._logHandler.apply(this,[this,to.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,to.INFO].concat(t)),this._logHandler.apply(this,[this,to.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,to.WARN].concat(t)),this._logHandler.apply(this,[this,to.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,to.ERROR].concat(t)),this._logHandler.apply(this,[this,to.ERROR].concat(t))}}]),e}();function co(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?co(Object(n),!0).forEach((function(t){Xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):co(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fo,ho;var po=new WeakMap,vo=new WeakMap,mo=new WeakMap,yo=new WeakMap,go=new WeakMap;var ko={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return vo.get(e);if("objectStoreNames"===t)return e.objectStoreNames||mo.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xo(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function bo(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ho||(ho=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(_o(this),n),xo(po.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return xo(e.apply(_o(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[_o(this),t].concat(r));return mo.set(a,t.sort?t.sort():[t]),xo(a)}}function wo(e){return"function"===typeof e?bo(e):(e instanceof IDBTransaction&&function(e){if(!vo.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));vo.set(e,t)}}(e),t=e,(fo||(fo=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,ko):e);var t}function xo(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(xo(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&po.set(t,e)})).catch((function(){})),go.set(t,e),t}(e);if(yo.has(e))return yo.get(e);var t=wo(e);return t!==e&&(yo.set(e,t),go.set(t,e)),t}var _o=function(e){return go.get(e)};var Io,Eo,So=["get","getKey","getAll","getAllKeys","count"],To=["put","add","delete","clear"],Co=new Map;function Ao(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Co.get(t))return Co.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=To.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||So.includes(n))){var a=function(){var e=Ha(Qa.mark((function e(t){var a,o,u,s,c,l,f=arguments;return Qa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Co.set(t,a),a}}}ko=function(e){return lo(lo({},e),{},{get:function(t,n,r){return Ao(t,n)||e.get(t,n,r)},has:function(t,n){return!!Ao(t,n)||e.has(t,n)}})}(ko);var No=function(){function e(t){aa(this,e),this.container=t}return ua(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Ro="@firebase/app",Po="0.7.23",Oo=new so("@firebase/app"),Do="[DEFAULT]",Lo=(Xe(Io={},Ro,"fire-core"),Xe(Io,"@firebase/app-compat","fire-core-compat"),Xe(Io,"@firebase/analytics","fire-analytics"),Xe(Io,"@firebase/analytics-compat","fire-analytics-compat"),Xe(Io,"@firebase/app-check","fire-app-check"),Xe(Io,"@firebase/app-check-compat","fire-app-check-compat"),Xe(Io,"@firebase/auth","fire-auth"),Xe(Io,"@firebase/auth-compat","fire-auth-compat"),Xe(Io,"@firebase/database","fire-rtdb"),Xe(Io,"@firebase/database-compat","fire-rtdb-compat"),Xe(Io,"@firebase/functions","fire-fn"),Xe(Io,"@firebase/functions-compat","fire-fn-compat"),Xe(Io,"@firebase/installations","fire-iid"),Xe(Io,"@firebase/installations-compat","fire-iid-compat"),Xe(Io,"@firebase/messaging","fire-fcm"),Xe(Io,"@firebase/messaging-compat","fire-fcm-compat"),Xe(Io,"@firebase/performance","fire-perf"),Xe(Io,"@firebase/performance-compat","fire-perf-compat"),Xe(Io,"@firebase/remote-config","fire-rc"),Xe(Io,"@firebase/remote-config-compat","fire-rc-compat"),Xe(Io,"@firebase/storage","fire-gcs"),Xe(Io,"@firebase/storage-compat","fire-gcs-compat"),Xe(Io,"@firebase/firestore","fire-fst"),Xe(Io,"@firebase/firestore-compat","fire-fst-compat"),Xe(Io,"fire-js","fire-js"),Xe(Io,"firebase","fire-js-all"),Io),Mo=new Map,Fo=new Map;function Vo(e,t){try{e.container.addComponent(t)}catch(n){Oo.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Uo(e,t){e.container.addOrOverwriteComponent(t)}function jo(e){var t=e.name;if(Fo.has(t))return Oo.debug("There were multiple attempts to register component ".concat(t,".")),!1;Fo.set(t,e);var n,r=sa(Mo.values());try{for(r.s();!(n=r.n()).done;){Vo(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function zo(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Bo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Do;zo(e,t).clearInstance(n)}function qo(){Fo.clear()}var Ko=(Xe(Eo={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Xe(Eo,"bad-app-name","Illegal App name: '{$appName}"),Xe(Eo,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Xe(Eo,"app-deleted","Firebase App named '{$appName}' already deleted"),Xe(Eo,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Xe(Eo,"invalid-log-argument","First argument to `onLog` must be null or a function."),Xe(Eo,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),Xe(Eo,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),Xe(Eo,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),Xe(Eo,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),Eo),Wo=new Oa("app","Firebase",Ko),Go=function(){function e(t,n,r){var i=this;aa(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ya("app",(function(){return i}),"PUBLIC"))}return ua(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Wo.create("app-deleted",{appName:this._name})}}]),e}(),Ho="9.8.0";function Qo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Do,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Wo.create("bad-app-name",{appName:String(i)});var a=Mo.get(i);if(a){if(Fa(e,a.options)&&Fa(r,a.config))return a;throw Wo.create("duplicate-app",{appName:i})}var o,u=new no(i),s=sa(Fo.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new Go(e,r,u);return Mo.set(i,l),l}function $o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Do,t=Mo.get(e);if(!t)throw Wo.create("no-app",{appName:e});return t}function Yo(){return Array.from(Mo.values())}function Xo(e){return Jo.apply(this,arguments)}function Jo(){return Jo=Ha(Qa.mark((function e(t){var n;return Qa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Mo.has(n)){e.next=6;break}return Mo.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),Jo.apply(this,arguments)}function Zo(e,t,n){var r,i=null!==(r=Lo[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Oo.warn(u.join(" "))}jo(new Ya("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function eu(e,t){if(null!==e&&"function"!==typeof e)throw Wo.create("invalid-log-argument");!function(e,t){var n,r=sa(ro);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=io[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:to[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function tu(e){var t;t=e,ro.forEach((function(e){e.setLogLevel(t)}))}var nu="firebase-heartbeat-store",ru=null;function iu(){return ru||(ru=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=xo(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(xo(u.result),e.oldVersion,e.newVersion,xo(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(nu)}}).catch((function(e){throw Wo.create("storage-open",{originalErrorMessage:e.message})}))),ru}function au(e){return ou.apply(this,arguments)}function ou(){return ou=Ha(Qa.mark((function e(t){var n;return Qa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,iu();case 3:return n=e.sent,e.abrupt("return",n.transaction(nu).objectStore(nu).get(cu(t)));case 7:throw e.prev=7,e.t0=e.catch(0),Wo.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),ou.apply(this,arguments)}function uu(e,t){return su.apply(this,arguments)}function su(){return su=Ha(Qa.mark((function e(t,n){var r,i,a;return Qa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,iu();case 3:return r=e.sent,i=r.transaction(nu,"readwrite"),a=i.objectStore(nu),e.next=8,a.put(n,cu(t));case 8:return e.abrupt("return",i.done);case 11:throw e.prev=11,e.t0=e.catch(0),Wo.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),su.apply(this,arguments)}function cu(e){return"".concat(e.name,"!").concat(e.options.appId)}var lu=function(){function e(t){var n=this;aa(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new vu(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return ua(e,[{key:"triggerHeartbeat",value:function(){var e=Ha(Qa.mark((function e(){var t,n,r;return Qa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=fu(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Ha(Qa.mark((function e(){var t,n,r,i,a;return Qa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=fu(),n=hu(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=ka(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function fu(){return(new Date).toISOString().substring(0,10)}function hu(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=sa(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),mu(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),mu(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var du,pu,vu=function(){function e(t){aa(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return ua(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Ha(Qa.mark((function e(){return Qa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ra()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Ha(Qa.mark((function e(){var t;return Qa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,au(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Ha(Qa.mark((function e(t){var n,r;return Qa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",uu(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Ha(Qa.mark((function e(t){var n,r;return Qa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",uu(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(m(r.heartbeats),m(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function mu(e){return ka(JSON.stringify({version:2,heartbeats:e})).length}du="",jo(new Ya("platform-logger",(function(e){return new No(e)}),"PRIVATE")),jo(new Ya("heartbeat",(function(e){return new lu(e)}),"PRIVATE")),Zo(Ro,Po,du),Zo(Ro,Po,"esm2017"),Zo("fire-js","");var yu=function(){function e(t,n){var r=this;aa(this,e),this._delegate=t,this.firebase=n,Vo(t,new Ya("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return ua(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Xo(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Do;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Do;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Vo(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Uo(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),gu=(Xe(pu={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Xe(pu,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),pu),ku=new Oa("app-compat","Firebase",gu);var bu=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Qo(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Ma(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Zo,setLogLevel:tu,onLog:eu,apps:null,SDK_VERSION:Ho,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(jo(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw ku.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&wa(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Ma(n,e=e||Do))throw ku.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(yu);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){wa(n,e)},createSubscribe:Ba,ErrorFactory:Oa,deepExtend:wa}),n}(),wu=new so("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){wu.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var xu=self.firebase.SDK_VERSION;xu&&xu.indexOf("LITE")>=0&&wu.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var _u=bu;!function(e){Zo("@firebase/app-compat","0.1.24",e)}();function Iu(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=la(e)););return e}function Eu(){return Eu="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Iu(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Eu.apply(this,arguments)}_u.registerVersion("firebase","9.8.0","app-compat");function Su(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Tu;Object.create;var Cu="facebook.com",Au="github.com",Nu="google.com",Ru="password",Pu="twitter.com",Ou="EMAIL_SIGNIN",Du="PASSWORD_RESET",Lu="RECOVER_EMAIL",Mu="REVERT_SECOND_FACTOR_ADDITION",Fu="VERIFY_AND_CHANGE_EMAIL",Vu="VERIFY_EMAIL";function Uu(){return Xe({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var ju=function(){var e;return Xe(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Xe(e,"argument-error",""),Xe(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Xe(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Xe(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Xe(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Xe(e,"cordova-not-ready","Cordova framework is not ready."),Xe(e,"cors-unsupported","This browser is not supported."),Xe(e,"credential-already-in-use","This credential is already associated with a different user account."),Xe(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Xe(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Xe(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Xe(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Xe(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Xe(e,"email-already-in-use","The email address is already in use by another account."),Xe(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Xe(e,"expired-action-code","The action code has expired."),Xe(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Xe(e,"internal-error","An internal AuthError has occurred."),Xe(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Xe(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Xe(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Xe(e,"invalid-auth-event","An internal AuthError has occurred."),Xe(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Xe(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Xe(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Xe(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Xe(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Xe(e,"invalid-email","The email address is badly formatted."),Xe(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Xe(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Xe(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Xe(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Xe(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Xe(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Xe(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Xe(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Xe(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Xe(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Xe(e,"wrong-password","The password is invalid or the user does not have a password."),Xe(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Xe(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Xe(e,"invalid-provider-id","The specified provider ID is invalid."),Xe(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Xe(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Xe(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Xe(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Xe(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Xe(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Xe(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Xe(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Xe(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Xe(e,"missing-continue-uri","A continue URL must be provided in the request."),Xe(e,"missing-iframe-start","An internal AuthError has occurred."),Xe(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Xe(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Xe(e,"missing-multi-factor-info","No second factor identifier is provided."),Xe(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Xe(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Xe(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Xe(e,"app-deleted","This instance of FirebaseApp has been deleted."),Xe(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Xe(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Xe(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Xe(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Xe(e,"no-auth-event","An internal AuthError has occurred."),Xe(e,"no-such-provider","User was not linked to an account with the given provider."),Xe(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Xe(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Xe(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Xe(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Xe(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Xe(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Xe(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Xe(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Xe(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Xe(e,"rejected-credential","The request contains malformed or mismatching credentials."),Xe(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Xe(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Xe(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Xe(e,"timeout","The operation has timed out."),Xe(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Xe(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Xe(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Xe(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Xe(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Xe(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Xe(e,"unverified-email","The operation requires a verified email."),Xe(e,"user-cancelled","The user did not grant your application the permissions it requested."),Xe(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Xe(e,"user-disabled","The user account has been disabled by an administrator."),Xe(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Xe(e,"user-signed-out",""),Xe(e,"weak-password","The password must be 6 characters long or more."),Xe(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Xe(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},zu=Uu,Bu=new Oa("auth","Firebase",Uu()),qu=new so("@firebase/auth");function Ku(e){if(qu.logLevel<=to.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];qu.error.apply(qu,["Auth (".concat(Ho,"): ").concat(e)].concat(n))}}function Wu(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw $u.apply(void 0,[e].concat(n))}function Gu(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return $u.apply(void 0,[e].concat(n))}function Hu(e,t,n){var r=Object.assign(Object.assign({},zu()),Xe({},t,n));return new Oa("auth","Firebase",r).create(t,{appName:e.name})}function Qu(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Wu(e,"argument-error"),Hu(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function $u(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=m(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(m(o)))}return Bu.create.apply(Bu,[e].concat(n))}function Yu(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw $u.apply(void 0,[t].concat(r))}}function Xu(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Ku(t),new Error(t)}function Ju(e,t){e||Xu(t)}var Zu=new Map;function es(e){Ju(e instanceof Function,"Expected a class definition");var t=Zu.get(e);return t?(Ju(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Zu.set(e,t),t)}function ts(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ns(){return"http:"===rs()||"https:"===rs()}function rs(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var is=function(){function e(t,n){aa(this,e),this.shortDelay=t,this.longDelay=n,Ju(n>t,"Short delay should be less than long delay!"),this.isMobile=Sa()||Aa()}return ua(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(ns()||Ca()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function as(e,t){Ju(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var os=function(){function e(){aa(this,e)}return ua(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Xu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Xu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Xu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),us=(Xe(Tu={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Xe(Tu,"MISSING_CUSTOM_TOKEN","internal-error"),Xe(Tu,"INVALID_IDENTIFIER","invalid-email"),Xe(Tu,"MISSING_CONTINUE_URI","internal-error"),Xe(Tu,"INVALID_PASSWORD","wrong-password"),Xe(Tu,"MISSING_PASSWORD","internal-error"),Xe(Tu,"EMAIL_EXISTS","email-already-in-use"),Xe(Tu,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Xe(Tu,"INVALID_IDP_RESPONSE","invalid-credential"),Xe(Tu,"INVALID_PENDING_TOKEN","invalid-credential"),Xe(Tu,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Xe(Tu,"MISSING_REQ_TYPE","internal-error"),Xe(Tu,"EMAIL_NOT_FOUND","user-not-found"),Xe(Tu,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Xe(Tu,"EXPIRED_OOB_CODE","expired-action-code"),Xe(Tu,"INVALID_OOB_CODE","invalid-action-code"),Xe(Tu,"MISSING_OOB_CODE","internal-error"),Xe(Tu,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Xe(Tu,"INVALID_ID_TOKEN","invalid-user-token"),Xe(Tu,"TOKEN_EXPIRED","user-token-expired"),Xe(Tu,"USER_NOT_FOUND","user-token-expired"),Xe(Tu,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Xe(Tu,"INVALID_CODE","invalid-verification-code"),Xe(Tu,"INVALID_SESSION_INFO","invalid-verification-id"),Xe(Tu,"INVALID_TEMPORARY_PROOF","invalid-credential"),Xe(Tu,"MISSING_SESSION_INFO","missing-verification-id"),Xe(Tu,"SESSION_EXPIRED","code-expired"),Xe(Tu,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Xe(Tu,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Xe(Tu,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Xe(Tu,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Xe(Tu,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Xe(Tu,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Xe(Tu,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Xe(Tu,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Xe(Tu,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Xe(Tu,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Xe(Tu,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Tu),ss=new is(3e4,6e4);function cs(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function ls(e,t,n,r){return fs.apply(this,arguments)}function fs(){return fs=Ha($a().mark((function e(t,n,r,i){var a,o=arguments;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",hs(t,a,Ha($a().mark((function e(){var a,o,u,s;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Ua(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",os.fetch()(ms(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),fs.apply(this,arguments)}function hs(e,t,n){return ds.apply(this,arguments)}function ds(){return ds=Ha($a().mark((function e(t,n,r){var i,a,o,u,s,l,f,h,d,p;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},us),n),e.prev=2,a=new ys(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw gs(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,l=s.split(" : "),f=c(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw gs(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw gs(t,"email-already-in-use",u);case 25:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw Hu(t,p,d);case 30:Wu(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof Pa)){e.next=37;break}throw e.t0;case 37:Wu(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),ds.apply(this,arguments)}function ps(e,t,n,r){return vs.apply(this,arguments)}function vs(){return vs=Ha($a().mark((function e(t,n,r,i){var a,o,u=arguments;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,ls(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Wu(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),vs.apply(this,arguments)}function ms(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?as(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var ys=function(){function e(t){var n=this;aa(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Gu(n.auth,"network-request-failed"))}),ss.get())}))}return ua(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function gs(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Gu(e,t,r);return i.customData._tokenResponse=n,i}function ks(e,t){return bs.apply(this,arguments)}function bs(){return bs=Ha($a().mark((function e(t,n){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ls(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),bs.apply(this,arguments)}function ws(e,t){return xs.apply(this,arguments)}function xs(){return xs=Ha($a().mark((function e(t,n){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ls(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),xs.apply(this,arguments)}function _s(e,t){return Is.apply(this,arguments)}function Is(){return Is=Ha($a().mark((function e(t,n){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ls(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Is.apply(this,arguments)}function Es(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Ss(){return Ss=Ha($a().mark((function e(t){var n,r,i,a,o,u,s=arguments;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Wa(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Yu((a=Cs(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Es(Ts(a.auth_time)),issuedAtTime:Es(Ts(a.iat)),expirationTime:Es(Ts(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Ss.apply(this,arguments)}function Ts(e){return 1e3*Number(e)}function Cs(e){var t=c(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Ku("JWT malformed, contained fewer than 3 sections"),null;try{var a=ba(r);return a?JSON.parse(a):(Ku("Failed to decode base64 JWT payload"),null)}catch(o){return Ku("Caught error parsing JWT payload as JSON",o),null}}function As(e,t){return Ns.apply(this,arguments)}function Ns(){return Ns=Ha($a().mark((function e(t,n){var r=arguments;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Pa&&Rs(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Ns.apply(this,arguments)}function Rs(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Ps=function(){function e(t){aa(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return ua(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Ha($a().mark((function t(){return $a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Ha($a().mark((function e(){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Os=function(){function e(t,n){aa(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return ua(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Es(this.lastLoginAt),this.creationTime=Es(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Ds(e){return Ls.apply(this,arguments)}function Ls(){return Ls=Ha($a().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,As(t,_s(r,{idToken:i}));case 6:Yu(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Vs(o.providerUserInfo):[],s=Fs(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Os(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Ls.apply(this,arguments)}function Ms(){return(Ms=Ha($a().mark((function e(t){var n;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Wa(t),e.next=3,Ds(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fs(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(m(n),m(t))}function Vs(e){return e.map((function(e){var t=e.providerId,n=Su(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Us(e,t){return js.apply(this,arguments)}function js(){return js=Ha($a().mark((function e(t,n){var r;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hs(t,{},Ha($a().mark((function e(){var r,i,a,o,u,s;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ua({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=ms(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",os.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),js.apply(this,arguments)}var zs=function(){function e(){aa(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return ua(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Yu(e.idToken,"internal-error"),Yu("undefined"!==typeof e.idToken,"internal-error"),Yu("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Cs(e);return Yu(t,"internal-error"),Yu("undefined"!==typeof t.exp,"internal-error"),Yu("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Ha($a().mark((function e(t){var n,r=arguments;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Yu(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Ha($a().mark((function e(t,n){var r,i,a,o;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Us(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Xu("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Yu("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Yu("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Yu("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Bs(e,t){Yu("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var qs=function(){function e(t){aa(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=Su(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ps(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?m(a.providerData):[],this.metadata=new Os(a.createdAt||void 0,a.lastLoginAt||void 0)}return ua(e,[{key:"getIdToken",value:function(){var e=Ha($a().mark((function e(t){var n;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,As(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Yu(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Ss.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Ms.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Yu(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Yu(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Ha($a().mark((function e(t){var n,r,i=arguments;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Ds(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Ha($a().mark((function e(){var t;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,As(this,ks(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;Yu(k&&_,t,"internal-error");var I=zs.fromJSON(this.name,_);Yu("string"===typeof k,t,"internal-error"),Bs(f,t.name),Bs(h,t.name),Yu("boolean"===typeof b,t,"internal-error"),Yu("boolean"===typeof w,t,"internal-error"),Bs(d,t.name),Bs(p,t.name),Bs(v,t.name),Bs(m,t.name),Bs(y,t.name),Bs(g,t.name);var E=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(E.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=Ha($a().mark((function t(n,r){var i,a,o,u=arguments;return $a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new zs).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Ds(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Ks=function(){function e(){aa(this,e),this.type="NONE",this.storage={}}return ua(e,[{key:"_isAvailable",value:function(){var e=Ha($a().mark((function e(){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ha($a().mark((function e(t,n){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ha($a().mark((function e(t){var n;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ha($a().mark((function e(t){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Ks.type="NONE";var Ws=Ks;function Gs(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Hs=function(){function e(t,n,r){aa(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Gs(this.userKey,a.apiKey,o),this.fullPersistenceKey=Gs("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return ua(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Ha($a().mark((function e(){var t;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?qs._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Ha($a().mark((function e(t){var n;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Ha($a().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return $a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(es(Ws),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Ha($a().mark((function e(t){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||es(Ws),u=Gs(i,n.config.apiKey,n.name),s=null,c=sa(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=qs._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Ha($a().mark((function e(t){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Qs(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Js(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if($s(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ec(t))return"Blackberry";if(tc(t))return"Webos";if(Ys(t))return"Safari";if((t.includes("chrome/")||Xs(t))&&!t.includes("edge/"))return"Chrome";if(Zs(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function $s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ea();return/firefox\//i.test(e)}function Ys(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ea(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Xs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ea();return/crios\//i.test(e)}function Js(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ea();return/iemobile/i.test(e)}function Zs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ea();return/android/i.test(e)}function ec(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ea();return/blackberry/i.test(e)}function tc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ea();return/webos/i.test(e)}function nc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ea();return/iphone|ipad|ipod/i.test(e)}function rc(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ea();return nc(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function ic(){return Na()&&10===document.documentMode}function ac(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ea();return nc(e)||Zs(e)||tc(e)||ec(e)||/windows phone/i.test(e)||Js(e)}function oc(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Qs(Ea());break;case"Worker":t="".concat(Qs(Ea()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Ho,"/").concat(r)}var uc=function(){function e(t){aa(this,e),this.auth=t,this.queue=[]}return ua(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Ha($a().mark((function e(t){var n,r,i,a,o,u,s;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=sa(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=sa(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),sc=function(){function e(t,n,r){aa(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lc(this),this.idTokenSubscription=new lc(this),this.beforeStateQueue=new uc(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Bu,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return ua(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=es(t)),this._initializationPromise=this.queue(Ha($a().mark((function r(){var i,a;return $a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Hs.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Ha($a().mark((function e(){var t;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Ha($a().mark((function e(t){var n,r,i,a,o,u,s;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Yu(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Ha($a().mark((function e(t){var n;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Ha($a().mark((function e(t){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ds(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Ha($a().mark((function e(){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Ha($a().mark((function e(t){var n;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Wa(t):null)&&Yu(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Ha($a().mark((function e(t){var n,r=this,i=arguments;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Yu(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Ha($a().mark((function e(){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Ha($a().mark((function e(){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Ha($a().mark((function n(){return $a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(es(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Oa("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Ha($a().mark((function e(t,n){var r;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Ha($a().mark((function e(t){var n;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Yu(n=t&&es(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Hs.create(this,[es(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Ha($a().mark((function e(t){var n,r;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Ha($a().mark((function e(){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Ha($a().mark((function e(t){var n=this;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Ha($a().mark((function e(){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Yu(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Ha($a().mark((function e(t){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Yu(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oc(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Ha($a().mark((function e(){var t,n,r;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Xe({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function cc(e){return Wa(e)}var lc=function(){function e(t){var n=this;aa(this,e),this.auth=t,this.observer=null,this.addObserver=Ba((function(e){return n.observer=e}))}return ua(e,[{key:"next",get:function(){return Yu(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function fc(e,t,n){var r=cc(e);Yu(r._canInitEmulator,r,"emulator-config-failed"),Yu(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=hc(t),o=function(e){var t=hc(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:dc(r.substr(a.length+1))}}var o=c(r.split(":"),2);return{host:o[0],port:dc(o[1])}}(t),u=o.host,s=o.port,l=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function hc(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function dc(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var pc=function(){function e(t,n){aa(this,e),this.providerId=t,this.signInMethod=n}return ua(e,[{key:"toJSON",value:function(){return Xu("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Xu("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Xu("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Xu("not implemented")}}]),e}();function vc(e,t){return mc.apply(this,arguments)}function mc(){return mc=Ha($a().mark((function e(t,n){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ls(t,"POST","/v1/accounts:resetPassword",cs(t,n)));case 1:case"end":return e.stop()}}),e)}))),mc.apply(this,arguments)}function yc(e,t){return gc.apply(this,arguments)}function gc(){return gc=Ha($a().mark((function e(t,n){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ls(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),gc.apply(this,arguments)}function kc(e,t){return bc.apply(this,arguments)}function bc(){return bc=Ha($a().mark((function e(t,n){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ls(t,"POST","/v1/accounts:update",cs(t,n)));case 1:case"end":return e.stop()}}),e)}))),bc.apply(this,arguments)}function wc(e,t){return xc.apply(this,arguments)}function xc(){return xc=Ha($a().mark((function e(t,n){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ps(t,"POST","/v1/accounts:signInWithPassword",cs(t,n)));case 1:case"end":return e.stop()}}),e)}))),xc.apply(this,arguments)}function _c(e,t){return Ic.apply(this,arguments)}function Ic(){return Ic=Ha($a().mark((function e(t,n){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ls(t,"POST","/v1/accounts:sendOobCode",cs(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ic.apply(this,arguments)}function Ec(e,t){return Sc.apply(this,arguments)}function Sc(){return Sc=Ha($a().mark((function e(t,n){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_c(t,n));case 1:case"end":return e.stop()}}),e)}))),Sc.apply(this,arguments)}function Tc(e,t){return Cc.apply(this,arguments)}function Cc(){return Cc=Ha($a().mark((function e(t,n){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_c(t,n));case 1:case"end":return e.stop()}}),e)}))),Cc.apply(this,arguments)}function Ac(e,t){return Nc.apply(this,arguments)}function Nc(){return Nc=Ha($a().mark((function e(t,n){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_c(t,n));case 1:case"end":return e.stop()}}),e)}))),Nc.apply(this,arguments)}function Rc(e,t){return Pc.apply(this,arguments)}function Pc(){return Pc=Ha($a().mark((function e(t,n){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_c(t,n));case 1:case"end":return e.stop()}}),e)}))),Pc.apply(this,arguments)}function Oc(e,t){return Dc.apply(this,arguments)}function Dc(){return Dc=Ha($a().mark((function e(t,n){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ps(t,"POST","/v1/accounts:signInWithEmailLink",cs(t,n)));case 1:case"end":return e.stop()}}),e)}))),Dc.apply(this,arguments)}function Lc(e,t){return Mc.apply(this,arguments)}function Mc(){return Mc=Ha($a().mark((function e(t,n){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ps(t,"POST","/v1/accounts:signInWithEmailLink",cs(t,n)));case 1:case"end":return e.stop()}}),e)}))),Mc.apply(this,arguments)}var Fc=function(e){ca(n,e);var t=pa(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return aa(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return ua(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Ha($a().mark((function e(t){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",wc(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Oc(t,{email:this._email,oobCode:this._password}));case 5:Wu(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Ha($a().mark((function e(t,n){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",yc(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Lc(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Wu(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(pc);function Vc(e,t){return Uc.apply(this,arguments)}function Uc(){return Uc=Ha($a().mark((function e(t,n){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ps(t,"POST","/v1/accounts:signInWithIdp",cs(t,n)));case 1:case"end":return e.stop()}}),e)}))),Uc.apply(this,arguments)}var jc=function(e){ca(n,e);var t=pa(n);function n(){var e;return aa(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return ua(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Vc(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Vc(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Vc(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ua(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Wu("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=Su(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(pc);function zc(e,t){return Bc.apply(this,arguments)}function Bc(){return Bc=Ha($a().mark((function e(t,n){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ls(t,"POST","/v1/accounts:sendVerificationCode",cs(t,n)));case 1:case"end":return e.stop()}}),e)}))),Bc.apply(this,arguments)}function qc(){return qc=Ha($a().mark((function e(t,n){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ps(t,"POST","/v1/accounts:signInWithPhoneNumber",cs(t,n)));case 1:case"end":return e.stop()}}),e)}))),qc.apply(this,arguments)}function Kc(){return Kc=Ha($a().mark((function e(t,n){var r;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ps(t,"POST","/v1/accounts:signInWithPhoneNumber",cs(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw gs(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Kc.apply(this,arguments)}var Wc=Xe({},"USER_NOT_FOUND","user-not-found");function Gc(){return Gc=Ha($a().mark((function e(t,n){var r;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",ps(t,"POST","/v1/accounts:signInWithPhoneNumber",cs(t,r),Wc));case 2:case"end":return e.stop()}}),e)}))),Gc.apply(this,arguments)}var Hc=function(e){ca(n,e);var t=pa(n);function n(e){var r;return aa(this,n),(r=t.call(this,"phone","phone")).params=e,r}return ua(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return qc.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Kc.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Gc.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(pc);var Qc=function(){function e(t){var n,r,i,a,o,u;aa(this,e);var s=ja(za(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Yu(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return ua(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=ja(za(e)).link,n=t?ja(za(t)).deep_link_id:null,r=ja(za(e)).deep_link_id;return(r?ja(za(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(eC){return null}}}]),e}();var $c=function(){function e(){aa(this,e),this.providerId=e.PROVIDER_ID}return ua(e,null,[{key:"credential",value:function(e,t){return Fc._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Qc.parseLink(t);return Yu(n,"argument-error"),Fc._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();$c.PROVIDER_ID="password",$c.EMAIL_PASSWORD_SIGN_IN_METHOD="password",$c.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Yc=function(){function e(t){aa(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return ua(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Xc=function(e){ca(n,e);var t=pa(n);function n(){var e;return aa(this,n),(e=t.apply(this,arguments)).scopes=[],e}return ua(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return m(this.scopes)}}]),n}(Yc),Jc=function(e){ca(n,e);var t=pa(n);function n(){return aa(this,n),t.apply(this,arguments)}return ua(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Yu(e.idToken||e.accessToken,"argument-error"),jc._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Yu("providerId"in t&&"signInMethod"in t,"argument-error"),jc._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Xc),Zc=function(e){ca(n,e);var t=pa(n);function n(){return aa(this,n),t.call(this,"facebook.com")}return ua(n,null,[{key:"credential",value:function(e){return jc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(eC){return null}}}]),n}(Xc);Zc.FACEBOOK_SIGN_IN_METHOD="facebook.com",Zc.PROVIDER_ID="facebook.com";var el=function(e){ca(n,e);var t=pa(n);function n(){var e;return aa(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return ua(n,null,[{key:"credential",value:function(e,t){return jc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(eC){return null}}}]),n}(Xc);el.GOOGLE_SIGN_IN_METHOD="google.com",el.PROVIDER_ID="google.com";var tl=function(e){ca(n,e);var t=pa(n);function n(){return aa(this,n),t.call(this,"github.com")}return ua(n,null,[{key:"credential",value:function(e){return jc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(eC){return null}}}]),n}(Xc);tl.GITHUB_SIGN_IN_METHOD="github.com",tl.PROVIDER_ID="github.com";var nl=function(e){ca(n,e);var t=pa(n);function n(e,r){var i;return aa(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return ua(n,[{key:"_getIdTokenResponse",value:function(e){return Vc(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Vc(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Vc(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(pc),rl=function(e){ca(n,e);var t=pa(n);function n(e){return aa(this,n),Yu(e.startsWith("saml."),"argument-error"),t.call(this,e)}return ua(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=nl.fromJSON(e);return Yu(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return nl._create(r,n)}catch(i){return null}}}]),n}(Yc),il=function(e){ca(n,e);var t=pa(n);function n(){return aa(this,n),t.call(this,"twitter.com")}return ua(n,null,[{key:"credential",value:function(e,t){return jc._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(eC){return null}}}]),n}(Xc);function al(e,t){return ol.apply(this,arguments)}function ol(){return ol=Ha($a().mark((function e(t,n){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ps(t,"POST","/v1/accounts:signUp",cs(t,n)));case 1:case"end":return e.stop()}}),e)}))),ol.apply(this,arguments)}il.TWITTER_SIGN_IN_METHOD="twitter.com",il.PROVIDER_ID="twitter.com";var ul=function(){function e(t){aa(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return ua(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Ha($a().mark((function t(n,r,i){var a,o,u,s,c=arguments;return $a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,qs._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=sl(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Ha($a().mark((function t(n,r,i){var a;return $a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=sl(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function sl(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function cl(){return cl=Ha($a().mark((function e(t){var n,r,i,a;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cc(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new ul({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,al(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,ul._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),cl.apply(this,arguments)}var ll=function(e){ca(n,e);var t=pa(n);function n(e,r,i,a){var o,u;return aa(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(hi(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return ua(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Pa);function fl(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw ll._fromErrorAndOperation(e,n,t,r);throw n}))}function hl(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function dl(e,t){return pl.apply(this,arguments)}function pl(){return pl=Ha($a().mark((function e(t,n){var r,i,a,o;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wa(t),e.next=3,yl(!0,r,n);case 3:return e.t0=ws,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=hl(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),pl.apply(this,arguments)}function vl(e,t){return ml.apply(this,arguments)}function ml(){return ml=Ha($a().mark((function e(t,n){var r,i,a=arguments;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=As,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",ul._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),ml.apply(this,arguments)}function yl(e,t,n){return gl.apply(this,arguments)}function gl(){return gl=Ha($a().mark((function e(t,n,r){var i,a;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ds(n);case 2:i=hl(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Yu(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)}))),gl.apply(this,arguments)}function kl(e,t){return bl.apply(this,arguments)}function bl(){return bl=Ha($a().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,As(t,fl(i,a,n,t),r);case 6:return Yu((o=e.sent).idToken,i,"internal-error"),Yu(u=Cs(o.idToken),i,"internal-error"),s=u.sub,Yu(t.uid===s,i,"user-mismatch"),e.abrupt("return",ul._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Wu(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),bl.apply(this,arguments)}function wl(e,t){return xl.apply(this,arguments)}function xl(){return xl=Ha($a().mark((function e(t,n){var r,i,a,o,u=arguments;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,fl(t,i,n);case 4:return a=e.sent,e.next=7,ul._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),xl.apply(this,arguments)}function _l(e,t){return Il.apply(this,arguments)}function Il(){return Il=Ha($a().mark((function e(t,n){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wl(cc(t),n));case 1:case"end":return e.stop()}}),e)}))),Il.apply(this,arguments)}function El(e,t){return Sl.apply(this,arguments)}function Sl(){return(Sl=Ha($a().mark((function e(t,n){var r;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wa(t),e.next=3,yl(!1,r,n.providerId);case 3:return e.abrupt("return",vl(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tl(e,t){return Cl.apply(this,arguments)}function Cl(){return(Cl=Ha($a().mark((function e(t,n){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kl(Wa(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Al(e,t){return Nl.apply(this,arguments)}function Nl(){return Nl=Ha($a().mark((function e(t,n){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ps(t,"POST","/v1/accounts:signInWithCustomToken",cs(t,n)));case 1:case"end":return e.stop()}}),e)}))),Nl.apply(this,arguments)}function Rl(){return Rl=Ha($a().mark((function e(t,n){var r,i,a;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=cc(t),e.next=3,Al(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,ul._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),Rl.apply(this,arguments)}var Pl=function(){function e(t,n){aa(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return ua(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Ol._fromServerResponse(e,t):Wu(e,"internal-error")}}]),e}(),Ol=function(e){ca(n,e);var t=pa(n);function n(e){var r;return aa(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return ua(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Pl);function Dl(e,t,n){var r;Yu((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Yu("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Yu(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Yu(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Ll(){return Ll=Ha($a().mark((function e(t,n,r){var i,a;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wa(t),a={requestType:"PASSWORD_RESET",email:n},r&&Dl(i,a,r),e.next=5,Tc(i,a);case 5:case"end":return e.stop()}}),e)}))),Ll.apply(this,arguments)}function Ml(){return Ml=Ha($a().mark((function e(t,n,r){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vc(Wa(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),Ml.apply(this,arguments)}function Fl(){return Fl=Ha($a().mark((function e(t,n){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kc(Wa(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),Fl.apply(this,arguments)}function Vl(e,t){return Ul.apply(this,arguments)}function Ul(){return Ul=Ha($a().mark((function e(t,n){var r,i,a,o;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wa(t),e.next=3,vc(r,{oobCode:n});case 3:i=e.sent,Yu(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Yu(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Yu(i.mfaInfo,r,"internal-error");case 13:Yu(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Pl._fromServerResponse(cc(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),Ul.apply(this,arguments)}function jl(){return jl=Ha($a().mark((function e(t,n){var r,i;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vl(Wa(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),jl.apply(this,arguments)}function zl(e,t,n){return Bl.apply(this,arguments)}function Bl(){return Bl=Ha($a().mark((function e(t,n,r){var i,a,o;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=cc(t),e.next=3,al(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,ul._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),Bl.apply(this,arguments)}function ql(){return ql=Ha($a().mark((function e(t,n,r){var i,a;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wa(t),a={requestType:"EMAIL_SIGNIN",email:n},Yu(r.handleCodeInApp,i,"argument-error"),r&&Dl(i,a,r),e.next=6,Ac(i,a);case 6:case"end":return e.stop()}}),e)}))),ql.apply(this,arguments)}function Kl(){return Kl=Ha($a().mark((function e(t,n,r){var i,a;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wa(t),Yu((a=$c.credentialWithLink(n,r||ts()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",_l(i,a));case 4:case"end":return e.stop()}}),e)}))),Kl.apply(this,arguments)}function Wl(e,t){return Gl.apply(this,arguments)}function Gl(){return Gl=Ha($a().mark((function e(t,n){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ls(t,"POST","/v1/accounts:createAuthUri",cs(t,n)));case 1:case"end":return e.stop()}}),e)}))),Gl.apply(this,arguments)}function Hl(){return Hl=Ha($a().mark((function e(t,n){var r,i,a,o;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ns()?ts():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Wl(Wa(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),Hl.apply(this,arguments)}function Ql(){return(Ql=Ha($a().mark((function e(t,n){var r,i,a,o;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wa(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Dl(r.auth,a,n),e.next=8,Ec(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $l(){return($l=Ha($a().mark((function e(t,n,r){var i,a,o,u;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wa(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Dl(i.auth,o,r),e.next=8,Rc(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yl(e,t){return Xl.apply(this,arguments)}function Xl(){return Xl=Ha($a().mark((function e(t,n){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ls(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Xl.apply(this,arguments)}function Jl(){return(Jl=Ha($a().mark((function e(t,n){var r,i,a,o,u,s,c;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Wa(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,As(a,Yl(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zl(e,t,n){return ef.apply(this,arguments)}function ef(){return ef=Ha($a().mark((function e(t,n,r){var i,a,o,u;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,As(t,yc(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),ef.apply(this,arguments)}var tf=ua((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};aa(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),nf=function(e){ca(n,e);var t=pa(n);function n(e,r,i,a){var o;return aa(this,n),(o=t.call(this,e,r,i)).username=a,o}return ua(n)}(tf),rf=function(e){ca(n,e);var t=pa(n);function n(e,r){return aa(this,n),t.call(this,e,"facebook.com",r)}return ua(n)}(tf),af=function(e){ca(n,e);var t=pa(n);function n(e,r){return aa(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return ua(n)}(nf),of=function(e){ca(n,e);var t=pa(n);function n(e,r){return aa(this,n),t.call(this,e,"google.com",r)}return ua(n)}(tf),uf=function(e){ca(n,e);var t=pa(n);function n(e,r,i){return aa(this,n),t.call(this,e,"twitter.com",r,i)}return ua(n)}(nf);function sf(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Cs(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new tf(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new rf(a,i);case"github.com":return new af(a,i);case"google.com":return new of(a,i);case"twitter.com":return new uf(a,i,e.screenName||null);case"custom":case"anonymous":return new tf(a,null);default:return new tf(a,r,i)}}(n)}var cf=function(){function e(t,n){aa(this,e),this.type=t,this.credential=n}return ua(e,[{key:"toJSON",value:function(){return{multiFactorSession:Xe({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),lf=function(){function e(t,n,r){aa(this,e),this.session=t,this.hints=n,this.signInResolver=r}return ua(e,[{key:"resolveSignIn",value:function(){var e=Ha($a().mark((function e(t){var n;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=cc(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Pl._fromServerResponse(r,e)}));Yu(i.mfaPendingCredential,r,"internal-error");var o=cf._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Ha($a().mark((function e(t){var a,u,s;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,ul._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Yu(n.user,r,"internal-error"),e.abrupt("return",ul._forOperation(n.user,n.operationType,u));case 17:Wu(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function ff(e,t){return ls(e,"POST","/v2/accounts/mfaEnrollment:start",cs(e,t))}function hf(e,t){return ls(e,"POST","/v2/accounts/mfaEnrollment:withdraw",cs(e,t))}var df=function(){function e(t){var n=this;aa(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Pl._fromServerResponse(t.auth,e)})))}))}return ua(e,[{key:"getSession",value:function(){var e=Ha($a().mark((function e(){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=cf,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Ha($a().mark((function e(t,n){var r,i,a;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,As(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Ha($a().mark((function e(t){var n,r,i;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,As(this.user,hf(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),pf=new WeakMap;var vf="__sak",mf=function(){function e(t,n){aa(this,e),this.storageRetriever=t,this.type=n}return ua(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(vf,"1"),this.storage.removeItem(vf),Promise.resolve(!0)):Promise.resolve(!1)}catch(eC){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var yf=function(e){ca(n,e);var t=pa(n);function n(){var e;return aa(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Ea();return Ys(e)||nc(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=ac(),e._shouldAllowMigration=!0,e}return ua(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);ic()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Ha($a().mark((function e(t,r){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Eu(la(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ha($a().mark((function e(t){var r;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Eu(la(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ha($a().mark((function e(t){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Eu(la(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(mf);yf.type="LOCAL";var gf=yf,kf=function(e){ca(n,e);var t=pa(n);function n(){return aa(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return ua(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(mf);kf.type="SESSION";var bf=kf;function wf(e){return Promise.all(e.map(function(){var e=Ha($a().mark((function e(t){var n;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var xf=function(){function e(t){aa(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return ua(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Ha($a().mark((function e(t){var n,r,i,a,o,u,s,c;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Ha($a().mark((function e(t){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,wf(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function _f(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}xf.receivers=[];var If=function(){function e(t){aa(this,e),this.target=t,this.handlers=new Set}return ua(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Ha($a().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=_f("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Ef(){return window}function Sf(){return"undefined"!==typeof Ef().WorkerGlobalScope&&"function"===typeof Ef().importScripts}function Tf(){return Cf.apply(this,arguments)}function Cf(){return(Cf=Ha($a().mark((function e(){var t;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Af(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Nf="firebaseLocalStorageDb",Rf="firebaseLocalStorage",Pf="fbase_key",Of=function(){function e(t){aa(this,e),this.request=t}return ua(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Df(e,t){return e.transaction([Rf],t?"readwrite":"readonly").objectStore(Rf)}function Lf(){var e=indexedDB.deleteDatabase(Nf);return new Of(e).toPromise()}function Mf(){var e=indexedDB.open(Nf,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Rf,{keyPath:Pf})}catch(r){n(r)}})),e.addEventListener("success",Ha($a().mark((function n(){var r;return $a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Rf)){n.next=12;break}return r.close(),n.next=5,Lf();case 5:return n.t0=t,n.next=8,Mf();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Ff(e,t,n){return Vf.apply(this,arguments)}function Vf(){return Vf=Ha($a().mark((function e(t,n,r){var i,a;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Df(t,!0).put((Xe(i={},Pf,n),Xe(i,"value",r),i)),e.abrupt("return",new Of(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Vf.apply(this,arguments)}function Uf(e,t){return jf.apply(this,arguments)}function jf(){return jf=Ha($a().mark((function e(t,n){var r,i;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Df(t,!1).get(n),e.next=3,new Of(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),jf.apply(this,arguments)}function zf(e,t){var n=Df(e,!0).delete(t);return new Of(n).toPromise()}var Bf=function(){function e(){aa(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return ua(e,[{key:"_openDb",value:function(){var e=Ha($a().mark((function e(){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Mf();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Ha($a().mark((function e(t){var n,r;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Ha($a().mark((function e(){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sf()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Ha($a().mark((function e(){var t=this;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=xf._getInstance(Sf()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Ha($a().mark((function e(n,r){var i;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Ha($a().mark((function e(t,n){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Ha($a().mark((function e(){var t,n,r;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tf();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new If(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Ha($a().mark((function e(t){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Af()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Ha($a().mark((function e(){var t;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Mf();case 5:return t=e.sent,e.next=8,Ff(t,vf,"1");case 8:return e.next=10,zf(t,vf);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Ha($a().mark((function e(t){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Ha($a().mark((function e(t,n){var r=this;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ha($a().mark((function e(){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Ff(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Ha($a().mark((function e(t){var n;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Uf(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Ha($a().mark((function e(t){var n=this;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Ha($a().mark((function e(){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return zf(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Ha($a().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Df(e,!1).getAll();return new Of(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=sa(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Ha($a().mark((function t(){return $a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Bf.type="LOCAL";var qf=Bf;function Kf(e,t){return ls(e,"POST","/v2/accounts/mfaSignIn:start",cs(e,t))}function Wf(e){return Gf.apply(this,arguments)}function Gf(){return Gf=Ha($a().mark((function e(t){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ls(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),Gf.apply(this,arguments)}function Hf(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Gu("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Qf(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var $f=1e12,Yf=function(){function e(t){aa(this,e),this.auth=t,this.counter=$f,this._widgets=new Map}return ua(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Xf(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||$f;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||$f;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Ha($a().mark((function e(t){var n,r;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||$f,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Xf=function(){function e(t,n,r){var i=this;aa(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Yu(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return ua(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Jf=Qf("rcb"),Zf=new is(3e4,6e4),eh="https://www.google.com/recaptcha/api.js?",th=function(){function e(){aa(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Ef().grecaptcha}return ua(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Yu(nh(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Ef().grecaptcha):new Promise((function(r,i){var a=Ef().setTimeout((function(){i(Gu(e,"network-request-failed"))}),Zf.get());Ef()[Jf]=function(){Ef().clearTimeout(a),delete Ef()[Jf];var o=Ef().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Gu(e,"internal-error"))},Hf("".concat(eh,"?").concat(Ua({onload:Jf,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Gu(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!Ef().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function nh(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var rh=function(){function e(){aa(this,e)}return ua(e,[{key:"load",value:function(){var e=Ha($a().mark((function e(t){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Yf(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),ih="recaptcha",ah={theme:"light",type:"image"},oh=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},ah),r=arguments.length>2?arguments[2]:void 0;aa(this,e),this.parameters=n,this.type=ih,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=cc(r),this.isInvisible="invisible"===this.parameters.size,Yu("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Yu(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new rh:new th,this.validateStartingState()}return ua(e,[{key:"verify",value:function(){var e=Ha($a().mark((function e(){var t,n,r,i=this;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Yu(!this.parameters.sitekey,this.auth,"argument-error"),Yu(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Yu("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Ef()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Yu(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Ha($a().mark((function e(){var t,n;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Ha($a().mark((function e(){var t;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yu(ns()&&!Sf(),this.auth,"internal-error"),e.next=3,uh();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Wf(this.auth);case 8:Yu(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Yu(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function uh(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var sh=function(){function e(t,n){aa(this,e),this.verificationId=t,this.onConfirmation=n}return ua(e,[{key:"confirm",value:function(e){var t=Hc._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function ch(){return ch=Ha($a().mark((function e(t,n,r){var i,a;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=cc(t),e.next=3,dh(i,n,Wa(r));case 3:return a=e.sent,e.abrupt("return",new sh(a,(function(e){return _l(i,e)})));case 5:case"end":return e.stop()}}),e)}))),ch.apply(this,arguments)}function lh(e,t,n){return fh.apply(this,arguments)}function fh(){return(fh=Ha($a().mark((function e(t,n,r){var i,a;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wa(t),e.next=3,yl(!1,i,"phone");case 3:return e.next=5,dh(i.auth,n,Wa(r));case 5:return a=e.sent,e.abrupt("return",new sh(a,(function(e){return El(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hh(){return(hh=Ha($a().mark((function e(t,n,r){var i,a;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wa(t),e.next=3,dh(i.auth,n,Wa(r));case 3:return a=e.sent,e.abrupt("return",new sh(a,(function(e){return Tl(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dh(e,t,n){return ph.apply(this,arguments)}function ph(){return ph=Ha($a().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Yu("string"===typeof a,t,"argument-error"),Yu(r.type===ih,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Yu("enroll"===u.type,t,"internal-error"),e.next=13,ff(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Yu("signin"===u.type,t,"internal-error"),Yu(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Kf(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,zc(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),ph.apply(this,arguments)}function vh(){return(vh=Ha($a().mark((function e(t,n){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vl(Wa(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var mh=function(){function e(t){aa(this,e),this.providerId=e.PROVIDER_ID,this.auth=cc(t)}return ua(e,[{key:"verifyPhoneNumber",value:function(e,t){return dh(this.auth,e,Wa(t))}}],[{key:"credential",value:function(e,t){return Hc._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Hc._fromTokenResponse(n,r):null}}]),e}();function yh(e,t){return t?es(t):(Yu(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}mh.PROVIDER_ID="phone",mh.PHONE_SIGN_IN_METHOD="phone";var gh=function(e){ca(n,e);var t=pa(n);function n(e){var r;return aa(this,n),(r=t.call(this,"custom","custom")).params=e,r}return ua(n,[{key:"_getIdTokenResponse",value:function(e){return Vc(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Vc(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Vc(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(pc);function kh(e){return wl(e.auth,new gh(e),e.bypassAuthState)}function bh(e){var t=e.auth,n=e.user;return Yu(n,t,"internal-error"),kl(n,new gh(e),e.bypassAuthState)}function wh(e){return xh.apply(this,arguments)}function xh(){return xh=Ha($a().mark((function e(t){var n,r;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Yu(r=t.user,n,"internal-error"),e.abrupt("return",vl(r,new gh(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),xh.apply(this,arguments)}var _h=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];aa(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return ua(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Ha($a().mark((function t(n,r){return $a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Ha($a().mark((function e(t){var n,r,i,a,o,u,s;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kh;case"linkViaPopup":case"linkViaRedirect":return wh;case"reauthViaPopup":case"reauthViaRedirect":return bh;default:Wu(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Ju(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Ju(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Ih=new is(2e3,1e4);function Eh(e,t,n){return Sh.apply(this,arguments)}function Sh(){return Sh=Ha($a().mark((function e(t,n,r){var i,a,o;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=cc(t),Qu(t,n,Yc),a=yh(i,r),o=new Nh(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Sh.apply(this,arguments)}function Th(){return Th=Ha($a().mark((function e(t,n,r){var i,a,o;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qu((i=Wa(t)).auth,n,Yc),a=yh(i.auth,r),o=new Nh(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Th.apply(this,arguments)}function Ch(e,t,n){return Ah.apply(this,arguments)}function Ah(){return Ah=Ha($a().mark((function e(t,n,r){var i,a,o;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qu((i=Wa(t)).auth,n,Yc),a=yh(i.auth,r),o=new Nh(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Ah.apply(this,arguments)}var Nh=function(e){ca(n,e);var t=pa(n);function n(e,r,i,a,o){var u;return aa(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=hi(u),u}return ua(n,[{key:"executeNotNull",value:function(){var e=Ha($a().mark((function e(){var t;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Yu(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ha($a().mark((function e(){var t,n=this;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ju(1===this.filter.length,"Popup operations only handle one event"),t=_f(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Gu(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Gu(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Gu(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Ih.get())}()}}]),n}(_h);Nh.currentPopupAction=null;var Rh=new Map,Ph=function(e){ca(n,e);var t=pa(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return aa(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return ua(n,[{key:"execute",value:function(){var e=Ha($a().mark((function e(){var t,r;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Rh.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Oh(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Eu(la(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Rh.set(this.auth._key(),t);case 21:return this.bypassAuthState||Rh.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Ha($a().mark((function e(t){var r;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Eu(la(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Eu(la(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Ha($a().mark((function e(){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(_h);function Oh(e,t){return Dh.apply(this,arguments)}function Dh(){return Dh=Ha($a().mark((function e(t,n){var r,i,a;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Uh(n),i=Vh(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Dh.apply(this,arguments)}function Lh(e,t){return Mh.apply(this,arguments)}function Mh(){return Mh=Ha($a().mark((function e(t,n){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vh(t)._set(Uh(n),"true"));case 1:case"end":return e.stop()}}),e)}))),Mh.apply(this,arguments)}function Fh(e,t){Rh.set(e._key(),t)}function Vh(e){return es(e._redirectPersistence)}function Uh(e){return Gs("pendingRedirect",e.config.apiKey,e.name)}function jh(e,t,n){return function(e,t,n){return zh.apply(this,arguments)}(e,t,n)}function zh(){return zh=Ha($a().mark((function e(t,n,r){var i,a;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=cc(t),Qu(t,n,Yc),a=yh(i,r),e.next=5,Lh(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),zh.apply(this,arguments)}function Bh(e,t,n){return function(e,t,n){return qh.apply(this,arguments)}(e,t,n)}function qh(){return qh=Ha($a().mark((function e(t,n,r){var i,a,o;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qu((i=Wa(t)).auth,n,Yc),a=yh(i.auth,r),e.next=5,Lh(a,i.auth);case 5:return e.next=7,Yh(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)}))),qh.apply(this,arguments)}function Kh(e,t,n){return function(e,t,n){return Wh.apply(this,arguments)}(e,t,n)}function Wh(){return Wh=Ha($a().mark((function e(t,n,r){var i,a,o;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qu((i=Wa(t)).auth,n,Yc),a=yh(i.auth,r),e.next=5,yl(!1,i,n.providerId);case 5:return e.next=7,Lh(a,i.auth);case 7:return e.next=9,Yh(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)}))),Wh.apply(this,arguments)}function Gh(e,t){return Hh.apply(this,arguments)}function Hh(){return Hh=Ha($a().mark((function e(t,n){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cc(t)._initializationPromise;case 2:return e.abrupt("return",Qh(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),Hh.apply(this,arguments)}function Qh(e,t){return $h.apply(this,arguments)}function $h(){return $h=Ha($a().mark((function e(t,n){var r,i,a,o,u,s=arguments;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=cc(t),a=yh(i,n),o=new Ph(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),$h.apply(this,arguments)}function Yh(e){return Xh.apply(this,arguments)}function Xh(){return(Xh=Ha($a().mark((function e(t){var n;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=_f("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Jh=function(){function e(t){aa(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return ua(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ed(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!ed(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Gu(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zh(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Zh(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Zh(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function ed(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function td(e){return nd.apply(this,arguments)}function nd(){return nd=Ha($a().mark((function e(t){var n,r=arguments;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",ls(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),nd.apply(this,arguments)}var rd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,id=/^https?/;function ad(){return ad=Ha($a().mark((function e(t){var n,r,i,a,o;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,td(t);case 4:n=e.sent,r=n.authorizedDomains,i=sa(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!od(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Wu(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),ad.apply(this,arguments)}function od(e){var t=ts(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!id.test(r))return!1;if(rd.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var ud=new is(3e4,6e4);function sd(){var e=Ef().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=m(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var cd=null;function ld(e){return cd=cd||function(e){return new Promise((function(t,n){var r,i,a;function o(){sd(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){sd(),n(Gu(e,"network-request-failed"))},timeout:ud.get()})}if(null===(i=null===(r=Ef().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Ef().gapi)||void 0===a?void 0:a.load)){var u=Qf("iframefcb");return Ef()[u]=function(){gapi.load?o():n(Gu(e,"network-request-failed"))},Hf("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw cd=null,e}))}(e),cd}var fd=new is(5e3,15e3),hd={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pd(e){var t=e.config;Yu(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?as(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Ho},i=dd.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Ua(r).slice(1))}function vd(e){return md.apply(this,arguments)}function md(){return md=Ha($a().mark((function e(t){var n,r;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ld(t);case 2:return n=e.sent,Yu(r=Ef().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:pd(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hd,dontclear:!0},(function(e){return new Promise(function(){var n=Ha($a().mark((function n(r,i){var a,o,u;return $a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Ef().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Gu(t,"network-request-failed"),o=Ef().setTimeout((function(){i(a)}),fd.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),md.apply(this,arguments)}var yd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gd="_blank",kd="http://localhost",bd=function(){function e(t){aa(this,e),this.window=t,this.associatedEvent=null}return ua(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function wd(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},yd),{width:r.toString(),height:i.toString(),top:a,left:o}),l=Ea().toLowerCase();n&&(u=Xs(l)?gd:n),$s(l)&&(t=t||kd,s.scrollbars="yes");var f=Object.entries(s).reduce((function(e,t){var n=c(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(rc(l)&&"_self"!==u)return xd(t||"",u),new bd(null);var h=window.open(t||"",u,f);Yu(h,e,"popup-blocked");try{h.focus()}catch(d){}return new bd(h)}function xd(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var _d="__/auth/handler",Id="emulator/auth/handler";function Ed(e,t,n,r,i,a){Yu(e.config.authDomain,e,"auth-domain-config-required"),Yu(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ho,eventId:i};if(t instanceof Yc){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var l=c(s[u],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof Xc){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var y=m[v];void 0===p[y]&&delete p[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(_d);return as(t,Id)}(e),"?").concat(Ua(p).slice(1))}var Sd="webStorageSupport",Td=function(){function e(){aa(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bf,this._completeRedirectFn=Qh,this._overrideRedirectResult=Fh}return ua(e,[{key:"_openPopup",value:function(){var e=Ha($a().mark((function e(t,n,r,i){var a,o;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ju(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Ed(t,n,r,ts(),i),e.abrupt("return",wd(t,o,_f()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ha($a().mark((function e(t,n,r,i){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Ed(t,n,r,ts(),i),Ef().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Ju(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Ha($a().mark((function e(t){var n,r;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vd(t);case 2:return n=e.sent,r=new Jh(t),n.register("authEvent",(function(e){return Yu(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Sd,{type:Sd},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Wu(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return ad.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return ac()||Ys()||nc()}}]),e}(),Cd=Td,Ad=function(){function e(t){aa(this,e),this.factorId=t}return ua(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Xu("unexpected MultiFactorSessionType")}}}]),e}(),Nd=function(e){ca(n,e);var t=pa(n);function n(e){var r;return aa(this,n),(r=t.call(this,"phone")).credential=e,r}return ua(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return ls(e,"POST","/v2/accounts/mfaEnrollment:finalize",cs(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return ls(e,"POST","/v2/accounts/mfaSignIn:finalize",cs(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(Ad),Rd=function(){function e(){aa(this,e)}return ua(e,null,[{key:"assertion",value:function(e){return Nd._fromCredential(e)}}]),e}();Rd.FACTOR_ID="phone";var Pd,Od="@firebase/auth",Dd="0.20.0",Ld=function(){function e(t){aa(this,e),this.auth=t,this.internalListeners=new Map}return ua(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Ha($a().mark((function e(t){var n;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Yu(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function Md(){return window}Pd="Browser",jo(new Ya("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){Yu(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Yu(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:Pd,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oc(Pd)},i=new sc(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(es);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),jo(new Ya("auth-internal",(function(e){return function(e){return new Ld(e)}(cc(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Zo(Od,Dd,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Pd)),Zo(Od,Dd,"esm2017");function Fd(e,t,n){return Vd.apply(this,arguments)}function Vd(){return Vd=Ha($a().mark((function e(t,n,r){var i,a,o,u,s;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Md(),o=a.BuildInfo,Ju(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Kd(n.sessionId);case 4:return u=e.sent,s={},nc()?s.ibi=o.packageName:Zs()?s.apn=o.packageName:Wu(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",Ed(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),Vd.apply(this,arguments)}function Ud(){return Ud=Ha($a().mark((function e(t){var n,r,i;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Md(),r=n.BuildInfo,i={},nc()?i.iosBundleId=r.packageName:Zs()?i.androidPackageName=r.packageName:Wu(t,"operation-not-supported-in-this-environment"),e.next=5,td(t,i);case 5:case"end":return e.stop()}}),e)}))),Ud.apply(this,arguments)}function jd(e){var t=Md().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ea();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function zd(e,t,n){return Bd.apply(this,arguments)}function Bd(){return Bd=Ha($a().mark((function e(t,n,r){var i,a,o;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Md(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(Gu(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Zs()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Bd.apply(this,arguments)}function qd(e){var t,n,r,i,a,o,u,s,c,l,f=Md();Yu("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Yu("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Yu("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Yu("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Yu("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Kd(e){return Wd.apply(this,arguments)}function Wd(){return(Wd=Ha($a().mark((function e(t){var n,r,i;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Gd(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gd(e){if(Ju(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Hd=function(e){ca(n,e);var t=pa(n);function n(){var e;return aa(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return ua(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Eu(la(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Ha($a().mark((function e(){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Jh);function Qd(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:Zd(),postBody:null,tenantId:e.tenantId,error:Gu(e,"no-auth-event")}}function $d(e,t){return ep()._set(tp(e),t)}function Yd(e){return Xd.apply(this,arguments)}function Xd(){return Xd=Ha($a().mark((function e(t){var n;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ep()._get(tp(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,ep()._remove(tp(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Xd.apply(this,arguments)}function Jd(e,t){var n,r,i=function(e){var t=np(e),n=t.link?decodeURIComponent(t.link):void 0,r=np(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return np(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=np(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?Gu(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Zd(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function ep(){return es(gf)}function tp(e){return Gs("authEvent",e.config.apiKey,e.name)}function np(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=a(t=n)||v(t)||u(t)||s();r[0];return ja(r.slice(1).join("?"))}var rp=function(){function e(){aa(this,e),this._redirectPersistence=bf,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Qh,this._overrideRedirectResult=Fh}return ua(e,[{key:"_initialize",value:function(){var e=Ha($a().mark((function e(t){var n,r;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Hd(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Wu(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Ha($a().mark((function e(t,n,r,i){var a,o,u,s;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qd(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Rh.clear(),e.next=10,this._originValidation(t);case 10:return o=Qd(t,r,i),e.next=13,$d(t,o);case 13:return e.next=15,Fd(t,o,n);case 15:return u=e.sent,e.next=18,jd(u);case 18:return s=e.sent,e.abrupt("return",zd(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Ud.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Md(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Ha($a().mark((function n(){return $a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Yd(e);case 2:t.onEvent(ap());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Ha($a().mark((function n(r){var i,a;return $a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Yd(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Jd(i,r.url)),t.onEvent(a||ap());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");Md().handleOpenURL=function(){var e=Ha($a().mark((function e(t){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),ip=rp;function ap(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Gu("no-auth-event")}}function op(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function up(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ea();return!("file:"!==op()&&"ionic:"!==op()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function sp(){return Na()&&11===(null===document||void 0===document?void 0:document.documentMode)}function cp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ea();return/Edge\/\d+/.test(e)}function lp(){try{var e=self.localStorage,t=_f();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ea();return sp()||cp(e)}()||Ra()}catch(n){return fp()&&Ra()}return!1}function fp(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function hp(){return("http:"===op()||"https:"===op()||Ca()||up())&&!(Aa()||Ta())&&lp()&&!fp()}function dp(){return up()&&"undefined"!==typeof document}function pp(){return vp.apply(this,arguments)}function vp(){return(vp=Ha($a().mark((function e(){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(dp()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var mp={LOCAL:"local",NONE:"none",SESSION:"session"},yp=Yu,gp="persistence";function kp(e,t){yp(Object.values(mp).includes(t),e,"invalid-persistence-type"),Aa()?yp(t!==mp.SESSION,e,"unsupported-persistence-type"):Ta()?yp(t===mp.NONE,e,"unsupported-persistence-type"):fp()?yp(t===mp.NONE||t===mp.LOCAL&&Ra(),e,"unsupported-persistence-type"):yp(t===mp.NONE||lp(),e,"unsupported-persistence-type")}function bp(e){return wp.apply(this,arguments)}function wp(){return wp=Ha($a().mark((function e(t){var n,r;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=xp(),r=Gs(gp,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),wp.apply(this,arguments)}function xp(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var _p=Yu,Ip=function(){function e(){aa(this,e),this.browserResolver=es(Cd),this.cordovaResolver=es(ip),this.underlyingResolver=null,this._redirectPersistence=bf,this._completeRedirectFn=Qh,this._overrideRedirectResult=Fh}return ua(e,[{key:"_initialize",value:function(){var e=Ha($a().mark((function e(t){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Ha($a().mark((function e(t,n,r,i){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Ha($a().mark((function e(t,n,r,i){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return dp()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return _p(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Ha($a().mark((function e(){var t;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,pp();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ep(e){return e.unwrap()}function Sp(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new Rp(e,function(e,t){var n,r=Wa(e),i=t;return Yu(t.customData.operationType,r,"argument-error"),Yu(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),lf._fromError(r,i)}(e,t));else if(r){var i=Tp(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function Tp(e){var t=(e instanceof Pa?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Pa)&&"temporaryProof"in t&&"phoneNumber"in t)return mh.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Ru)return null;switch(r){case Nu:n=el;break;case Cu:n=Zc;break;case Au:n=tl;break;case Pu:n=il;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?nl._create(r,u):jc._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Jc(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof Pa?n.credentialFromError(e):n.credentialFromResult(e)}function Cp(e,t){return t.catch((function(t){throw t instanceof Pa&&Sp(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Tp(t)),additionalUserInfo:sf(e),user:Pp.getOrCreate(r)}}))}function Ap(e,t){return Np.apply(this,arguments)}function Np(){return Np=Ha($a().mark((function e(t,n){var r;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Cp(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),Np.apply(this,arguments)}var Rp=function(){function e(t,n){aa(this,e),this.resolver=n,this.auth=t.wrapped()}return ua(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Cp(Ep(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Pp=function(){function e(t){aa(this,e),this._delegate=t,this.multiFactor=function(e){var t=Wa(e);return pf.has(t)||pf.set(t,df._fromUser(t)),pf.get(t)}(t)}return ua(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Ha($a().mark((function e(t){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cp(this.auth,El(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Ha($a().mark((function e(t,n){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ap(this.auth,lh(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Ha($a().mark((function e(t){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cp(this.auth,Ch(this._delegate,t,Ip)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Ha($a().mark((function e(t){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bp(cc(this.auth));case 2:return e.abrupt("return",Kh(this._delegate,t,Ip));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Ha($a().mark((function e(t){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cp(this.auth,Tl(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Ap(this.auth,function(e,t,n){return hh.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Cp(this.auth,function(e,t,n){return Th.apply(this,arguments)}(this._delegate,e,Ip))}},{key:"reauthenticateWithRedirect",value:function(){var e=Ha($a().mark((function e(t){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bp(cc(this.auth));case 2:return e.abrupt("return",Bh(this._delegate,t,Ip));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Ql.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Ha($a().mark((function e(t){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dl(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Zl(Wa(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Zl(Wa(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return vh.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Jl.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return $l.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Pp.USER_MAP=new WeakMap;var Op=Yu,Dp=function(){function e(t,n){if(aa(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Op(r,"invalid-api-key",{appName:t.name}),Op(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Ip:void 0;this._delegate=n.initialize({options:{persistence:Mp(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(ju),this.linkUnderlyingAuth()}return ua(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Pp.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){fc(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Fl.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Vl(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Ml.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Ha($a().mark((function e(t,n){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cp(this._delegate,zl(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Hl.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Qc.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Ha($a().mark((function e(){var t;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Op(hp(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Gh(this._delegate,Ip);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Cp(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){cc(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Lp(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Lp(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return ql.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Ll.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Ha($a().mark((function e(t){var n,r;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:kp(this._delegate,t),e.t0=t,e.next=e.t0===mp.SESSION?4:e.t0===mp.LOCAL?6:e.t0===mp.NONE?11:13;break;case 4:return n=bf,e.abrupt("break",14);case 6:return e.next=8,es(qf)._isAvailable();case 8:return r=e.sent,n=r?qf:gf,e.abrupt("break",14);case 11:return n=Ws,e.abrupt("break",14);case 13:return e.abrupt("return",Wu("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Cp(this._delegate,function(e){return cl.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Cp(this._delegate,_l(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Cp(this._delegate,function(e,t){return Rl.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Cp(this._delegate,function(e,t,n){return _l(Wa(e),$c.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Cp(this._delegate,function(e,t,n){return Kl.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Ap(this._delegate,function(e,t,n){return ch.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Ha($a().mark((function e(t){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Op(hp(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Cp(this._delegate,Eh(this._delegate,t,Ip)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Ha($a().mark((function e(t){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Op(hp(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,bp(this._delegate);case 3:return e.abrupt("return",jh(this._delegate,t,Ip));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return jl.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Lp(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Pp.getOrCreate(e))},error:t,complete:n}}function Mp(e,t){var n=function(e,t){var n=xp();if(!n)return[];var r=Gs(gp,e,t);switch(n.getItem(r)){case mp.NONE:return[Ws];case mp.LOCAL:return[qf,bf];case mp.SESSION:return[bf];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(qf)||n.push(qf),"undefined"!==typeof window)for(var r=0,i=[gf,bf];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Ws)||n.push(Ws),n}Dp.Persistence=mp;var Fp=function(){function e(){aa(this,e),this.providerId="phone",this._delegate=new mh(Ep(_u.auth()))}return ua(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return mh.credential(e,t)}}]),e}();Fp.PHONE_SIGN_IN_METHOD=mh.PHONE_SIGN_IN_METHOD,Fp.PROVIDER_ID=mh.PROVIDER_ID;var Vp,Up=Yu,jp=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_u.app();aa(this,e),Up(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new oh(t,n,i.auth()),this.type=this._delegate.type}return ua(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Vp=_u).INTERNAL.registerComponent(new Ya("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Dp(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Ou,PASSWORD_RESET:Du,RECOVER_EMAIL:Lu,REVERT_SECOND_FACTOR_ADDITION:Mu,VERIFY_AND_CHANGE_EMAIL:Fu,VERIFY_EMAIL:Vu}},EmailAuthProvider:$c,FacebookAuthProvider:Zc,GithubAuthProvider:tl,GoogleAuthProvider:el,OAuthProvider:Jc,SAMLAuthProvider:rl,PhoneAuthProvider:Fp,PhoneMultiFactorGenerator:Rd,RecaptchaVerifier:jp,TwitterAuthProvider:il,Auth:Dp,AuthCredential:pc,Error:Pa}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Vp.registerVersion("@firebase/auth-compat","0.2.13");var zp,Bp="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},qp={},Kp=Kp||{},Wp=Bp||self;function Gp(){}function Hp(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Qp(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var $p="closure_uid_"+(1e9*Math.random()>>>0),Yp=0;function Xp(e,t,n){return e.call.apply(e.bind,arguments)}function Jp(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Zp(e,t,n){return(Zp=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Xp:Jp).apply(null,arguments)}function ev(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function tv(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function nv(){this.s=this.s,this.o=this.o}var rv={};nv.prototype.s=!1,nv.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,$p)&&e[$p]||(e[$p]=++Yp)}(this);delete rv[e]}},nv.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var iv=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},av=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function ov(e){return Array.prototype.concat.apply([],arguments)}function uv(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function sv(e){return/^[\s\xa0]*$/.test(e)}var cv,lv=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function fv(e,t){return-1!=e.indexOf(t)}function hv(e,t){return e<t?-1:e>t?1:0}e:{var dv=Wp.navigator;if(dv){var pv=dv.userAgent;if(pv){cv=pv;break e}}cv=""}function vv(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function mv(e){var t={};for(var n in e)t[n]=e[n];return t}var yv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gv(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<yv.length;a++)n=yv[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function kv(e){return kv[" "](e),e}kv[" "]=Gp;var bv,wv=fv(cv,"Opera"),xv=fv(cv,"Trident")||fv(cv,"MSIE"),_v=fv(cv,"Edge"),Iv=_v||xv,Ev=fv(cv,"Gecko")&&!(fv(cv.toLowerCase(),"webkit")&&!fv(cv,"Edge"))&&!(fv(cv,"Trident")||fv(cv,"MSIE"))&&!fv(cv,"Edge"),Sv=fv(cv.toLowerCase(),"webkit")&&!fv(cv,"Edge");function Tv(){var e=Wp.document;return e?e.documentMode:void 0}e:{var Cv="",Av=function(){var e=cv;return Ev?/rv:([^\);]+)(\)|;)/.exec(e):_v?/Edge\/([\d\.]+)/.exec(e):xv?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Sv?/WebKit\/(\S+)/.exec(e):wv?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Av&&(Cv=Av?Av[1]:""),xv){var Nv=Tv();if(null!=Nv&&Nv>parseFloat(Cv)){bv=String(Nv);break e}}bv=Cv}var Rv,Pv={};function Ov(){return function(e){var t=Pv;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=lv(String(bv)).split("."),n=lv("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=hv(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||hv(0==a[2].length,0==o[2].length)||hv(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Wp.document&&xv){var Dv=Tv();Rv=Dv||(parseInt(bv,10)||void 0)}else Rv=void 0;var Lv=Rv,Mv=function(){if(!Wp.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Wp.addEventListener("test",Gp,t),Wp.removeEventListener("test",Gp,t)}catch(n){}return e}();function Fv(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Vv(e,t){if(Fv.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Ev){e:{try{kv(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Uv[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Vv.Z.h.call(this)}}Fv.prototype.h=function(){this.defaultPrevented=!0},tv(Vv,Fv);var Uv={2:"touch",3:"pen",4:"mouse"};Vv.prototype.h=function(){Vv.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var jv="closure_listenable_"+(1e6*Math.random()|0),zv=0;function Bv(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++zv,this.ca=this.fa=!1}function qv(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Kv(e){this.src=e,this.g={},this.h=0}function Wv(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=iv(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(qv(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Gv(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Kv.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Gv(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Bv(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Hv="closure_lm_"+(1e6*Math.random()|0),Qv={};function $v(e,t,n,r,i){if(r&&r.once)return Xv(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)$v(e,t[a],n,r,i);return null}return n=im(n),e&&e[jv]?e.N(t,n,Qp(r)?!!r.capture:!!r,i):Yv(e,t,n,!1,r,i)}function Yv(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Qp(i)?!!i.capture:!!i,u=nm(e);if(u||(e[Hv]=u=new Kv(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=tm;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Mv||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(em(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Xv(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Xv(e,t[a],n,r,i);return null}return n=im(n),e&&e[jv]?e.O(t,n,Qp(r)?!!r.capture:!!r,i):Yv(e,t,n,!0,r,i)}function Jv(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Jv(e,t[a],n,r,i);else r=Qp(r)?!!r.capture:!!r,n=im(n),e&&e[jv]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Gv(a=e.g[t],n,r,i))&&(qv(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=nm(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Gv(t,n,r,i)),(n=-1<e?t[e]:null)&&Zv(n))}function Zv(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[jv])Wv(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(em(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=nm(t))?(Wv(n,e),0==n.h&&(n.src=null,t[Hv]=null)):qv(e)}}}function em(e){return e in Qv?Qv[e]:Qv[e]="on"+e}function tm(e,t){if(e.ca)e=!0;else{t=new Vv(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Zv(e),e=n.call(r,t)}return e}function nm(e){return(e=e[Hv])instanceof Kv?e:null}var rm="__closure_events_fn_"+(1e9*Math.random()>>>0);function im(e){return"function"===typeof e?e:(e[rm]||(e[rm]=function(t){return e.handleEvent(t)}),e[rm])}function am(){nv.call(this),this.i=new Kv(this),this.P=this,this.I=null}function om(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Fv(t,e);else if(t instanceof Fv)t.target=t.target||e;else{var i=t;gv(t=new Fv(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=um(o,r,!0,t)&&i}if(i=um(o=t.g=e,r,!0,t)&&i,i=um(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=um(o=t.g=n[a],r,!1,t)&&i}function um(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&Wv(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}tv(am,nv),am.prototype[jv]=!0,am.prototype.removeEventListener=function(e,t,n,r){Jv(this,e,t,n,r)},am.prototype.M=function(){if(am.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)qv(n[r]);delete t.g[e],t.h--}}this.I=null},am.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},am.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var sm=Wp.JSON.stringify;function cm(){var e=ym,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var lm,fm=function(){function e(){aa(this,e),this.h=this.g=null}return ua(e,[{key:"add",value:function(e,t){var n=hm.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),hm=new(function(){function e(t,n){aa(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return ua(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new dm}),(function(e){return e.reset()})),dm=function(){function e(){aa(this,e),this.next=this.g=this.h=null}return ua(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function pm(e){Wp.setTimeout((function(){throw e}),0)}function vm(e,t){lm||function(){var e=Wp.Promise.resolve(void 0);lm=function(){e.then(gm)}}(),mm||(lm(),mm=!0),ym.add(e,t)}var mm=!1,ym=new fm;function gm(){for(var e;e=cm();){try{e.h.call(e.g)}catch(n){pm(n)}var t=hm;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}mm=!1}function km(e,t){am.call(this),this.h=e||1,this.g=t||Wp,this.j=Zp(this.kb,this),this.l=Date.now()}function bm(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function wm(e,t,n){if("function"===typeof e)n&&(e=Zp(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Zp(e.handleEvent,e)}return 2147483647<Number(t)?-1:Wp.setTimeout(e,t||0)}function xm(e){e.g=wm((function(){e.g=null,e.i&&(e.i=!1,xm(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}tv(km,am),(zp=km.prototype).da=!1,zp.S=null,zp.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),om(this,"tick"),this.da&&(bm(this),this.start()))}},zp.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},zp.M=function(){km.Z.M.call(this),bm(this),delete this.g};var _m=function(e){ca(n,e);var t=pa(n);function n(e,r){var i;return aa(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return ua(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:xm(this)}},{key:"M",value:function(){Eu(la(n.prototype),"M",this).call(this),this.g&&(Wp.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(nv);function Im(e){nv.call(this),this.h=e,this.g={}}tv(Im,nv);var Em=[];function Sm(e,t,n,r){Array.isArray(n)||(n&&(Em[0]=n.toString()),n=Em);for(var i=0;i<n.length;i++){var a=$v(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Tm(e){vv(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Zv(e)}),e),e.g={}}function Cm(){this.g=!0}function Am(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return sm(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Im.prototype.M=function(){Im.Z.M.call(this),Tm(this)},Im.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Cm.prototype.Aa=function(){this.g=!1},Cm.prototype.info=function(){};var Nm={},Rm=null;function Pm(){return Rm=Rm||new am}function Om(e){Fv.call(this,Nm.Ma,e)}function Dm(e){var t=Pm();om(t,new Om(t,e))}function Lm(e,t){Fv.call(this,Nm.STAT_EVENT,e),this.stat=t}function Mm(e){var t=Pm();om(t,new Lm(t,e))}function Fm(e,t){Fv.call(this,Nm.Na,e),this.size=t}function Vm(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Wp.setTimeout((function(){e()}),t)}Nm.Ma="serverreachability",tv(Om,Fv),Nm.STAT_EVENT="statevent",tv(Lm,Fv),Nm.Na="timingevent",tv(Fm,Fv);var Um={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},jm={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function zm(){}function Bm(e){return e.h||(e.h=e.i())}function qm(){}zm.prototype.h=null;var Km,Wm={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Gm(){Fv.call(this,"d")}function Hm(){Fv.call(this,"c")}function Qm(){}function $m(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Im(this),this.P=Xm,e=Iv?125:void 0,this.W=new km(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ym}function Ym(){this.i=null,this.g="",this.h=!1}tv(Gm,Fv),tv(Hm,Fv),tv(Qm,zm),Qm.prototype.g=function(){return new XMLHttpRequest},Qm.prototype.i=function(){return{}},Km=new Qm;var Xm=45e3,Jm={},Zm={};function ey(e,t,n){e.K=1,e.v=_y(yy(t)),e.s=n,e.U=!0,ty(e,null)}function ty(e,t){e.F=Date.now(),ay(e),e.A=yy(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),My(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Ym,e.g=Vg(e.l,n?t:null,!e.s),0<e.O&&(e.L=new _m(Zp(e.Ia,e,e.g),e.O)),Sm(e.V,e.g,"readystatechange",e.gb),t=e.H?mv(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Dm(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function ny(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function ry(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=iy(e,n))==Zm){4==t&&(e.o=4,Mm(14),i=!1),Am(e.j,e.m,null,"[Incomplete Response]");break}if(r==Jm){e.o=4,Mm(15),Am(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Am(e.j,e.m,r,null),ly(e,r)}ny(e)&&r!=Zm&&r!=Jm&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Mm(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ng(t),t.L=!0,Mm(11))):(Am(e.j,e.m,n,"[Invalid Chunked Response]"),cy(e),sy(e))}function iy(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Zm:(n=Number(t.substring(n,r)),isNaN(n)?Jm:(r+=1)+n>t.length?Zm:(t=t.substr(r,n),e.C=r+n,t))}function ay(e){e.Y=Date.now()+e.P,oy(e,e.P)}function oy(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Vm(Zp(e.eb,e),t)}function uy(e){e.B&&(Wp.clearTimeout(e.B),e.B=null)}function sy(e){0==e.l.G||e.I||Og(e.l,e)}function cy(e){uy(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,bm(e.W),Tm(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function ly(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Ky(n.i,e)))if(n.I=e.N,!e.J&&Ky(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Pg(n),wg(n)}Ag(n),Mm(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Vm(Zp(n.ab,n),6e3));if(1>=qy(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Lg(n,11)}else if((e.J||n.g==e)&&Pg(n),!sv(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(fv(l,"spdy")||fv(l,"quic")||fv(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Wy(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,xy(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Fg(r,r.H?r.la:null,r.W),d.J){Gy(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(uy(p),ay(p)),r.g=d}else Cg(r);0<n.l.length&&Ig(n)}else"stop"!=a[0]&&"close"!=a[0]||Lg(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Lg(n,7):bg(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Dm(4)}catch(a){}}function fy(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Hp(e)||"string"===typeof e)av(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Hp(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Hp(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function hy(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof hy)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function dy(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];py(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)py(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function py(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(zp=$m.prototype).setTimeout=function(e){this.P=e},zp.gb=function(e){e=e.target;var t=this.L;t&&3==vg(e)?t.l():this.Ia(e)},zp.Ia=function(e){try{if(e==this.g)e:{var t=vg(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Iv||this.g&&(this.h.h||this.g.ga()||mg(this.g)))){this.I||4!=t||7==n||Dm(8==n||0>=r?3:2),uy(this);var i=this.g.ba();this.N=i;t:if(ny(this)){var a=mg(this.g);e="";var o=a.length,u=4==vg(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){cy(this),sy(this);var s="";break t}this.h.i=new Wp.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!sv(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Mm(12),cy(this),sy(this);break e}Am(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ly(this,i)}this.U?(ry(this,t,s),Iv&&this.i&&3==t&&(Sm(this.V,this.W,"tick",this.fb),this.W.start())):(Am(this.j,this.m,s,null),ly(this,s)),4==t&&cy(this),this.i&&!this.I&&(4==t?Og(this.l,this):(this.i=!1,ay(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,Mm(12)):(this.o=0,Mm(13)),cy(this),sy(this)}}}catch(t){}},zp.fb=function(){if(this.g){var e=vg(this.g),t=this.g.ga();this.C<t.length&&(uy(this),ry(this,e,t),this.i&&4!=e&&ay(this))}},zp.cancel=function(){this.I=!0,cy(this)},zp.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Dm(3),Mm(17)),cy(this),this.o=2,sy(this)):oy(this,this.Y-e)},(zp=hy.prototype).R=function(){dy(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},zp.T=function(){return dy(this),this.g.concat()},zp.get=function(e,t){return py(this.h,e)?this.h[e]:t},zp.set=function(e,t){py(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},zp.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var vy=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function my(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof my){this.g=void 0!==t?t:e.g,gy(this,e.j),this.s=e.s,ky(this,e.i),by(this,e.m),this.l=e.l,t=e.h;var n=new Py;n.i=t.i,t.g&&(n.g=new hy(t.g),n.h=t.h),wy(this,n),this.o=e.o}else e&&(n=String(e).match(vy))?(this.g=!!t,gy(this,n[1]||"",!0),this.s=Iy(n[2]||""),ky(this,n[3]||"",!0),by(this,n[4]),this.l=Iy(n[5]||"",!0),wy(this,n[6]||"",!0),this.o=Iy(n[7]||"")):(this.g=!!t,this.h=new Py(null,this.g))}function yy(e){return new my(e)}function gy(e,t,n){e.j=n?Iy(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function ky(e,t,n){e.i=n?Iy(t,!0):t}function by(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function wy(e,t,n){t instanceof Py?(e.h=t,function(e,t){t&&!e.j&&(Oy(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Dy(this,t),My(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Ey(t,Ny)),e.h=new Py(t,e.g))}function xy(e,t,n){e.h.set(t,n)}function _y(e){return xy(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Iy(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ey(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Sy),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Sy(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}my.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ey(t,Ty,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ey(t,Ty,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ey(n,"/"==n.charAt(0)?Ay:Cy,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ey(n,Ry)),e.join("")};var Ty=/[#\/\?@]/g,Cy=/[#\?:]/g,Ay=/[#\?]/g,Ny=/[#\?@]/g,Ry=/#/g;function Py(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Oy(e){e.g||(e.g=new hy,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Dy(e,t){Oy(e),t=Fy(e,t),py(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,py((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&dy(e)))}function Ly(e,t){return Oy(e),t=Fy(e,t),py(e.g.h,t)}function My(e,t,n){Dy(e,t),0<n.length&&(e.i=null,e.g.set(Fy(e,t),uv(n)),e.h+=n.length)}function Fy(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(zp=Py.prototype).add=function(e,t){Oy(this),this.i=null,e=Fy(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},zp.forEach=function(e,t){Oy(this),this.g.forEach((function(n,r){av(n,(function(n){e.call(t,n,r,this)}),this)}),this)},zp.T=function(){Oy(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},zp.R=function(e){Oy(this);var t=[];if("string"===typeof e)Ly(this,e)&&(t=ov(t,this.g.get(Fy(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=ov(t,e[n])}return t},zp.set=function(e,t){return Oy(this),this.i=null,Ly(this,e=Fy(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},zp.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},zp.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Vy=ua((function e(t,n){aa(this,e),this.h=t,this.g=n}));function Uy(e){this.l=e||zy,Wp.PerformanceNavigationTiming?e=0<(e=Wp.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Wp.g&&Wp.g.Ea&&Wp.g.Ea()&&Wp.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var jy,zy=10;function By(e){return!!e.h||!!e.g&&e.g.size>=e.j}function qy(e){return e.h?1:e.g?e.g.size:0}function Ky(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Wy(e,t){e.g?e.g.add(t):e.h=t}function Gy(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Hy(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=sa(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return uv(e.i)}function Qy(){}function $y(){this.g=new Qy}function Yy(e,t,n){var r=n||"";try{fy(e,(function(e,n){var i=e;Qp(e)&&(i=sm(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Xy(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Jy(e){this.l=e.$b||null,this.j=e.ib||!1}function Zy(e,t){am.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=eg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Uy.prototype.cancel=function(){if(this.i=Hy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=sa(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Qy.prototype.stringify=function(e){return Wp.JSON.stringify(e,void 0)},Qy.prototype.parse=function(e){return Wp.JSON.parse(e,void 0)},tv(Jy,zm),Jy.prototype.g=function(){return new Zy(this.l,this.j)},Jy.prototype.i=(jy={},function(){return jy}),tv(Zy,am);var eg=0;function tg(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function ng(e){e.readyState=4,e.l=null,e.j=null,e.A=null,rg(e)}function rg(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(zp=Zy.prototype).open=function(e,t){if(this.readyState!=eg)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,rg(this)},zp.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Wp).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},zp.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ng(this)),this.readyState=eg},zp.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,rg(this)),this.g&&(this.readyState=3,rg(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Wp.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;tg(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},zp.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ng(this):rg(this),3==this.readyState&&tg(this)}},zp.Ua=function(e){this.g&&(this.response=this.responseText=e,ng(this))},zp.Ta=function(e){this.g&&(this.response=e,ng(this))},zp.ha=function(){this.g&&ng(this)},zp.setRequestHeader=function(e,t){this.v.append(e,t)},zp.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},zp.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Zy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var ig=Wp.JSON.parse;function ag(e){am.call(this),this.headers=new hy,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=og,this.K=this.L=!1}tv(ag,am);var og="",ug=/^https?$/i,sg=["POST","PUT"];function cg(e){return"content-type"==e.toLowerCase()}function lg(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,fg(e),dg(e)}function fg(e){e.D||(e.D=!0,om(e,"complete"),om(e,"error"))}function hg(e){if(e.h&&"undefined"!=typeof Kp&&(!e.C[1]||4!=vg(e)||2!=e.ba()))if(e.v&&4==vg(e))wm(e.Fa,0,e);else if(om(e,"readystatechange"),4==vg(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(vy)[1]||null;if(!a&&Wp.self&&Wp.self.location){var o=Wp.self.location.protocol;a=o.substr(0,o.length-1)}i=!ug.test(a?a.toLowerCase():"")}t=i}if(t)om(e,"complete"),om(e,"success");else{e.m=6;try{var u=2<vg(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",fg(e)}}finally{dg(e)}}}function dg(e,t){if(e.g){pg(e);var n=e.g,r=e.C[0]?Gp:null;e.g=null,e.C=null,t||om(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function pg(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Wp.clearTimeout(e.A),e.A=null)}function vg(e){return e.g?e.g.readyState:0}function mg(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case og:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function yg(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return vv(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):xy(e,t,n))}function gg(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function kg(e){this.za=0,this.l=[],this.h=new Cm,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=gg("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=gg("baseRetryDelayMs",5e3,e),this.$a=gg("retryDelaySeedMs",1e4,e),this.Ya=gg("forwardChannelMaxRetries",2,e),this.ra=gg("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Uy(e&&e.concurrentRequestLimit),this.Ca=new $y,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function bg(e){if(xg(e),3==e.G){var t=e.V++,n=yy(e.F);xy(n,"SID",e.J),xy(n,"RID",t),xy(n,"TYPE","terminate"),Sg(e,n),(t=new $m(e,e.h,t,void 0)).K=2,t.v=_y(yy(n)),n=!1,Wp.navigator&&Wp.navigator.sendBeacon&&(n=Wp.navigator.sendBeacon(t.v.toString(),"")),!n&&Wp.Image&&((new Image).src=t.v,n=!0),n||(t.g=Vg(t.l,null),t.g.ea(t.v)),t.F=Date.now(),ay(t)}Mg(e)}function wg(e){e.g&&(Ng(e),e.g.cancel(),e.g=null)}function xg(e){wg(e),e.u&&(Wp.clearTimeout(e.u),e.u=null),Pg(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Wp.clearTimeout(e.m),e.m=null)}function _g(e,t){e.l.push(new Vy(e.Za++,t)),3==e.G&&Ig(e)}function Ig(e){By(e.i)||e.m||(e.m=!0,vm(e.Ha,e),e.C=0)}function Eg(e,t){var n;n=t?t.m:e.V++;var r=yy(e.F);xy(r,"SID",e.J),xy(r,"RID",n),xy(r,"AID",e.U),Sg(e,r),e.o&&e.s&&yg(r,e.o,e.s),n=new $m(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Tg(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Wy(e.i,n),ey(n,r,t)}function Sg(e,t){e.j&&fy({},(function(e,n){xy(t,n,e)}))}function Tg(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Zp(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Yy(l,o,"req"+c+"_")}catch(hk){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Cg(e){e.g||e.u||(e.Y=1,vm(e.Ga,e),e.A=0)}function Ag(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Vm(Zp(e.Ga,e),Dg(e,e.A)),e.A++,!0)}function Ng(e){null!=e.B&&(Wp.clearTimeout(e.B),e.B=null)}function Rg(e){e.g=new $m(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=yy(e.oa);xy(t,"RID","rpc"),xy(t,"SID",e.J),xy(t,"CI",e.N?"0":"1"),xy(t,"AID",e.U),Sg(e,t),xy(t,"TYPE","xmlhttp"),e.o&&e.s&&yg(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=_y(yy(t)),n.s=null,n.U=!0,ty(n,e)}function Pg(e){null!=e.v&&(Wp.clearTimeout(e.v),e.v=null)}function Og(e,t){var n=null;if(e.g==t){Pg(e),Ng(e),e.g=null;var r=2}else{if(!Ky(e.i,t))return;n=t.D,Gy(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;om(r=Pm(),new Fm(r,n,t,i)),Ig(e)}else Cg(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(qy(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Vm(Zp(e.Ha,e,t),Dg(e,e.C)),e.C++,!0))}(e,t)||2==r&&Ag(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Lg(e,5);break;case 4:Lg(e,10);break;case 3:Lg(e,6);break;default:Lg(e,2)}}function Dg(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Lg(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Zp(e.jb,e);n||(n=new my("//www.google.com/images/cleardot.gif"),Wp.location&&"http"==Wp.location.protocol||gy(n,"https"),_y(n)),function(e,t){var n=new Cm;if(Wp.Image){var r=new Image;r.onload=ev(Xy,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ev(Xy,n,r,"TestLoadImage: error",!1,t),r.onabort=ev(Xy,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ev(Xy,n,r,"TestLoadImage: timeout",!1,t),Wp.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Mm(2);e.G=0,e.j&&e.j.va(t),Mg(e),xg(e)}function Mg(e){e.G=0,e.I=-1,e.j&&(0==Hy(e.i).length&&0==e.l.length||(e.i.i.length=0,uv(e.l),e.l.length=0),e.j.ua())}function Fg(e,t,n){var r=function(e){return e instanceof my?yy(e):new my(e,void 0)}(n);if(""!=r.i)t&&ky(r,t+"."+r.i),by(r,r.m);else{var i=Wp.location;r=function(e,t,n,r){var i=new my(null,void 0);return e&&gy(i,e),t&&ky(i,t),n&&by(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&vv(e.aa,(function(e,t){xy(r,t,e)})),t=e.D,n=e.sa,t&&n&&xy(r,t,n),xy(r,"VER",e.ma),Sg(e,r),r}function Vg(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new ag(new Jy({ib:!0})):new ag(e.qa)).L=e.H,t}function Ug(){}function jg(){if(xv&&!(10<=Number(Lv)))throw Error("Environmental error: no available transport.")}function zg(e,t){am.call(this),this.g=new kg(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!sv(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!sv(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Kg(this)}function Bg(e){Gm.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function qg(){Hm.call(this),this.status=1}function Kg(e){this.g=e}(zp=ag.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Km.g(),this.C=this.u?Bm(this.u):Bm(Km),this.g.onreadystatechange=Zp(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void lg(this,a)}e=n||"";var i=new hy(this.headers);r&&fy(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=cg,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Wp.FormData&&e instanceof Wp.FormData,!(0<=iv(sg,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{pg(this),0<this.B&&((this.K=function(e){return xv&&Ov()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Zp(this.pa,this)):this.A=wm(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){lg(this,a)}},zp.pa=function(){"undefined"!=typeof Kp&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,om(this,"timeout"),this.abort(8))},zp.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,om(this,"complete"),om(this,"abort"),dg(this))},zp.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),dg(this,!0)),ag.Z.M.call(this)},zp.Fa=function(){this.s||(this.F||this.v||this.l?hg(this):this.cb())},zp.cb=function(){hg(this)},zp.ba=function(){try{return 2<vg(this)?this.g.status:-1}catch(jy){return-1}},zp.ga=function(){try{return this.g?this.g.responseText:""}catch(jy){return""}},zp.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ig(t)}},zp.Da=function(){return this.m},zp.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(zp=kg.prototype).ma=8,zp.G=1,zp.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},zp.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new $m(this,this.h,e,void 0),n=this.s;if(this.P&&(n?gv(n=mv(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Tg(this,t,r),xy(i=yy(this.F),"RID",e),xy(i,"CVER",22),this.D&&xy(i,"X-HTTP-Session-Id",this.D),Sg(this,i),this.o&&n&&yg(i,this.o,n),Wy(this.i,t),this.Ra&&xy(i,"TYPE","init"),this.ja?(xy(i,"$req",r),xy(i,"SID","null"),t.$=!0,ey(t,i,null)):ey(t,i,r),this.G=2}}else 3==this.G&&(e?Eg(this,e):0==this.l.length||By(this.i)||Eg(this))},zp.Ga=function(){if(this.u=null,Rg(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Vm(Zp(this.bb,this),e)}},zp.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Mm(10),wg(this),Rg(this))},zp.ab=function(){null!=this.v&&(this.v=null,wg(this),Ag(this),Mm(19))},zp.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Mm(2)):(this.h.info("Failed to ping google.com"),Mm(1))},(zp=Ug.prototype).xa=function(){},zp.wa=function(){},zp.va=function(){},zp.ua=function(){},zp.Oa=function(){},jg.prototype.g=function(e,t){return new zg(e,t)},tv(zg,am),zg.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),vm(Zp(e.hb,e,t))),Mm(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Fg(e,null,e.W),Ig(e)},zg.prototype.close=function(){bg(this.g)},zg.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,_g(this.g,t)}else this.v?((t={}).__data__=sm(e),_g(this.g,t)):_g(this.g,e)},zg.prototype.M=function(){this.g.j=null,delete this.j,bg(this.g),delete this.g,zg.Z.M.call(this)},tv(Bg,Gm),tv(qg,Hm),tv(Kg,Ug),Kg.prototype.xa=function(){om(this.g,"a")},Kg.prototype.wa=function(e){om(this.g,new Bg(e))},Kg.prototype.va=function(e){om(this.g,new qg(e))},Kg.prototype.ua=function(){om(this.g,"b")},jg.prototype.createWebChannel=jg.prototype.g,zg.prototype.send=zg.prototype.u,zg.prototype.open=zg.prototype.m,zg.prototype.close=zg.prototype.close,Um.NO_ERROR=0,Um.TIMEOUT=8,Um.HTTP_ERROR=6,jm.COMPLETE="complete",qm.EventType=Wm,Wm.OPEN="a",Wm.CLOSE="b",Wm.ERROR="c",Wm.MESSAGE="d",am.prototype.listen=am.prototype.N,ag.prototype.listenOnce=ag.prototype.O,ag.prototype.getLastError=ag.prototype.La,ag.prototype.getLastErrorCode=ag.prototype.Da,ag.prototype.getStatus=ag.prototype.ba,ag.prototype.getResponseJson=ag.prototype.Qa,ag.prototype.getResponseText=ag.prototype.ga,ag.prototype.send=ag.prototype.ea;var Wg=qp.createWebChannelTransport=function(){return new jg},Gg=qp.getStatEventTarget=function(){return Pm()},Hg=qp.ErrorCode=Um,Qg=qp.EventType=jm,$g=qp.Event=Nm,Yg=qp.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Xg=qp.FetchXmlHttpFactory=Jy,Jg=qp.WebChannel=qm,Zg=qp.XhrIo=ag,ek="@firebase/firestore",tk=function(){function e(t){aa(this,e),this.uid=t}return ua(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();tk.UNAUTHENTICATED=new tk(null),tk.GOOGLE_CREDENTIALS=new tk("google-credentials-uid"),tk.FIRST_PARTY=new tk("first-party-uid"),tk.MOCK_USER=new tk("mock-user");var nk="9.8.0",rk=new so("@firebase/firestore");function ik(){return rk.logLevel}function ak(e){if(rk.logLevel<=to.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(sk);rk.debug.apply(rk,["Firestore (".concat(nk,"): ").concat(e)].concat(m(i)))}}function ok(e){if(rk.logLevel<=to.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(sk);rk.error.apply(rk,["Firestore (".concat(nk,"): ").concat(e)].concat(m(i)))}}function uk(e){if(rk.logLevel<=to.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(sk);rk.warn.apply(rk,["Firestore (".concat(nk,"): ").concat(e)].concat(m(i)))}}function sk(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function ck(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(nk,") INTERNAL ASSERTION FAILED: ")+e;throw ok(t),new Error(t)}function lk(e,t){e||ck()}function fk(e,t){return e}var hk={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},dk=function(e){ca(n,e);var t=pa(n);function n(e,r){var i;return aa(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return ua(n)}(Pa),pk=ua((function e(){var t=this;aa(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),vk=ua((function e(t,n){aa(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),mk=function(){function e(){aa(this,e)}return ua(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(tk.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),yk=function(){function e(t){aa(this,e),this.token=t,this.changeListener=null}return ua(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),gk=function(){function e(t){aa(this,e),this.t=t,this.currentUser=tk.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return ua(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new pk;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new pk,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Ha($a().mark((function e(){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){ak("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(ak("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new pk)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(ak("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(lk("string"==typeof n.accessToken),new vk(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return lk(null===e||"string"==typeof e),new tk(e)}}]),e}(),kk=ua((function e(t,n,r){aa(this,e),this.type="FirstParty",this.user=tk.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),bk=function(){function e(t,n,r){aa(this,e),this.h=t,this.l=n,this.m=r}return ua(e,[{key:"getToken",value:function(){return Promise.resolve(new kk(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(tk.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),wk=ua((function e(t){aa(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),xk=function(){function e(t){aa(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return ua(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&ak("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,ak("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){ak("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):ak("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(lk("string"==typeof t.token),e.p=t.token,new wk(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),_k=function(){function e(t,n){var r=this;aa(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return ua(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Ik(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}_k.A=-1;var Ek=function(){function e(){aa(this,e)}return ua(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Ik(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Sk(e,t){return e<t?-1:e>t?1:0}function Tk(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Ck(e){return e+"\0"}var Ak=function(){function e(t,n){if(aa(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new dk(hk.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new dk(hk.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new dk(hk.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new dk(hk.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return ua(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Sk(this.nanoseconds,e.nanoseconds):Sk(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Nk=function(){function e(t){aa(this,e),this.timestamp=t}return ua(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Ak(0,0))}},{key:"max",value:function(){return new e(new Ak(253402300799,999999999))}}]),e}();function Rk(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Pk(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ok(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Dk=function(){function e(t,n,r){aa(this,e),void 0===n?n=0:n>t.length&&ck(),void 0===r?r=t.length-n:r>t.length-n&&ck(),this.segments=t,this.offset=n,this.len=r}return ua(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Lk=function(e){ca(n,e);var t=pa(n);function n(){return aa(this,n),t.apply(this,arguments)}return ua(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new dk(hk.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,m(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Dk),Mk=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Fk=function(e){ca(n,e);var t=pa(n);function n(){return aa(this,n),t.apply(this,arguments)}return ua(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Mk.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new dk(hk.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new dk(hk.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new dk(hk.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new dk(hk.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Dk),Vk=function(){function e(t){aa(this,e),this.fields=t,t.sort(Fk.comparator)}return ua(e,[{key:"covers",value:function(e){var t,n=sa(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Tk(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var Uk=function(e){function t(e){aa(this,t),this.binaryString=e}return ua(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Sk(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Uk.EMPTY_BYTE_STRING=new Uk("");var jk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zk(e){if(lk(!!e),"string"==typeof e){var t=0,n=jk.exec(e);if(lk(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Bk(e.seconds),nanos:Bk(e.nanos)}}function Bk(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function qk(e){return"string"==typeof e?Uk.fromBase64String(e):Uk.fromUint8Array(e)}function Kk(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Wk(e){var t=e.mapValue.fields.__previous_value__;return Kk(t)?Wk(t):t}function Gk(e){var t=zk(e.mapValue.fields.__local_write_time__.timestampValue);return new Ak(t.seconds,t.nanos)}var Hk=ua((function e(t,n,r,i,a,o,u,s){aa(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Qk=function(){function e(t,n){aa(this,e),this.projectId=t,this.database=n||"(default)"}return ua(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function $k(e){return null==e}function Yk(e){return 0===e&&1/e==-1/0}function Xk(e){return"number"==typeof e&&Number.isInteger(e)&&!Yk(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Jk=function(){function e(t){aa(this,e),this.path=t}return ua(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Lk.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Lk.fromString(t))}},{key:"fromName",value:function(t){return new e(Lk.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Lk.emptyPath())}},{key:"comparator",value:function(e,t){return Lk.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Lk(t.slice()))}}]),e}(),Zk={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},eb={nullValue:"NULL_VALUE"};function tb(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Kk(e)?4:vb(e)?9007199254740991:10:ck()}function nb(e,t){if(e===t)return!0;var n=tb(e);if(n!==tb(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Gk(e).isEqual(Gk(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=zk(e.timestampValue),r=zk(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return qk(e.bytesValue).isEqual(qk(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Bk(e.geoPointValue.latitude)===Bk(t.geoPointValue.latitude)&&Bk(e.geoPointValue.longitude)===Bk(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Bk(e.integerValue)===Bk(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Bk(e.doubleValue),r=Bk(t.doubleValue);return n===r?Yk(n)===Yk(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Tk(e.arrayValue.values||[],t.arrayValue.values||[],nb);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Rk(n)!==Rk(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!nb(n[i],r[i])))return!1;return!0}(e,t);default:return ck()}}function rb(e,t){return void 0!==(e.values||[]).find((function(e){return nb(e,t)}))}function ib(e,t){if(e===t)return 0;var n=tb(e),r=tb(t);if(n!==r)return Sk(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Sk(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Bk(e.integerValue||e.doubleValue),r=Bk(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return ab(e.timestampValue,t.timestampValue);case 4:return ab(Gk(e),Gk(t));case 5:return Sk(e.stringValue,t.stringValue);case 6:return function(e,t){var n=qk(e),r=qk(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Sk(n[i],r[i]);if(0!==a)return a}return Sk(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Sk(Bk(e.latitude),Bk(t.latitude));return 0!==n?n:Sk(Bk(e.longitude),Bk(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=ib(n[i],r[i]);if(a)return a}return Sk(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Zk.mapValue&&t===Zk.mapValue)return 0;if(e===Zk.mapValue)return 1;if(t===Zk.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Sk(r[o],a[o]);if(0!==u)return u;var s=ib(n[r[o]],i[a[o]]);if(0!==s)return s}return Sk(r.length,a.length)}(e.mapValue,t.mapValue);default:throw ck()}}function ab(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Sk(e,t);var n=zk(e),r=zk(t),i=Sk(n.seconds,r.seconds);return 0!==i?i:Sk(n.nanos,r.nanos)}function ob(e){return ub(e)}function ub(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=zk(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?qk(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Jk.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=sa(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=ub(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=sa(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(ub(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):ck();var t,n}function sb(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function cb(e){return!!e&&"integerValue"in e}function lb(e){return!!e&&"arrayValue"in e}function fb(e){return!!e&&"nullValue"in e}function hb(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function db(e){return!!e&&"mapValue"in e}function pb(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Pk(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=pb(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=pb(e.arrayValue.values[r]);return n}return Object.assign({},e)}function vb(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function mb(e){return"nullValue"in e?eb:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?sb(Qk.empty(),Jk.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:ck()}function yb(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?sb(Qk.empty(),Jk.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Zk:ck()}function gb(e,t){var n=ib(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function kb(e,t){var n=ib(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var bb=function(){function e(t){aa(this,e),this.value=t}return ua(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!db(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=pb(t)}},{key:"setAll",value:function(e){var t=this,n=Fk.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=pb(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());db(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return nb(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];db(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Pk(t,(function(t,n){return e[t]=n}));var r,i=sa(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(pb(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function wb(e){var t=[];return Pk(e.fields,(function(e,n){var r=new Fk([e]);if(db(n)){var i=wb(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=sa(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Vk(t)}var xb=function(){function e(t,n,r,i,a,o){aa(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return ua(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=bb.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=bb.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Nk.min(),Nk.min(),bb.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Nk.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Nk.min(),bb.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Nk.min(),bb.empty(),2)}}]),e}(),_b=ua((function e(t,n,r,i){aa(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Ib(e){return e.fields.find((function(e){return 2===e.kind}))}function Eb(e){return e.fields.filter((function(e){return 2!==e.kind}))}_b.UNKNOWN_ID=-1;var Sb=ua((function e(t,n){aa(this,e),this.fieldPath=t,this.kind=n})),Tb=function(){function e(t,n){aa(this,e),this.sequenceNumber=t,this.offset=n}return ua(e,null,[{key:"empty",value:function(){return new e(0,Nb.min())}}]),e}();function Cb(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Nk.fromTimestamp(1e9===r?new Ak(n+1,0):new Ak(n,r));return new Nb(i,Jk.empty(),t)}function Ab(e){return new Nb(e.readTime,e.key,-1)}var Nb=function(){function e(t,n,r){aa(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return ua(e,null,[{key:"min",value:function(){return new e(Nk.min(),Jk.empty(),-1)}},{key:"max",value:function(){return new e(Nk.max(),Jk.empty(),-1)}}]),e}();function Rb(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Jk.comparator(e.documentKey,t.documentKey))?n:Sk(e.largestBatchId,t.largestBatchId)}var Pb=function(){function e(t,n){aa(this,e),this.comparator=t,this.root=n||Db.EMPTY}return ua(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Db.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Db.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Ob(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Ob(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Ob(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Ob(this.root,e,this.comparator,!0)}}]),e}(),Ob=function(){function e(t,n,r,i){aa(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return ua(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Db=function(){function e(t,n,r,i,a){aa(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return ua(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw ck();if(this.right.isRed())throw ck();var e=this.left.check();if(e!==this.right.check())throw ck();return e+(this.isRed()?0:1)}}]),e}();Db.EMPTY=null,Db.RED=!0,Db.BLACK=!1,Db.EMPTY=new(function(){function e(){aa(this,e),this.size=0}return ua(e,[{key:"key",get:function(){throw ck()}},{key:"value",get:function(){throw ck()}},{key:"color",get:function(){throw ck()}},{key:"left",get:function(){throw ck()}},{key:"right",get:function(){throw ck()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Db(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Lb=function(){function e(t){aa(this,e),this.comparator=t,this.data=new Pb(this.comparator)}return ua(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Mb(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Mb(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Mb=function(){function e(t){aa(this,e),this.iter=t}return ua(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Fb(e){return e.hasNext()?e.getNext():void 0}var Vb=ua((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;aa(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null}));function Ub(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Vb(e,t,n,r,i,a,o)}function jb(e){var t=fk(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+ob(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),$k(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return ob(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return ob(e)})).join(",")),t.P=n}return t.P}function zb(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!rw(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!nb(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!aw(e.startAt,t.startAt)&&aw(e.endAt,t.endAt)}function Bb(e){return Jk.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function qb(e,t){return e.filters.filter((function(e){return e instanceof Gb&&e.field.isEqual(t)}))}function Kb(e,t,n){var r,i=eb,a=!0,o=sa(qb(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=eb,c=!0;switch(u.op){case"<":case"<=":s=mb(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=eb}gb({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];gb({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Wb(e,t,n){var r,i=Zk,a=!0,o=sa(qb(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Zk,c=!0;switch(u.op){case">=":case">":s=yb(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Zk}kb({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];kb({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Gb=function(e){ca(n,e);var t=pa(n);function n(e,r,i){var a;return aa(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return ua(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(ib(t,this.value)):null!==t&&tb(this.value)===tb(t)&&this.v(ib(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ck()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new Hb(e,t,r):"array-contains"===t?new Xb(e,r):"in"===t?new Jb(e,r):"not-in"===t?new Zb(e,r):"array-contains-any"===t?new ew(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new Qb(e,n):new $b(e,n)}}]),n}(function(){return ua((function e(){aa(this,e)}))}()),Hb=function(e){ca(n,e);var t=pa(n);function n(e,r,i){var a;return aa(this,n),(a=t.call(this,e,r,i)).key=Jk.fromName(i.referenceValue),a}return ua(n,[{key:"matches",value:function(e){var t=Jk.comparator(e.key,this.key);return this.v(t)}}]),n}(Gb),Qb=function(e){ca(n,e);var t=pa(n);function n(e,r){var i;return aa(this,n),(i=t.call(this,e,"in",r)).keys=Yb("in",r),i}return ua(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Gb),$b=function(e){ca(n,e);var t=pa(n);function n(e,r){var i;return aa(this,n),(i=t.call(this,e,"not-in",r)).keys=Yb("not-in",r),i}return ua(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Gb);function Yb(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Jk.fromName(e.referenceValue)}))}var Xb=function(e){ca(n,e);var t=pa(n);function n(e,r){return aa(this,n),t.call(this,e,"array-contains",r)}return ua(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return lb(t)&&rb(t.arrayValue,this.value)}}]),n}(Gb),Jb=function(e){ca(n,e);var t=pa(n);function n(e,r){return aa(this,n),t.call(this,e,"in",r)}return ua(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&rb(this.value.arrayValue,t)}}]),n}(Gb),Zb=function(e){ca(n,e);var t=pa(n);function n(e,r){return aa(this,n),t.call(this,e,"not-in",r)}return ua(n,[{key:"matches",value:function(e){if(rb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!rb(this.value.arrayValue,t)}}]),n}(Gb),ew=function(e){ca(n,e);var t=pa(n);function n(e,r){return aa(this,n),t.call(this,e,"array-contains-any",r)}return ua(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!lb(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return rb(t.value.arrayValue,e)}))}}]),n}(Gb),tw=ua((function e(t,n){aa(this,e),this.position=t,this.inclusive=n})),nw=ua((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";aa(this,e),this.field=t,this.dir=n}));function rw(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function iw(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Jk.comparator(Jk.fromName(o.referenceValue),n.key):ib(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function aw(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!nb(e.position[n],t.position[n]))return!1;return!0}var ow=ua((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;aa(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.D=null,this.C=null,this.startAt,this.endAt}));function uw(e,t,n,r,i,a,o,u){return new ow(e,t,n,r,i,a,o,u)}function sw(e){return new ow(e)}function cw(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function lw(e){var t,n=sa(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function fw(e){return null!==e.collectionGroup}function hw(e){var t=fk(e);if(null===t.D){t.D=[];var n=lw(t),r=cw(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new nw(n)),t.D.push(new nw(Fk.keyField(),"asc"));else{var i,a=!1,o=sa(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new nw(Fk.keyField(),s))}}}return t.D}function dw(e){var t=fk(e);if(!t.C)if("F"===t.limitType)t.C=Ub(t.path,t.collectionGroup,hw(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=sa(hw(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new nw(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new tw(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new tw(t.startAt.position,t.startAt.inclusive):null;t.C=Ub(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function pw(e,t,n){return new ow(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function vw(e,t){return zb(dw(e),dw(t))&&e.limitType===t.limitType}function mw(e){return"".concat(jb(dw(e)),"|lt:").concat(e.limitType)}function yw(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(ob(t.value));var t})).join(", "),"]")),$k(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return ob(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return ob(e)})).join(",")),"Target(".concat(t,")")}(dw(e)),"; limitType=").concat(e.limitType,")")}function gw(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Jk.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=sa(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=sa(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=iw(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,hw(e),t))&&!(e.endAt&&!function(e,t,n){var r=iw(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,hw(e),t))}(e,t)}function kw(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function bw(e){return function(t,n){var r,i=!1,a=sa(hw(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=ww(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function ww(e,t,n){var r=e.field.isKeyField()?Jk.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?ib(r,i):ck()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ck()}}function xw(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yk(t)?"-0":t}}function _w(e){return{integerValue:""+e}}function Iw(e,t){return Xk(t)?_w(t):xw(e,t)}var Ew=ua((function e(){aa(this,e),this._=void 0}));function Sw(e,t,n){return e instanceof Aw?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Nw?Rw(e,t):e instanceof Pw?Ow(e,t):function(e,t){var n=Cw(e,t),r=Lw(n)+Lw(e.k);return cb(n)&&cb(e.k)?_w(r):xw(e.M,r)}(e,t)}function Tw(e,t,n){return e instanceof Nw?Rw(e,t):e instanceof Pw?Ow(e,t):n}function Cw(e,t){return e instanceof Dw?cb(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Aw=function(e){ca(n,e);var t=pa(n);function n(){return aa(this,n),t.apply(this,arguments)}return ua(n)}(Ew),Nw=function(e){ca(n,e);var t=pa(n);function n(e){var r;return aa(this,n),(r=t.call(this)).elements=e,r}return ua(n)}(Ew);function Rw(e,t){var n,r=Mw(t),i=sa(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return nb(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Pw=function(e){ca(n,e);var t=pa(n);function n(e){var r;return aa(this,n),(r=t.call(this)).elements=e,r}return ua(n)}(Ew);function Ow(e,t){var n,r=Mw(t),i=sa(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!nb(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Dw=function(e){ca(n,e);var t=pa(n);function n(e,r){var i;return aa(this,n),(i=t.call(this)).M=e,i.k=r,i}return ua(n)}(Ew);function Lw(e){return Bk(e.integerValue||e.doubleValue)}function Mw(e){return lb(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Fw=ua((function e(t,n){aa(this,e),this.field=t,this.transform=n}));var Vw=ua((function e(t,n){aa(this,e),this.version=t,this.transformResults=n})),Uw=function(){function e(t,n){aa(this,e),this.updateTime=t,this.exists=n}return ua(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function jw(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var zw=ua((function e(){aa(this,e)}));function Bw(e,t,n){e instanceof Hw?function(e,t,n){var r=e.value.clone(),i=Yw(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Qw?function(e,t,n){if(jw(e.precondition,t)){var r=Yw(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll($w(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function qw(e,t,n){e instanceof Hw?function(e,t,n){if(jw(e.precondition,t)){var r=e.value.clone(),i=Xw(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Gw(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Qw?function(e,t,n){if(jw(e.precondition,t)){var r=Xw(e.fieldTransforms,n,t),i=t.data;i.setAll($w(e)),i.setAll(r),t.convertToFoundDocument(Gw(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){jw(e.precondition,t)&&t.convertToNoDocument(Nk.min())}(e,t)}function Kw(e,t){var n,r=null,i=sa(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Cw(a.transform,o||null);null!=u&&(null==r&&(r=bb.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Ww(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Tk(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Nw&&t instanceof Nw||e instanceof Pw&&t instanceof Pw?Tk(e.elements,t.elements,nb):e instanceof Dw&&t instanceof Dw?nb(e.k,t.k):e instanceof Aw&&t instanceof Aw}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Gw(e){return e.isFoundDocument()?e.version:Nk.min()}var Hw=function(e){ca(n,e);var t=pa(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return aa(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return ua(n)}(zw),Qw=function(e){ca(n,e);var t=pa(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return aa(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return ua(n)}(zw);function $w(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Yw(e,t,n){var r=new Map;lk(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Tw(o,u,n[i]))}return r}function Xw(e,t,n){var r,i=new Map,a=sa(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Sw(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Jw,Zw,ex=function(e){ca(n,e);var t=pa(n);function n(e,r){var i;return aa(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return ua(n)}(zw),tx=function(e){ca(n,e);var t=pa(n);function n(e,r){var i;return aa(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return ua(n)}(zw),nx=ua((function e(t){aa(this,e),this.count=t}));function rx(e){switch(e){default:return ck();case hk.CANCELLED:case hk.UNKNOWN:case hk.DEADLINE_EXCEEDED:case hk.RESOURCE_EXHAUSTED:case hk.INTERNAL:case hk.UNAVAILABLE:case hk.UNAUTHENTICATED:return!1;case hk.INVALID_ARGUMENT:case hk.NOT_FOUND:case hk.ALREADY_EXISTS:case hk.PERMISSION_DENIED:case hk.FAILED_PRECONDITION:case hk.ABORTED:case hk.OUT_OF_RANGE:case hk.UNIMPLEMENTED:case hk.DATA_LOSS:return!0}}function ix(e){if(void 0===e)return ok("GRPC error has no .code"),hk.UNKNOWN;switch(e){case Jw.OK:return hk.OK;case Jw.CANCELLED:return hk.CANCELLED;case Jw.UNKNOWN:return hk.UNKNOWN;case Jw.DEADLINE_EXCEEDED:return hk.DEADLINE_EXCEEDED;case Jw.RESOURCE_EXHAUSTED:return hk.RESOURCE_EXHAUSTED;case Jw.INTERNAL:return hk.INTERNAL;case Jw.UNAVAILABLE:return hk.UNAVAILABLE;case Jw.UNAUTHENTICATED:return hk.UNAUTHENTICATED;case Jw.INVALID_ARGUMENT:return hk.INVALID_ARGUMENT;case Jw.NOT_FOUND:return hk.NOT_FOUND;case Jw.ALREADY_EXISTS:return hk.ALREADY_EXISTS;case Jw.PERMISSION_DENIED:return hk.PERMISSION_DENIED;case Jw.FAILED_PRECONDITION:return hk.FAILED_PRECONDITION;case Jw.ABORTED:return hk.ABORTED;case Jw.OUT_OF_RANGE:return hk.OUT_OF_RANGE;case Jw.UNIMPLEMENTED:return hk.UNIMPLEMENTED;case Jw.DATA_LOSS:return hk.DATA_LOSS;default:return ck()}}(Zw=Jw||(Jw={}))[Zw.OK=0]="OK",Zw[Zw.CANCELLED=1]="CANCELLED",Zw[Zw.UNKNOWN=2]="UNKNOWN",Zw[Zw.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zw[Zw.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zw[Zw.NOT_FOUND=5]="NOT_FOUND",Zw[Zw.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zw[Zw.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zw[Zw.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zw[Zw.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zw[Zw.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zw[Zw.ABORTED=10]="ABORTED",Zw[Zw.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zw[Zw.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zw[Zw.INTERNAL=13]="INTERNAL",Zw[Zw.UNAVAILABLE=14]="UNAVAILABLE",Zw[Zw.DATA_LOSS=15]="DATA_LOSS";var ax=function(){function e(t,n){aa(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return ua(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=sa(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Pk(this.inner,(function(t,n){var r,i=sa(n);try{for(i.s();!(r=i.n()).done;){var a=c(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Ok(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),ox=new Pb(Jk.comparator);function ux(){return ox}var sx=new Pb(Jk.comparator);function cx(){for(var e=sx,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function lx(){return new ax((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var fx=new Pb(Jk.comparator),hx=new Lb(Jk.comparator);function dx(){for(var e=hx,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var px=new Lb(Sk);function vx(){return px}var mx=function(){function e(t,n,r,i,a){aa(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return ua(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,yx.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Nk.min(),r,vx(),ux(),dx())}}]),e}(),yx=function(){function e(t,n,r,i,a){aa(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return ua(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Uk.EMPTY_BYTE_STRING,n,dx(),dx(),dx())}}]),e}(),gx=ua((function e(t,n,r,i){aa(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.F=i})),kx=ua((function e(t,n){aa(this,e),this.targetId=t,this.$=n})),bx=ua((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Uk.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;aa(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),wx=function(){function e(){aa(this,e),this.B=0,this.L=Ix(),this.U=Uk.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return ua(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=dx(),t=dx(),n=dx();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ck()}})),new yx(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=Ix()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),e}(),xx=function(){function e(t){aa(this,e),this.nt=t,this.st=new Map,this.it=ux(),this.rt=_x(),this.ot=new Lb(Sk)}return ua(e,[{key:"ut",value:function(e){var t,n=sa(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(u){n.e(u)}finally{n.f()}var i,a=sa(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:ck()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(Bb(i))if(0===n){var a=new Jk(i.path);this.ct(t,a,xb.newNoDocument(a,Nk.min()))}else lk(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&Bb(a.target)){var o=new Jk(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,xb.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=dx();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new mx(e,n,this.ot,this.it,r);return this.it=ux(),this.rt=_x(),this.ot=new Lb(Sk),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new wx,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new Lb(Sk),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||ak("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new wx),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function _x(){return new Pb(Jk.comparator)}function Ix(){return new Pb(Jk.comparator)}var Ex={asc:"ASCENDING",desc:"DESCENDING"},Sx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Tx=ua((function e(t,n){aa(this,e),this.databaseId=t,this.N=n}));function Cx(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ax(e,t){return e.N?t.toBase64():t.toUint8Array()}function Nx(e,t){return Cx(e,t.toTimestamp())}function Rx(e){return lk(!!e),Nk.fromTimestamp(function(e){var t=zk(e);return new Ak(t.seconds,t.nanos)}(e))}function Px(e,t){return function(e){return new Lk(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Ox(e){var t=Lk.fromString(e);return lk(n_(t)),t}function Dx(e,t){return Px(e.databaseId,t.path)}function Lx(e,t){var n=Ox(t);if(n.get(1)!==e.databaseId.projectId)throw new dk(hk.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new dk(hk.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Jk(Ux(n))}function Mx(e,t){return Px(e.databaseId,t)}function Fx(e){var t=Ox(e);return 4===t.length?Lk.emptyPath():Ux(t)}function Vx(e){return new Lk(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ux(e){return lk(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function jx(e,t,n){return{name:Dx(e,t),fields:n.value.mapValue.fields}}function zx(e,t,n){var r=Lx(e,t.name),i=Rx(t.updateTime),a=new bb({mapValue:{fields:t.fields}}),o=xb.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Bx(e,t){return"found"in t?function(e,t){lk(!!t.found),t.found.name,t.found.updateTime;var n=Lx(e,t.found.name),r=Rx(t.found.updateTime),i=new bb({mapValue:{fields:t.found.fields}});return xb.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){lk(!!t.missing),lk(!!t.readTime);var n=Lx(e,t.missing),r=Rx(t.readTime);return xb.newNoDocument(n,r)}(e,t):ck()}function qx(e,t){var n;if(t instanceof Hw)n={update:jx(e,t.key,t.value)};else if(t instanceof ex)n={delete:Dx(e,t.key)};else if(t instanceof Qw)n={update:jx(e,t.key,t.data),updateMask:t_(t.fieldMask)};else{if(!(t instanceof tx))return ck();n={verify:Dx(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Aw)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Nw)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Pw)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Dw)return{fieldPath:t.field.canonicalString(),increment:n.k};throw ck()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Nx(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ck()}(e,t.precondition)),n}function Kx(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Uw.updateTime(Rx(e.updateTime)):void 0!==e.exists?Uw.exists(e.exists):Uw.none()}(t.currentDocument):Uw.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)lk("REQUEST_TIME"===t.setToServerValue),n=new Aw;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Nw(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Pw(i)}else"increment"in t?n=new Dw(e,t.increment):ck();var a=Fk.fromServerFormat(t.fieldPath);return new Fw(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=Lx(e,t.update.name),a=new bb({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Vk(t.map((function(e){return Fk.fromServerFormat(e)})))}(t.updateMask);return new Qw(i,a,o,n,r)}return new Hw(i,a,n,r)}if(t.delete){var u=Lx(e,t.delete);return new ex(u,n)}if(t.verify){var s=Lx(e,t.verify);return new tx(s,n)}return ck()}function Wx(e,t){return{documents:[Mx(e,t.path)]}}function Gx(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Mx(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Mx(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(hb(e.value))return{unaryFilter:{field:Xx(e.field),op:"IS_NAN"}};if(fb(e.value))return{unaryFilter:{field:Xx(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(hb(e.value))return{unaryFilter:{field:Xx(e.field),op:"IS_NOT_NAN"}};if(fb(e.value))return{unaryFilter:{field:Xx(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xx(e.field),op:Yx(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Xx(e.field),direction:$x(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||$k(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Hx(e){var t=Fx(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){lk(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Qx(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new nw(Jx(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return $k(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new tw(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new tw(n,t)}(n.endAt)),uw(t,i,u,o,s,"F",c,l)}function Qx(e){return e?void 0!==e.unaryFilter?[e_(e)]:void 0!==e.fieldFilter?[Zx(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Qx(e)})).reduce((function(e,t){return e.concat(t)})):ck():[]}function $x(e){return Ex[e]}function Yx(e){return Sx[e]}function Xx(e){return{fieldPath:e.canonicalString()}}function Jx(e){return Fk.fromServerFormat(e.fieldPath)}function Zx(e){return Gb.create(Jx(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ck()}}(e.fieldFilter.op),e.fieldFilter.value)}function e_(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Jx(e.unaryFilter.field);return Gb.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Jx(e.unaryFilter.field);return Gb.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Jx(e.unaryFilter.field);return Gb.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Jx(e.unaryFilter.field);return Gb.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ck()}}function t_(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function n_(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function r_(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=a_(t)),t=i_(e.get(n),t);return a_(t)}function i_(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function a_(e){return e+"\x01\x01"}function o_(e){var t=e.length;if(lk(t>=2),2===t)return lk("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Lk.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&ck(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:ck()}a=o+2}return new Lk(r)}var u_=["userId","batchId"];function s_(e,t){return[e,r_(t)]}function c_(e,t,n){return[e,r_(t),n]}var l_={},f_=["prefixPath","collectionGroup","readTime","documentId"],h_=["prefixPath","collectionGroup","documentId"],d_=["collectionGroup","readTime","prefixPath","documentId"],p_=["canonicalId","targetId"],v_=["targetId","path"],m_=["path","targetId"],y_=["collectionId","parent"],g_=["indexId","uid"],k_=["uid","sequenceNumber"],b_=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],w_=["indexId","uid","orderedDocumentKey"],x_=["userId","collectionPath","documentId"],__=["userId","collectionPath","largestBatchId"],I_=["userId","collectionGroup","largestBatchId"],E_=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),S_=[].concat(m(E_),["documentOverlays"]),T_=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],C_=[].concat(T_,["indexConfiguration","indexState","indexEntries"]),A_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",N_=function(){function e(){aa(this,e),this.onCommittedListeners=[]}return ua(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),R_=function(){function e(t){var n=this;aa(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return ua(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&ck(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=sa(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),P_=function(){function e(t,n){var r=this;aa(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new pk,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new L_(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=j_(e.target.error);r.At.reject(new L_(t,n))}}return ua(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(ak("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"bt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new F_(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new L_(n,t)}}}]),e}(),O_=function(){function e(t,n,r){aa(this,e),this.name=t,this.version=n,this.Pt=r,12.2===e.Vt(Ea())&&ok("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return ua(e,[{key:"Nt",value:function(){var e=Ha($a().mark((function e(t){var n=this;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return ak("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new L_(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new dk(hk.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new dk(hk.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new L_(t,n))},i.onupgradeneeded=function(e){ak("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Pt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){ak("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Ha($a().mark((function e(t,n,r,i){var a,o,u,s,c=this;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield($a().mark((function e(){var n,o;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Nt(t);case 2:return c.db=e.sent,n=P_.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.bt(),e})).catch((function(e){return n.abort(e),R_.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,ak("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return ak("SimpleDb","Removing database:",e),V_(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!Ra())return!1;if(e.St())return!0;var t=Ea(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),D_=function(){function e(t){aa(this,e),this.Ft=t,this.$t=!1,this.Bt=null}return ua(e,[{key:"isDone",get:function(){return this.$t}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.Ft=e}},{key:"done",value:function(){this.$t=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return V_(this.Ft.delete())}}]),e}(),L_=function(e){ca(n,e);var t=pa(n);function n(e,r){var i;return aa(this,n),(i=t.call(this,hk.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return ua(n)}(dk);function M_(e){return"IndexedDbTransactionError"===e.name}var F_=function(){function e(t){aa(this,e),this.store=t}return ua(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(ak("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(ak("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),V_(n)}},{key:"add",value:function(e){return ak("SimpleDb","ADD",this.store.name,e,e),V_(this.store.add(e))}},{key:"get",value:function(e){var t=this;return V_(this.store.get(e)).next((function(n){return void 0===n&&(n=null),ak("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return ak("SimpleDb","DELETE",this.store.name,e),V_(this.store.delete(e))}},{key:"count",value:function(){return ak("SimpleDb","COUNT",this.store.name),V_(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Kt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new R_((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Gt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new R_((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){ak("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Kt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Kt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new R_((function(n,r){t.onerror=function(e){var t=j_(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Kt",value:function(e,t){var n=[];return new R_((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new D_(i),o=t(i.primaryKey,i.value,a);if(o instanceof R_){var u=o.catch((function(e){return a.done(),R_.reject(e)}));n.push(u)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return R_.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function V_(e){return new R_((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=j_(e.target.error);n(t)}}))}var U_=!1;function j_(e){var t=O_.Vt(Ea());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new dk("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return U_||(U_=!0,setTimeout((function(){throw r}),0)),r}}return e}var z_=function(e){ca(n,e);var t=pa(n);function n(e,r){var i;return aa(this,n),(i=t.call(this)).Ht=e,i.currentSequenceNumber=r,i}return ua(n)}(N_);function B_(e,t){var n=fk(e);return O_.xt(n.Ht,t)}var q_=function(){function e(t,n,r,i){aa(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return ua(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Bw(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=sa(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&qw(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=sa(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&qw(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Nk.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),dx())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Tk(this.mutations,e.mutations,(function(e,t){return Ww(e,t)}))&&Tk(this.baseMutations,e.baseMutations,(function(e,t){return Ww(e,t)}))}}]),e}(),K_=function(){function e(t,n,r,i){aa(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return ua(e,null,[{key:"from",value:function(t,n,r){lk(t.mutations.length===r.length);for(var i=fx,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),W_=function(){function e(t,n){aa(this,e),this.largestBatchId=t,this.mutation=n}return ua(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),G_=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Nk.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Nk.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Uk.EMPTY_BYTE_STRING;aa(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return ua(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),H_=ua((function e(t){aa(this,e),this.Jt=t}));function Q_(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:$_(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Dx(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Cx(e,t.version.toTimestamp())}}(e.Jt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Y_(t.version)};else{if(!t.isUnknownDocument())return ck();r.unknownDocument={path:n.path.toArray(),version:Y_(t.version)}}return r}function $_(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Y_(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function X_(e){var t=new Ak(e.seconds,e.nanoseconds);return Nk.fromTimestamp(t)}function J_(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Kx(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Kx(e.Jt,t)})),u=Ak.fromMillis(t.localWriteTimeMs);return new q_(t.batchId,u,n,o)}function Z_(e){var t,n,r=X_(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?X_(e.lastLimboFreeSnapshotVersion):Nk.min();return void 0!==e.query.documents?(lk(1===(n=e.query).documents.length),t=dw(sw(Fx(n.documents[0])))):t=function(e){return dw(Hx(e))}(e.query),new G_(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Uk.fromBase64String(e.resumeToken))}function eI(e,t){var n,r=Y_(t.snapshotVersion),i=Y_(t.lastLimboFreeSnapshotVersion);n=Bb(t.target)?Wx(e.Jt,t.target):Gx(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:jb(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function tI(e){var t=Hx({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?pw(t,t.limit,"L"):t}function nI(e,t){return new W_(t.largestBatchId,Kx(e.Jt,t.overlayMutation))}function rI(e,t){var n=t.path.lastSegment();return[e,r_(t.path.popLast()),n]}var iI=function(){function e(){aa(this,e)}return ua(e,[{key:"getBundleMetadata",value:function(e,t){return aI(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:X_(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return aI(e).put({bundleId:(n=t).id,createTime:Y_(Rx(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return oI(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:tI(t.bundledQuery),readTime:X_(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return oI(e).put(function(e){return{name:e.name,readTime:Y_(Rx(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function aI(e){return B_(e,"bundles")}function oI(e){return B_(e,"namedQueries")}var uI=function(){function e(t,n){aa(this,e),this.M=t,this.userId=n}return ua(e,[{key:"getOverlay",value:function(e,t){var n=this;return sI(e).get(rI(this.userId,t)).next((function(e){return e?nI(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new W_(t,a);i.push(r.Xt(e,o))})),R_.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(r_(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(sI(e).Qt("collectionPathOverlayIndex",i))})),R_.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=lx(),a=r_(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return sI(e).qt("collectionPathOverlayIndex",o).next((function(e){var t,n=sa(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=nI(r.M,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=lx(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return sI(e).Wt({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=nI(a.M,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return sI(e).put(function(e,t,n){var r=c(rI(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:qx(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function sI(e){return B_(e,"documentOverlays")}var cI=function(){function e(){aa(this,e)}return ua(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Bk(e.integerValue));else if("doubleValue"in e){var n=Bk(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),Yk(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(qk(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?vb(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):ck()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=sa(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),Jk.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function lI(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function fI(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=lI(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}cI.fe=new cI;var hI=function(){function e(){aa(this,e),this.buffer=new Uint8Array(1024),this.position=0}return ua(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=sa(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=sa(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=fI(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=fI(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"be",value:function(){this.Pe(255),this.Pe(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.Pe(0),this.Pe(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),dI=function(){function e(t){aa(this,e),this.De=t}return ua(e,[{key:"ue",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.be()}}]),e}(),pI=function(){function e(t){aa(this,e),this.De=t}return ua(e,[{key:"ue",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),vI=function(){function e(){aa(this,e),this.De=new hI,this.Ce=new dI(this.De),this.xe=new pI(this.De)}return ua(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),mI=function(){function e(t,n,r,i){aa(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return ua(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function yI(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=gI(e.arrayValue,t.arrayValue))?n:0!==(n=gI(e.directionalValue,t.directionalValue))?n:Jk.comparator(e.documentKey,t.documentKey)}function gI(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var kI=function(){function e(t){aa(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,r=sa(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.S()?this.Fe=i:this.Oe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return ua(e,[{key:"$e",value:function(e){var t=Ib(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=Eb(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Fe){var a=n[r];if(!this.Le(this.Fe,a)||!this.Ue(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.Ue(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=sa(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ue",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),bI=function(){function e(){aa(this,e),this.qe=new wI}return ua(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),R_.resolve()}},{key:"getCollectionParents",value:function(e,t){return R_.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return R_.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return R_.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return R_.resolve(null)}},{key:"getIndexType",value:function(e,t){return R_.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return R_.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return R_.resolve(null)}},{key:"getMinOffset",value:function(e,t){return R_.resolve(Nb.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return R_.resolve()}},{key:"updateIndexEntries",value:function(e,t){return R_.resolve()}}]),e}(),wI=function(){function e(){aa(this,e),this.index={}}return ua(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Lb(Lk.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Lb(Lk.comparator)).toArray()}}]),e}(),xI=new Uint8Array(0),_I=function(){function e(t,n){aa(this,e),this.user=t,this.databaseId=n,this.Ke=new wI,this.Ge=new ax((function(e){return jb(e)}),(function(e,t){return zb(e,t)})),this.uid=t.uid||""}return ua(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ke.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ke.add(t)}));var a={collectionId:r,parent:r_(i)};return II(e).put(a)}return R_.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Ck(t),""],!1,!0);return II(e).qt(r).next((function(e){var r,i=sa(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(o_(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=SI(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=SI(e),r=TI(e),i=EI(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=EI(e),i=!0,a=new Map;return R_.forEach(this.Qe(t),(function(t){return n.je(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=dx(),o=[];return R_.forEach(a,(function(i,a){var u;ak("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(jb(t)));var s=function(e,t){var n=Ib(t);if(void 0===n)return null;var r,i=sa(qb(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=sa(Eb(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=sa(qb(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=sa(Eb(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Kb(e,o.fieldPath,e.startAt):Wb(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new tw(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=sa(Eb(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Wb(e,o.fieldPath,e.endAt):Kb(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new tw(r,i)}(a,i),h=n.We(i,a,l),d=n.We(i,a,f),p=n.ze(i,a,c),v=n.He(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return R_.forEach(v,(function(n){return r.Gt(n,t.limit).next((function(t){t.forEach((function(t){var n=Jk.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return R_.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}},{key:"He",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.Je(t[s/c]):xI,h=u.Ye(e,f,n[s%c],r),d=u.Xe(e,f,i[s%c],a),p=o.map((function(t){return u.Ye(e,f,t,!0)}));l.push.apply(l,m(u.createRange(h,d,p)))},h=0;h<s;++h)f(h);return l}},{key:"Ye",value:function(e,t,n,r){var i=new mI(e,Jk.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new mI(e,Jk.empty(),t,n);return r?i.ke():i}},{key:"je",value:function(e,t){var n=new kI(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=sa(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.$e(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return R_.forEach(this.Qe(t),(function(t){return n.je(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Lb(Fk.comparator),r=!1,i=sa(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=sa(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"Ze",value:function(e,t){var n,r=new vI,i=sa(Eb(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ne(a.kind);cI.fe.Zt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Se()}},{key:"Je",value:function(e){var t=new vI;return cI.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"tn",value:function(e,t){var n=new vI;return cI.fe.Zt(sb(this.databaseId,t),n.Ne(function(e){var t=Eb(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Se()}},{key:"ze",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new vI);var i,a=0,o=sa(Eb(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=sa(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.en(t,s.fieldPath)&&lb(c))r=this.nn(r,s,c);else{var h=f.Ne(s.kind);cI.fe.Zt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.sn(r)}},{key:"We",value:function(e,t,n){return this.ze(e,t,n.position)}},{key:"sn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"nn",value:function(e,t,n){var r,i=m(e),a=[],o=sa(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=sa(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new vI;f.seed(l.Se()),cI.fe.Zt(s,f.Ne(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"en",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Gb&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=SI(e),i=TI(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return R_.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Tb(t.sequenceNumber,new Nb(X_(t.readTime),new Jk(o_(t.documentKey)),t.largestBatchId)):Tb.empty(),r=e.fields.map((function(e){var t=c(e,2),n=t[0],r=t[1];return new Sb(Fk.fromServerFormat(n),r)}));return new _b(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Sk(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=SI(e),a=TI(e);return this.rn(e).next((function(e){return i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return R_.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Y_(r.readTime),documentKey:r_(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return R_.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?R_.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),R_.forEach(a,(function(r){return n.on(e,t,r).next((function(t){var a=n.un(i,r);return t.isEqual(a)?R_.resolve():n.an(e,i,r,t,a)}))}))}))}))}},{key:"cn",value:function(e,t,n,r){return EI(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"hn",value:function(e,t,n,r){return EI(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(n,t.key),t.key.path.toArray()])}},{key:"on",value:function(e,t,n){var r=EI(e),i=new Lb(yI);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.tn(n,t)])},(function(e,r){i=i.add(new mI(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"un",value:function(e,t){var n=new Lb(yI),r=this.Ze(t,e);if(null==r)return n;var i=Ib(t);if(null!=i){var a=e.data.field(i.fieldPath);if(lb(a)){var o,u=sa(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new mI(t.indexId,e.key,this.Je(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new mI(t.indexId,e.key,xI,r));return n}},{key:"an",value:function(e,t,n,r,i){var a=this;ak("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Fb(a),s=Fb(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Fb(o)):l?(i(u),u=Fb(a)):(u=Fb(a),s=Fb(o))}}(r,i,yI,(function(r){o.push(a.cn(e,t,n,r))}),(function(r){o.push(a.hn(e,t,n,r))})),R_.waitFor(o)}},{key:"rn",value:function(e){var t=1;return TI(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return yI(e,t)})).filter((function(e,t,n){return!t||0!==yI(e,n[t-1])}));var r=[];r.push(e);var i,a=sa(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=yI(o,e),s=yI(o,t);if(0===u)r[0]=e.ke();else if(u>0&&s<0)r.push(o),r.push(o.ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,xI,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,xI,[]]));return c}},{key:"getMinOffset",value:function(e,t){var n,r=this;return R_.forEach(this.Qe(t),(function(t){return r.je(e,t).next((function(e){e?(!n||Rb(e.indexState.offset,n)<0)&&(n=e.indexState.offset):n=Nb.min()}))})).next((function(){return n}))}}]),e}();function II(e){return B_(e,"collectionParents")}function EI(e){return B_(e,"indexEntries")}function SI(e){return B_(e,"indexConfiguration")}function TI(e){return B_(e,"indexState")}var CI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},AI=function(){function e(t,n,r){aa(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return ua(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function NI(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Wt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){lk(1===u)})));var c,l=[],f=sa(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=c_(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return R_.waitFor(a).next((function(){return l}))}function RI(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw ck();t=e.noDocument}return JSON.stringify(t).length}AI.DEFAULT_COLLECTION_PERCENTILE=10,AI.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,AI.DEFAULT=new AI(41943040,AI.DEFAULT_COLLECTION_PERCENTILE,AI.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),AI.DISABLED=new AI(-1,0,0);var PI=function(){function e(t,n,r,i){aa(this,e),this.userId=t,this.M=n,this.indexManager=r,this.referenceDelegate=i,this.ln={}}return ua(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return DI(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=LI(e),o=DI(e);return o.add({}).next((function(u){lk("number"==typeof u);var s,c=new q_(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return qx(e.Jt,t)})),i=n.mutations.map((function(t){return qx(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,c),f=[],h=new Lb((function(e,t){return Sk(e.canonicalString(),t.canonicalString())})),d=sa(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=c_(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,l_))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.ln[u]=c.keys()})),R_.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return DI(e).get(t).next((function(e){return e?(lk(e.userId===n.userId),J_(n.M,e)):null}))}},{key:"fn",value:function(e,t){var n=this;return this.ln[t]?R_.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.ln[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return DI(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(lk(t.batchId>=r),a=J_(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return DI(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return DI(e).qt("userMutationsIndex",n).next((function(e){return e.map((function(e){return J_(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=s_(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return LI(e).Wt({range:i},(function(r,i,o){var u=c(r,3),s=u[0],l=u[1],f=u[2],h=o_(l);if(s===n.userId&&t.path.isEqual(h))return DI(e).get(f).next((function(e){if(!e)throw ck();lk(e.userId===n.userId),a.push(J_(n.M,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Lb(Sk),i=[];return t.forEach((function(t){var a=s_(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=LI(e).Wt({range:o},(function(e,i,a){var o=c(e,3),u=o[0],s=o[1],l=o[2],f=o_(s);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),R_.waitFor(i).next((function(){return n.dn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=s_(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Lb(Sk);return LI(e).Wt({range:o},(function(e,t,a){var o=c(e,3),s=o[0],l=o[1],f=o[2],h=o_(l);s===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.dn(e,u)}))}},{key:"dn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(DI(e).get(t).next((function(e){if(null===e)throw ck();lk(e.userId===n.userId),r.push(J_(n.M,e))})))})),R_.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return NI(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n._n(t.batchId)})),R_.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"_n",value:function(e){delete this.ln[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return R_.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return LI(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=o_(e[1]);i.push(a)}else r.done()})).next((function(){lk(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return OI(e,this.userId,t)}},{key:"wn",value:function(e){var t=this;return MI(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){return lk(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function OI(e,t,n){var r=s_(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return LI(e).Wt({range:a,jt:!0},(function(e,n,r){var a=c(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function DI(e){return B_(e,"mutations")}function LI(e){return B_(e,"documentMutations")}function MI(e){return B_(e,"mutationQueues")}var FI=function(){function e(t){aa(this,e),this.mn=t}return ua(e,[{key:"next",value:function(){return this.mn+=2,this.mn}}],[{key:"gn",value:function(){return new e(0)}},{key:"yn",value:function(){return new e(-1)}}]),e}(),VI=function(){function e(t,n){aa(this,e),this.referenceDelegate=t,this.M=n}return ua(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.pn(e).next((function(n){var r=new FI(n.highestTargetId);return n.highestTargetId=r.next(),t.In(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.pn(e).next((function(e){return Nk.fromTimestamp(new Ak(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.pn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.pn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.In(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Tn(e,t).next((function(){return n.pn(e).next((function(r){return r.targetCount+=1,n.En(t,r),n.In(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Tn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return UI(e).delete(t.targetId)})).next((function(){return n.pn(e)})).next((function(t){return lk(t.targetCount>0),t.targetCount-=1,n.In(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return UI(e).Wt((function(o,u){var s=Z_(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return R_.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return UI(e).Wt((function(e,n){var r=Z_(n);t(r)}))}},{key:"pn",value:function(e){return jI(e).get("targetGlobalKey").next((function(e){return lk(null!==e),e}))}},{key:"In",value:function(e,t){return jI(e).put("targetGlobalKey",t)}},{key:"Tn",value:function(e,t){return UI(e).put(eI(this.M,t))}},{key:"En",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.pn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=jb(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return UI(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Z_(n);zb(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=zI(e);return t.forEach((function(t){var o=r_(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),R_.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=zI(e);return R_.forEach(t,(function(t){var a=r_(t.path);return R_.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=zI(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=zI(e),i=dx();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=o_(e[1]),a=new Jk(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=r_(t.path),r=IDBKeyRange.bound([n],[Ck(n)],!1,!0),i=0;return zI(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=c(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return UI(e).get(t).next((function(e){return e?Z_(e):null}))}}]),e}();function UI(e){return B_(e,"targets")}function jI(e){return B_(e,"targetGlobal")}function zI(e){return B_(e,"targetDocuments")}function BI(e){return qI.apply(this,arguments)}function qI(){return qI=Ha($a().mark((function e(t){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===hk.FAILED_PRECONDITION&&t.message===A_){e.next=2;break}throw t;case 2:ak("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),qI.apply(this,arguments)}function KI(e,t){var n=c(e,2),r=n[0],i=n[1],a=c(t,2),o=a[0],u=a[1],s=Sk(r,o);return 0===s?Sk(i,u):s}var WI=function(){function e(t){aa(this,e),this.An=t,this.buffer=new Lb(KI),this.Rn=0}return ua(e,[{key:"bn",value:function(){return++this.Rn}},{key:"Pn",value:function(e){var t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();KI(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),GI=function(){function e(t,n){aa(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Vn=!1,this.vn=null}return ua(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}},{key:"stop",value:function(){this.vn&&(this.vn.cancel(),this.vn=null)}},{key:"started",get:function(){return null!==this.vn}},{key:"Sn",value:function(e){var t=this,n=this.Vn?3e5:6e4;ak("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,Ha($a().mark((function n(){return $a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.vn=null,t.Vn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!M_(n.t0)){n.next=12;break}ak("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,BI(n.t0);case 14:return n.next=16,t.Sn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),HI=function(){function e(t,n){aa(this,e),this.Dn=t,this.params=n}return ua(e,[{key:"calculateTargetCount",value:function(e,t){return this.Dn.Cn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return R_.resolve(_k.A);var r=new WI(t);return this.Dn.forEachTarget(e,(function(e){return r.Pn(e.sequenceNumber)})).next((function(){return n.Dn.xn(e,(function(e){return r.Pn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Dn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Dn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(ak("LruGarbageCollector","Garbage collection skipped; disabled"),R_.resolve(CI)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(ak("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),CI):n.Nn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Dn.getCacheSize(e)}},{key:"Nn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(ak("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),ik()<=to.DEBUG&&ak("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),R_.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),QI=function(){function e(t,n){aa(this,e),this.db=t,this.garbageCollector=function(e,t){return new HI(e,t)}(this,n)}return ua(e,[{key:"Cn",value:function(e){var t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"kn",value:function(e){var t=0;return this.xn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"xn",value:function(e,t){return this.Mn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return $I(e,n)}},{key:"removeReference",value:function(e,t,n){return $I(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return $I(e,t)}},{key:"On",value:function(e,t){return function(e,t){var n=!1;return MI(e).zt((function(r){return OI(e,r,t).next((function(e){return e&&(n=!0),R_.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Mn(e,(function(o,u){if(u<=t){var s=n.On(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Nk.min()),zI(e).delete([0,r_(o.path)])}))}));i.push(s)}})).next((function(){return R_.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return $I(e,t)}},{key:"Mn",value:function(e,t){var n,r=zI(e),i=_k.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var a=c(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==_k.A&&t(new Jk(o_(n)),i),i=s,n=u):i=_k.A})).next((function(){i!==_k.A&&t(new Jk(o_(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function $I(e,t){return zI(e).put(function(e,t){return{targetId:0,path:r_(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var YI=function(){function e(){aa(this,e),this.changes=new ax((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return ua(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,xb.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?R_.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),XI=function(){function e(t){aa(this,e),this.M=t}return ua(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return eE(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return eE(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],$_(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Fn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=xb.newInvalidDocument(t);return eE(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(tE(t))},(function(e,i){r=n.$n(t,i)})).next((function(){return r}))}},{key:"Bn",value:function(e,t){var n=this,r={size:0,document:xb.newInvalidDocument(t)};return eE(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(tE(t))},(function(e,i){r={document:n.$n(t,i),size:RI(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=ux();return this.Ln(e,t,(function(e,t){var i=n.$n(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Un",value:function(e,t){var n=this,r=ux(),i=new Pb(Jk.comparator);return this.Ln(e,t,(function(e,t){var a=n.$n(e,t);r=r.insert(e,a),i=i.insert(e,RI(t))})).next((function(){return{documents:r,qn:i}}))}},{key:"Ln",value:function(e,t,n){if(t.isEmpty())return R_.resolve();var r=new Lb(rE);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(tE(r.first()),tE(r.last())),a=r.getIterator(),o=a.getNext();return eE(e).Wt({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Jk.fromSegments([].concat(m(t.prefixPath),[t.collectionGroup,t.documentId]));o&&rE(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.Ut(tE(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),$_(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return eE(e).qt(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=ux(),i=sa(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.$n(Jk.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=ux(),o=nE(t,n),u=nE(t,Nb.max());return eE(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.$n(Jk.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new JI(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return ZI(e).get("remoteDocumentGlobalKey").next((function(e){return lk(!!e),e}))}},{key:"Fn",value:function(e,t){return ZI(e).put("remoteDocumentGlobalKey",t)}},{key:"$n",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=zx(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Jk.fromSegments(t.noDocument.path),i=X_(t.noDocument.readTime);n=xb.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return ck();var a=Jk.fromSegments(t.unknownDocument.path),o=X_(t.unknownDocument.version);n=xb.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Ak(e[0],e[1]);return Nk.fromTimestamp(t)}(t.readTime)),n}(this.M,t);if(!n.isNoDocument()||!n.version.isEqual(Nk.min()))return n}return xb.newInvalidDocument(e)}}]),e}(),JI=function(e){ca(n,e);var t=pa(n);function n(e,r){var i;return aa(this,n),(i=t.call(this)).Kn=e,i.trackRemovals=r,i.Gn=new ax((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return ua(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Lb((function(e,t){return Sk(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Gn.get(a);if(n.push(t.Kn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=Q_(t.Kn.M,o);i=i.add(a.path.popLast());var c=RI(s);r+=c-u.size,n.push(t.Kn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=Q_(t.Kn.M,o.convertToNoDocument(Nk.min()));n.push(t.Kn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Kn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Kn.updateMetadata(e,r)),R_.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Kn.Bn(e,t).next((function(e){return n.Gn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Kn.Un(e,t).next((function(e){var t=e.documents;return e.qn.forEach((function(e,r){n.Gn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(YI);function ZI(e){return B_(e,"remoteDocumentGlobal")}function eE(e){return B_(e,"remoteDocumentsV14")}function tE(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function nE(e,t){var n=t.documentKey.path.toArray();return[e,$_(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function rE(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Sk(n[a],r[a]))return i;return(i=Sk(n.length,r.length))||((i=Sk(n[n.length-2],r[r.length-2]))||Sk(n[n.length-1],r[r.length-1]))}var iE=function(){function e(t){aa(this,e),this.M=t}return ua(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new P_("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",u_,{unique:!0}),e.createObjectStore("documentMutations")}(e),aE(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=R_.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),aE(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Nk.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").qt().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",u_,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return R_.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Qn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.jn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Wn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.zn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Hn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:x_});t.createIndex("collectionPathOverlayIndex",__,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",I_,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:f_});t.createIndex("documentKeyIndex",h_),t.createIndex("collectionGroupIndex",d_)}(e)})).next((function(){return i.Jn(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:g_}).createIndex("sequenceNumberIndex",k_,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:b_}).createIndex("documentKeyIndex",w_,{unique:!1})}(e)}))),o}},{key:"jn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=RI(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Qn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.qt().next((function(n){return R_.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",i).next((function(r){return R_.forEach(r,(function(r){lk(r.userId===n.userId);var i=J_(t.M,r);return NI(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Wn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new Lk(n),o=function(e){return[0,r_(e)]}(a);r.push(t.get(o).next((function(n){return n?R_.resolve():function(n){return t.put({targetId:0,path:r_(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return R_.waitFor(r)}))}))}},{key:"zn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:y_});var n=t.store("collectionParents"),r=new wI,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:r_(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new Lk(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=c(e,3),r=(n[0],n[1]),a=(n[2],o_(r));return i(a.popLast())}))}))}},{key:"Hn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=Z_(r),a=eI(t.M,i);return n.put(a)}))}},{key:"Jn",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Wt((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Jk(Lk.fromString(i.document.name).popFirst(5)):i.noDocument?Jk.fromSegments(i.noDocument.path):i.unknownDocument?Jk.fromSegments(i.unknownDocument.path):ck()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return R_.waitFor(r)}))}}]),e}();function aE(e){e.createObjectStore("targetDocuments",{keyPath:v_}).createIndex("documentTargetsIndex",m_,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",p_,{unique:!0}),e.createObjectStore("targetGlobal")}var oE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",uE=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:13;if(aa(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Yn=a,this.window=o,this.document=u,this.Xn=c,this.Zn=l,this.ts=f,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=function(e){return Promise.resolve()},!e.vt())throw new dk(hk.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new QI(this,i),this.hs=n+"main",this.M=new H_(s),this.ls=new O_(this.hs,this.ts,new iE(this.M)),this.fs=new VI(this.referenceDelegate,this.M),this.ds=function(e){return new XI(e)}(this.M),this._s=new iI,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===l&&ok("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return ua(e,[{key:"start",value:function(){var e=this;return this.gs().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new dk(hk.FAILED_PRECONDITION,oE);return e.ys(),e.ps(),e.Is(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.fs.getHighestSequenceNumber(t)}))})).then((function(t){e.es=new _k(t,e.Xn)})).then((function(){e.ns=!0})).catch((function(t){return e.ls&&e.ls.close(),Promise.reject(t)}))}},{key:"Ts",value:function(e){var t=this;return this.cs=function(){var n=Ha($a().mark((function n(r){return $a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ls.Ot(function(){var t=Ha($a().mark((function t(n){return $a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget(Ha($a().mark((function e(){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.gs();case 4:case"end":return e.stop()}}),e)})))))}},{key:"gs",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return cE(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Es(t).next((function(t){t||(e.isPrimary=!1,e.Yn.enqueueRetryable((function(){return e.cs(!1)})))}))})).next((function(){return e.As(t)})).next((function(n){return e.isPrimary&&!n?e.Rs(t).next((function(){return!1})):!!n&&e.bs(t).next((function(){return!0}))}))})).catch((function(t){if(M_(t))return ak("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return ak("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Yn.enqueueRetryable((function(){return e.cs(t)})),e.isPrimary=t}))}},{key:"Es",value:function(e){var t=this;return sE(e).get("owner").next((function(e){return R_.resolve(t.Ps(e))}))}},{key:"Vs",value:function(e){return cE(e).delete(this.clientId)}},{key:"vs",value:function(){var e=Ha($a().mark((function e(){var t,n,r,i,a=this;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Ss(this.us,18e5)){e.next=6;break}return this.us=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=B_(e,"clientMetadata");return t.qt().next((function(e){var n=a.Ds(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return R_.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ws){n=sa(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ws.removeItem(this.Cs(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Is",value:function(){var e=this;this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.gs().then((function(){return e.vs()})).then((function(){return e.Is()}))}))}},{key:"Ps",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"As",value:function(e){var t=this;return this.Zn?R_.resolve(!0):sE(e).get("owner").next((function(n){if(null!==n&&t.Ss(n.leaseTimestampMs,5e3)&&!t.xs(n.ownerId)){if(t.Ps(n)&&t.networkEnabled)return!0;if(!t.Ps(n)){if(!n.allowTabSynchronization)throw new dk(hk.FAILED_PRECONDITION,oE);return!1}}return!(!t.networkEnabled||!t.inForeground)||cE(e).qt().next((function(e){return void 0===t.Ds(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&ak("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Ha($a().mark((function e(){var t=this;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ns=!1,this.Ns(),this.os&&(this.os.cancel(),this.os=null),this.ks(),this.Ms(),e.next=7,this.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new z_(e,_k.A);return t.Rs(n).next((function(){return t.Vs(n)}))}));case 7:this.ls.close(),this.Os();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ds",value:function(e,t){var n=this;return e.filter((function(e){return n.Ss(e.updateTimeMs,t)&&!n.xs(e.clientId)}))}},{key:"Fs",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return cE(t).qt().next((function(t){return e.Ds(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.ns}},{key:"getMutationQueue",value:function(e,t){return PI.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getIndexManager",value:function(e){return new _I(e,this.M.Jt.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return uI.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;ak("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=14===(i=this.ts)?C_:13===i?T_:12===i?S_:11===i?E_:void ck();return this.ls.runTransaction(e,o,u,(function(i){return a=new z_(i,r.es?r.es.next():_k.A),"readwrite-primary"===t?r.Es(a).next((function(e){return!!e||r.As(a)})).next((function(t){if(!t)throw ok("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Yn.enqueueRetryable((function(){return r.cs(!1)})),new dk(hk.FAILED_PRECONDITION,A_);return n(a)})).next((function(e){return r.bs(a).next((function(){return e}))})):r.$s(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"$s",value:function(e){var t=this;return sE(e).get("owner").next((function(e){if(null!==e&&t.Ss(e.leaseTimestampMs,5e3)&&!t.xs(e.ownerId)&&!t.Ps(e)&&!(t.Zn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new dk(hk.FAILED_PRECONDITION,oE)}))}},{key:"bs",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return sE(e).put("owner",t)}},{key:"Rs",value:function(e){var t=this,n=sE(e);return n.get("owner").next((function(e){return t.Ps(e)?(ak("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):R_.resolve()}))}},{key:"Ss",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(ok("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ys",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=function(){e.Yn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.gs()}))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}},{key:"ks",value:function(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}},{key:"ps",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=function(){t.Ns(),!Ta()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Yn.enterRestrictedMode(!0),t.Yn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ss))}},{key:"Ms",value:function(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}},{key:"xs",value:function(e){var t;try{var n=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return ak("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return ok("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ns",value:function(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(tv){ok("Failed to set zombie client id.",tv)}}},{key:"Os",value:function(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(tv){}}},{key:"Cs",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return O_.vt()}}]),e}();function sE(e){return B_(e,"owner")}function cE(e){return B_(e,"clientMetadata")}function lE(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var fE=function(){function e(t,n,r){aa(this,e),this.ds=t,this.Bs=n,this.indexManager=r}return ua(e,[{key:"Ls",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Us(e,t,r)}))}},{key:"Us",value:function(e,t,n){return this.ds.getEntry(e,t).next((function(e){var t,r=sa(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"qs",value:function(e,t){e.forEach((function(e,n){var r,i=sa(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Ks",value:function(e,t){var n=this;return this.ds.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.qs(t,e)}))}},{key:"Qs",value:function(e,t,n){return function(e){return Jk.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.js(e,t.path):fw(t)?this.Ws(e,t,n):this.zs(e,t,n)}},{key:"js",value:function(e,t){return this.Ls(e,new Jk(t)).next((function(e){var t=cx();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ws",value:function(e,t,n){var r=this,i=t.collectionGroup,a=cx();return this.indexManager.getCollectionParents(e,i).next((function(o){return R_.forEach(o,(function(o){var u=function(e,t){return new ow(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.zs(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"zs",value:function(e,t,n){var r,i=this;return this.ds.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.Bs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=sa(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=sa(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,c=r.get(s);null==c&&(c=xb.newInvalidDocument(s),r=r.insert(s,c)),qw(u,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(s))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){gw(t,n)||(r=r.remove(e))})),r}))}}]),e}(),hE=function(){function e(t,n,r,i){aa(this,e),this.targetId=t,this.fromCache=n,this.Hs=r,this.Js=i}return ua(e,null,[{key:"Ys",value:function(t,n){var r,i=dx(),a=dx(),o=sa(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),dE=function(){function e(){aa(this,e),this.Xs=!1}return ua(e,[{key:"initialize",value:function(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}},{key:"Qs",value:function(e,t,n,r){var i=this;return this.ti(e,t).next((function(a){return a||i.ei(e,t,r,n)})).next((function(n){return n||i.ni(e,t)}))}},{key:"ti",value:function(e,t){return R_.resolve(null)}},{key:"ei",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(Nk.min())?this.ni(e,t):this.Zs.Ks(e,n).next((function(a){var o=i.si(t,a);return i.ii(t,o,n,r)?i.ni(e,t):(ik()<=to.DEBUG&&ak("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),yw(t)),i.ri(e,o,t,Cb(r,-1)))}))}},{key:"si",value:function(e,t){var n=new Lb(bw(e));return t.forEach((function(t,r){gw(e,r)&&(n=n.add(r))})),n}},{key:"ii",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"ni",value:function(e,t){return ik()<=to.DEBUG&&ak("QueryEngine","Using full collection scan to execute query:",yw(t)),this.Zs.Qs(e,t,Nb.min())}},{key:"ri",value:function(e,t,n,r){return this.Zs.Qs(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),pE=function(){function e(t,n,r,i){aa(this,e),this.persistence=t,this.oi=n,this.M=i,this.ui=new Pb(Sk),this.ai=new ax((function(e){return jb(e)}),zb),this.ci=new Map,this.hi=t.getRemoteDocumentCache(),this.fs=t.getTargetCache(),this._s=t.getBundleCache(),this.li(r)}return ua(e,[{key:"li",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new fE(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ui)}))}}]),e}();function vE(e,t,n,r){return new pE(e,t,n,r)}function mE(e,t){return yE.apply(this,arguments)}function yE(){return yE=Ha($a().mark((function e(t,n){var r;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fk(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.Bs.getAllMutationBatches(e).next((function(i){return t=i,r.li(n),r.Bs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=dx(),s=sa(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=sa(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=sa(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=sa(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.fi.Ks(e,u).next((function(e){return{di:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),yE.apply(this,arguments)}function gE(e,t){var n=fk(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.hi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=R_.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);lk(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.Bs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.fi.Ks(e,r)}))}))}function kE(e){var t=fk(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.fs.getLastRemoteSnapshotVersion(e)}))}function bE(e,t){var n=fk(e),r=t.snapshotVersion,i=n.ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.hi.newChangeBuffer({trackRemovals:!0});i=n.ui;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.fs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.fs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Uk.EMPTY_BYTE_STRING,Nk.min()).withLastLimboFreeSnapshotVersion(Nk.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.fs.updateTargetData(e,c))}}));var u=ux();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(wE(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(Nk.min())){var s=n.fs.getLastRemoteSnapshotVersion(e).next((function(t){return n.fs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return R_.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.fi.Gs(e,u)})).next((function(){return u}))})).then((function(e){return n.ui=i,e}))}function wE(e,t,n){var r=dx();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=ux();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(Nk.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):ak("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function xE(e,t){var n=fk(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Bs.getNextMutationBatchAfterBatchId(e,t)}))}function _E(e,t){var n=fk(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.fs.getTargetData(e,t).next((function(i){return i?(r=i,R_.resolve(r)):n.fs.allocateTargetId(e).next((function(i){return r=new G_(t,i,0,e.currentSequenceNumber),n.fs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ui=n.ui.insert(e.targetId,e),n.ai.set(t,e.targetId)),e}))}function IE(e,t,n){return EE.apply(this,arguments)}function EE(){return EE=Ha($a().mark((function e(t,n,r){var i,a,o;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=fk(t),a=i.ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),M_(e.t1)){e.next=12;break}throw e.t1;case 12:ak("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ui=i.ui.remove(n),i.ai.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),EE.apply(this,arguments)}function SE(e,t,n){var r=fk(e),i=Nk.min(),a=dx();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=fk(e),i=r.ai.get(n);return void 0!==i?R_.resolve(r.ui.get(i)):r.fs.getTargetData(t,n)}(r,e,dw(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.oi.Qs(e,t,n?i:Nk.min(),n?a:dx())})).next((function(e){return AE(r,kw(t),e),{documents:e,_i:a}}))}))}function TE(e,t){var n=fk(e),r=fk(n.fs),i=n.ui.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function CE(e,t){var n=fk(e),r=n.ci.get(t)||Nk.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.hi.getAllFromCollectionGroup(e,t,Cb(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return AE(n,t,e),e}))}function AE(e,t,n){var r=Nk.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ci.set(t,r)}function NE(e,t,n,r){return RE.apply(this,arguments)}function RE(){return RE=Ha($a().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=fk(t),o=dx(),u=ux(),s=sa(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.wi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.mi(l)).setReadTime(n.gi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.hi.newChangeBuffer({trackRemovals:!0}),e.next=7,_E(a,function(e){return dw(sw(Lk.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return wE(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.fs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.fs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.fi.Gs(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),RE.apply(this,arguments)}function PE(e,t){return OE.apply(this,arguments)}function OE(){return OE=Ha($a().mark((function e(t,n){var r,i,a,o=arguments;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:dx(),e.next=3,_E(t,dw(tI(n.bundledQuery)));case 3:return i=e.sent,a=fk(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Rx(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a._s.saveNamedQuery(e,n);var o=i.withResumeToken(Uk.EMPTY_BYTE_STRING,t);return a.ui=a.ui.insert(o.targetId,o),a.fs.updateTargetData(e,o).next((function(){return a.fs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.fs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a._s.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),OE.apply(this,arguments)}var DE=function(){function e(t){aa(this,e),this.M=t,this.yi=new Map,this.pi=new Map}return ua(e,[{key:"getBundleMetadata",value:function(e,t){return R_.resolve(this.yi.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.yi.set(t.id,{id:(n=t).id,version:n.version,createTime:Rx(n.createTime)}),R_.resolve()}},{key:"getNamedQuery",value:function(e,t){return R_.resolve(this.pi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.pi.set(t.name,function(e){return{name:e.name,query:tI(e.bundledQuery),readTime:Rx(e.readTime)}}(t)),R_.resolve()}}]),e}(),LE=function(){function e(){aa(this,e),this.overlays=new Pb(Jk.comparator),this.Ii=new Map}return ua(e,[{key:"getOverlay",value:function(e,t){return R_.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),R_.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Ii.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Ii.delete(n)),R_.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=lx(),i=t.length+1,a=new Jk(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return R_.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Pb((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=lx(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=lx(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return R_.resolve(s)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Ii.get(r.largestBatchId).delete(n.key);this.Ii.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new W_(t,n));var a=this.Ii.get(t);void 0===a&&(a=dx(),this.Ii.set(t,a)),this.Ii.set(t,a.add(n.key))}}}]),e}(),ME=function(){function e(){aa(this,e),this.Ti=new Lb(FE.Ei),this.Ai=new Lb(FE.Ri)}return ua(e,[{key:"isEmpty",value:function(){return this.Ti.isEmpty()}},{key:"addReference",value:function(e,t){var n=new FE(e,t);this.Ti=this.Ti.add(n),this.Ai=this.Ai.add(n)}},{key:"bi",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Pi(new FE(e,t))}},{key:"Vi",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"vi",value:function(e){var t=this,n=new Jk(new Lk([])),r=new FE(n,e),i=new FE(n,e+1),a=[];return this.Ai.forEachInRange([r,i],(function(e){t.Pi(e),a.push(e.key)})),a}},{key:"Si",value:function(){var e=this;this.Ti.forEach((function(t){return e.Pi(t)}))}},{key:"Pi",value:function(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}},{key:"Di",value:function(e){var t=new Jk(new Lk([])),n=new FE(t,e),r=new FE(t,e+1),i=dx();return this.Ai.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new FE(e,0),n=this.Ti.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),FE=function(){function e(t,n){aa(this,e),this.key=t,this.Ci=n}return ua(e,null,[{key:"Ei",value:function(e,t){return Jk.comparator(e.key,t.key)||Sk(e.Ci,t.Ci)}},{key:"Ri",value:function(e,t){return Sk(e.Ci,t.Ci)||Jk.comparator(e.key,t.key)}}]),e}(),VE=function(){function e(t,n){aa(this,e),this.indexManager=t,this.referenceDelegate=n,this.Bs=[],this.xi=1,this.Ni=new Lb(FE.Ei)}return ua(e,[{key:"checkEmpty",value:function(e){return R_.resolve(0===this.Bs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.xi;this.xi++,this.Bs.length>0&&this.Bs[this.Bs.length-1];var a=new q_(i,t,n,r);this.Bs.push(a);var o,u=sa(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Ni=this.Ni.add(new FE(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return R_.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return R_.resolve(this.ki(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Mi(n),i=r<0?0:r;return R_.resolve(this.Bs.length>i?this.Bs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return R_.resolve(0===this.Bs.length?-1:this.xi-1)}},{key:"getAllMutationBatches",value:function(e){return R_.resolve(this.Bs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new FE(t,0),i=new FE(t,Number.POSITIVE_INFINITY),a=[];return this.Ni.forEachInRange([r,i],(function(e){var t=n.ki(e.Ci);a.push(t)})),R_.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Lb(Sk);return t.forEach((function(e){var t=new FE(e,0),i=new FE(e,Number.POSITIVE_INFINITY);n.Ni.forEachInRange([t,i],(function(e){r=r.add(e.Ci)}))})),R_.resolve(this.Oi(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Jk.isDocumentKey(i)||(i=i.child(""));var a=new FE(new Jk(i),0),o=new Lb(Sk);return this.Ni.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Ci)),!0)}),a),R_.resolve(this.Oi(o))}},{key:"Oi",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ki(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;lk(0===this.Fi(t.batchId,"removed")),this.Bs.shift();var r=this.Ni;return R_.forEach(t.mutations,(function(i){var a=new FE(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Ni=r}))}},{key:"_n",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new FE(t,0),r=this.Ni.firstAfterOrEqual(n);return R_.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.Bs.length,R_.resolve()}},{key:"Fi",value:function(e,t){return this.Mi(e)}},{key:"Mi",value:function(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}},{key:"ki",value:function(e){var t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}]),e}(),UE=function(){function e(t){aa(this,e),this.$i=t,this.docs=new Pb(Jk.comparator),this.size=0}return ua(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.$i(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return R_.resolve(n?n.document.mutableCopy():xb.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=ux();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():xb.newInvalidDocument(e))})),R_.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=ux(),i=new Jk(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||Rb(Ab(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return R_.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){ck()}},{key:"Bi",value:function(e,t){return R_.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new jE(this)}},{key:"getSize",value:function(e){return R_.resolve(this.size)}}]),e}(),jE=function(e){ca(n,e);var t=pa(n);function n(e){var r;return aa(this,n),(r=t.call(this)).Kn=e,r}return ua(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Kn.addEntry(e,i)):t.Kn.removeEntry(r)})),R_.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Kn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Kn.getEntries(e,t)}}]),n}(YI),zE=function(){function e(t){aa(this,e),this.persistence=t,this.Li=new ax((function(e){return jb(e)}),zb),this.lastRemoteSnapshotVersion=Nk.min(),this.highestTargetId=0,this.Ui=0,this.qi=new ME,this.targetCount=0,this.Ki=FI.gn()}return ua(e,[{key:"forEachTarget",value:function(e,t){return this.Li.forEach((function(e,n){return t(n)})),R_.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return R_.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return R_.resolve(this.Ui)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ki.next(),R_.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ui&&(this.Ui=t),R_.resolve()}},{key:"Tn",value:function(e){this.Li.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ki=new FI(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Tn(t),this.targetCount+=1,R_.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Tn(t),R_.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,R_.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Li.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Li.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),R_.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return R_.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Li.get(t)||null;return R_.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.qi.bi(t,n),R_.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.qi.Vi(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),R_.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.qi.vi(t),R_.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.qi.Di(t);return R_.resolve(n)}},{key:"containsKey",value:function(e,t){return R_.resolve(this.qi.containsKey(t))}}]),e}(),BE=function(){function e(t,n){var r=this;aa(this,e),this.Gi={},this.overlays={},this.es=new _k(0),this.ns=!1,this.ns=!0,this.referenceDelegate=t(this),this.fs=new zE(this),this.indexManager=new bI,this.ds=new UE((function(e){return r.referenceDelegate.Qi(e)})),this.M=new H_(n),this._s=new DE(this.M)}return ua(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.ns=!1,Promise.resolve()}},{key:"started",get:function(){return this.ns}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new LE,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Gi[e.toKey()];return n||(n=new VE(t,this.referenceDelegate),this.Gi[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;ak("MemoryPersistence","Starting transaction:",e);var i=new qE(this.es.next());return this.referenceDelegate.ji(),n(i).next((function(e){return r.referenceDelegate.Wi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"zi",value:function(e,t){return R_.or(Object.values(this.Gi).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),qE=function(e){ca(n,e);var t=pa(n);function n(e){var r;return aa(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return ua(n)}(N_),KE=function(){function e(t){aa(this,e),this.persistence=t,this.Hi=new ME,this.Ji=null}return ua(e,[{key:"Xi",get:function(){if(this.Ji)return this.Ji;throw ck()}},{key:"addReference",value:function(e,t,n){return this.Hi.addReference(n,t),this.Xi.delete(n.toString()),R_.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Hi.removeReference(n,t),this.Xi.add(n.toString()),R_.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Xi.add(t.toString()),R_.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Hi.vi(t.targetId).forEach((function(e){return n.Xi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Xi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ji",value:function(){this.Ji=new Set}},{key:"Wi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return R_.forEach(this.Xi,(function(r){var i=Jk.fromPath(r);return t.Zi(e,i).next((function(e){e||n.removeEntry(i,Nk.min())}))})).next((function(){return t.Ji=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Zi(e,t).next((function(e){e?n.Xi.delete(t.toString()):n.Xi.add(t.toString())}))}},{key:"Qi",value:function(e){return 0}},{key:"Zi",value:function(e,t){var n=this;return R_.or([function(){return R_.resolve(n.Hi.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.zi(e,t)}])}}],[{key:"Yi",value:function(t){return new e(t)}}]),e}();function WE(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function GE(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function HE(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var QE=function(){function e(t,n,r,i){aa(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return ua(e,[{key:"er",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"tr",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new dk(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(ok("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),$E=function(){function e(t,n,r){aa(this,e),this.targetId=t,this.state=n,this.error=r}return ua(e,[{key:"er",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"tr",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new dk(i.error.code,i.error.message))),a?new e(t,i.state,r):(ok("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),YE=function(){function e(t,n){aa(this,e),this.clientId=t,this.activeTargetIds=n}return ua(e,null,[{key:"tr",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=vx(),o=0;i&&o<r.activeTargetIds.length;++o)i=Xk(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(ok("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),XE=function(){function e(t,n){aa(this,e),this.clientId=t,this.onlineState=n}return ua(e,null,[{key:"tr",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(ok("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),JE=function(){function e(){aa(this,e),this.activeTargetIds=vx()}return ua(e,[{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"sr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"er",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),ZE=function(){function e(t,n,r,i,a){aa(this,e),this.window=t,this.Yn=n,this.persistenceKey=r,this.ir=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new Pb(Sk),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.hr=WE(this.persistenceKey,this.ir),this.lr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ar=this.ar.insert(this.ir,new JE),this.dr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this._r=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.wr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.mr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.gr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}return ua(e,[{key:"start",value:function(){var e=Ha($a().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Fs();case 2:t=e.sent,n=sa(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.ir){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(WE(this.persistenceKey,i)))&&(o=YE.tr(i,a))&&(this.ar=this.ar.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.yr(),(u=this.storage.getItem(this.mr))&&(s=this.pr(u))&&this.Ir(s),c=sa(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.ur(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.lr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Tr(this.ar)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ar.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Er(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Er(e,t,n),this.Ar(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(HE(this.persistenceKey,e));if(n){var r=$E.tr(e,n);r&&(t=r.state)}}return this.Rr.nr(e),this.yr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Rr.sr(e),this.yr()}},{key:"isLocalQueryTarget",value:function(e){return this.Rr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(HE(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.br(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Ar(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Pr(e)}},{key:"notifyBundleLoaded",value:function(e){this.Vr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return ak("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){ak("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){ak("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"ur",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(ak("SharedClientState","EVENT",n.key,n.newValue),n.key===this.hr)return void ok("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable(Ha($a().mark((function e(){var r,i,a,o,u,s,c;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.dr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Sr(r,null));case 6:if(!(i=t.Dr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Sr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t._r.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Cr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Nr(a));case 16:e.next=41;break;case 18:if(!t.wr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.kr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Mr(o));case 23:e.next=41;break;case 25:if(n.key!==t.mr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.pr(n.newValue))){e.next=30;break}return e.abrupt("return",t.Ir(u));case 30:e.next=41;break;case 32:if(n.key!==t.lr){e.next=37;break}s=function(e){var t=_k.A;if(null!=e)try{var n=JSON.parse(e);lk("number"==typeof n),t=n}catch(e){ok("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==_k.A&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.gr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Fr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Rr",get:function(){return this.ar.get(this.ir)}},{key:"yr",value:function(){this.setItem(this.hr,this.Rr.er())}},{key:"Er",value:function(e,t,n){var r=new QE(this.currentUser,e,t,n),i=GE(this.persistenceKey,this.currentUser,e);this.setItem(i,r.er())}},{key:"Ar",value:function(e){var t=GE(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Pr",value:function(e){var t={clientId:this.ir,onlineState:e};this.storage.setItem(this.mr,JSON.stringify(t))}},{key:"br",value:function(e,t,n){var r=HE(this.persistenceKey,e),i=new $E(e,t,n);this.setItem(r,i.er())}},{key:"Vr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}},{key:"vr",value:function(e){var t=this.dr.exec(e);return t?t[1]:null}},{key:"Dr",value:function(e,t){var n=this.vr(e);return YE.tr(n,t)}},{key:"Cr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return QE.tr(new tk(i),r,t)}},{key:"kr",value:function(e,t){var n=this.wr.exec(e),r=Number(n[1]);return $E.tr(r,t)}},{key:"pr",value:function(e){return XE.tr(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Nr",value:function(){var e=Ha($a().mark((function e(t){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.$r(t.batchId,t.state,t.error));case 2:ak("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mr",value:function(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}},{key:"Sr",value:function(e,t){var n=this,r=t?this.ar.insert(e,t):this.ar.remove(e),i=this.Tr(this.ar),a=this.Tr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Lr(o,u).then((function(){n.ar=r}))}},{key:"Ir",value:function(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Tr",value:function(e){var t=vx();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),eS=function(){function e(){aa(this,e),this.Ur=new JE,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return ua(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Ur.nr(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Ur.sr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Ur.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Ur=new JE,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),tS=function(){function e(){aa(this,e)}return ua(e,[{key:"Kr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),nS=function(){function e(){var t=this;aa(this,e),this.Gr=function(){return t.Qr()},this.jr=function(){return t.Wr()},this.zr=[],this.Hr()}return ua(e,[{key:"Kr",value:function(e){this.zr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}},{key:"Hr",value:function(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}},{key:"Qr",value:function(){ak("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=sa(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Wr",value:function(){ak("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=sa(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),rS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},iS=function(){function e(t){aa(this,e),this.Jr=t.Jr,this.Yr=t.Yr}return ua(e,[{key:"Xr",value:function(e){this.Zr=e}},{key:"eo",value:function(e){this.no=e}},{key:"onMessage",value:function(e){this.so=e}},{key:"close",value:function(){this.Yr()}},{key:"send",value:function(e){this.Jr(e)}},{key:"io",value:function(){this.Zr()}},{key:"ro",value:function(e){this.no(e)}},{key:"oo",value:function(e){this.so(e)}}]),e}(),aS=function(e){ca(n,e);var t=pa(n);function n(e){var r;return aa(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return ua(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Zg;o.listenOnce(Qg.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Hg.NO_ERROR:var t=o.getResponseJson();ak("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Hg.TIMEOUT:ak("Connection",'RPC "'+e+'" timed out'),a(new dk(hk.DEADLINE_EXCEEDED,"Request time out"));break;case Hg.HTTP_ERROR:var n=o.getStatus();if(ak("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(hk).indexOf(t)>=0?t:hk.UNKNOWN}(r.status);a(new dk(u,r.message))}else a(new dk(hk.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new dk(hk.UNAVAILABLE,"Connection failed."));break;default:ck()}}finally{ak("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Wg(),a=Gg(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Xg({})),this.lo(o.initMessageHeaders,t,n),Sa()||Aa()||Ea().indexOf("Electron/")>=0||Na()||Ea().indexOf("MSAppHost/")>=0||Ca()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");ak("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new iS({Jr:function(e){l?ak("Connection","Not sending because WebChannel is closed:",e):(c||(ak("Connection","Opening WebChannel transport."),s.open(),c=!0),ak("Connection","WebChannel sending:",e),s.send(e))},Yr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Jg.EventType.OPEN,(function(){l||ak("Connection","WebChannel transport opened.")})),h(s,Jg.EventType.CLOSE,(function(){l||(l=!0,ak("Connection","WebChannel transport closed"),f.ro())})),h(s,Jg.EventType.ERROR,(function(e){l||(l=!0,uk("Connection","WebChannel transport errored:",e),f.ro(new dk(hk.UNAVAILABLE,"The operation could not be completed")))})),h(s,Jg.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];lk(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){ak("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Jw[e];if(void 0!==t)return ix(t)}(a),u=i.message;void 0===o&&(o=hk.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.ro(new dk(o,u)),s.close()}else ak("Connection","WebChannel received:",n),f.oo(n)}})),h(a,$g.STAT_EVENT,(function(e){e.stat===Yg.PROXY?ak("Connection","Detected buffering proxy"):e.stat===Yg.NOPROXY&&ak("Connection","Detected no buffering proxy")})),setTimeout((function(){f.io()}),0),f}}]),n}(function(){function e(t){aa(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.uo=n+"://"+t.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return ua(e,[{key:"co",value:function(e,t,n,r,i){var a=this.ho(e,t);ak("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return ak("RestConnection","Received: ",e),e}),(function(t){throw uk("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i){return this.co(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+nk,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=rS[e];return"".concat(this.uo,"/v1/").concat(t,":").concat(n)}}]),e}());function oS(){return"undefined"!=typeof window?window:null}function uS(){return"undefined"!=typeof document?document:null}function sS(e){return new Tx(e,!0)}var cS=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;aa(this,e),this.Yn=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return ua(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&ak("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),lS=function(){function e(t,n,r,i,a,o,u,s){aa(this,e),this.Yn=t,this.Vo=r,this.vo=i,this.So=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new cS(t,n)}return ua(e,[{key:"ko",value:function(){return 1===this.state||5===this.state||this.Mo()}},{key:"Mo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=Ha($a().mark((function e(){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.ko(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.state=0,this.No.reset()}},{key:"$o",value:function(){var e=this;this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,(function(){return e.Bo()})))}},{key:"Lo",value:function(e){this.Uo(),this.stream.send(e)}},{key:"Bo",value:function(){var e=Ha($a().mark((function e(){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Mo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"qo",value:function(){this.xo&&(this.xo.cancel(),this.xo=null)}},{key:"close",value:function(){var e=Ha($a().mark((function e(t,n){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Uo(),this.qo(),this.No.cancel(),this.Do++,4!==t?this.No.reset():n&&n.code===hk.RESOURCE_EXHAUSTED?(ok(n.toString()),ok("Using maximum backoff delay to prevent overloading the backend."),this.No.Ao()):n&&n.code===hk.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Ko(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.eo(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Ko",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Go(this.Do),n=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=c(t,2),i=r[0],a=r[1];e.Do===n&&e.Qo(i,a)}),(function(n){t((function(){var t=new dk(hk.UNKNOWN,"Fetching auth token failed: "+n.message);return e.jo(t)}))}))}},{key:"Qo",value:function(e,t){var n=this,r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr((function(){r((function(){return n.state=2,n.xo=n.Yn.enqueueAfterDelay(n.vo,1e4,(function(){return n.Mo()&&(n.state=3),Promise.resolve()})),n.listener.Xr()}))})),this.stream.eo((function(e){r((function(){return n.jo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.No.Ro(Ha($a().mark((function t(){return $a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"jo",value:function(e){return ak("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Go",value:function(e){var t=this;return function(n){t.Yn.enqueueAndForget((function(){return t.Do===e?n():(ak("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),fS=function(e){ca(n,e);var t=pa(n);function n(e,r,i,a,o,u){var s;return aa(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).M=o,s}return ua(n,[{key:"Wo",value:function(e,t){return this.So.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.No.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ck()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(lk(void 0===t||"string"==typeof t),Uk.fromBase64String(t||"")):(lk(void 0===t||t instanceof Uint8Array),Uk.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?hk.UNKNOWN:ix(e.code);return new dk(t,e.message||"")}(o);n=new bx(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Lx(e,s.document.name),l=Rx(s.document.updateTime),f=new bb({mapValue:{fields:s.document.fields}}),h=xb.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new gx(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=Lx(e,v.document),y=v.readTime?Rx(v.readTime):Nk.min(),g=xb.newNoDocument(m,y),k=v.removedTargetIds||[];n=new gx([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=Lx(e,b.document),x=b.removedTargetIds||[];n=new gx([],x,w,null)}else{if(!("filter"in t))return ck();t.filter;var _=t.filter;_.targetId;var I=_.count||0,E=new nx(I),S=_.targetId;n=new kx(S,E)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return Nk.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Nk.min():t.readTime?Rx(t.readTime):Nk.min()}(e);return this.listener.zo(t,n)}},{key:"Ho",value:function(e){var t={};t.database=Vx(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=Bb(r)?{documents:Wx(e,r)}:{query:Gx(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Ax(e,t.resumeToken):t.snapshotVersion.compareTo(Nk.min())>0&&(n.readTime=Cx(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ck()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Lo(t)}},{key:"Jo",value:function(e){var t={};t.database=Vx(this.M),t.removeTarget=e,this.Lo(t)}}]),n}(lS),hS=function(e){ca(n,e);var t=pa(n);function n(e,r,i,a,o,u){var s;return aa(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).M=o,s.Yo=!1,s}return ua(n,[{key:"Xo",get:function(){return this.Yo}},{key:"start",value:function(){this.Yo=!1,this.lastStreamToken=void 0,Eu(la(n.prototype),"start",this).call(this)}},{key:"Ko",value:function(){this.Yo&&this.Zo([])}},{key:"Wo",value:function(e,t){return this.So.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(lk(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();var t=function(e,t){return e&&e.length>0?(lk(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Rx(e.updateTime):Rx(t);return n.isEqual(Nk.min())&&(n=Rx(t)),new Vw(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Rx(e.commitTime);return this.listener.tu(n,t)}return lk(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}},{key:"nu",value:function(){var e={};e.database=Vx(this.M),this.Lo(e)}},{key:"Zo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return qx(t.M,e)}))};this.Lo(n)}}]),n}(lS),dS=function(e){ca(n,e);var t=pa(n);function n(e,r,i,a){var o;return aa(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.So=i,o.M=a,o.su=!1,o}return ua(n,[{key:"iu",value:function(){if(this.su)throw new dk(hk.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],u=a[1];return r.So.co(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===hk.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new dk(hk.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n){var r=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=c(i,2),o=a[0],u=a[1];return r.So._o(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===hk.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new dk(hk.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.su=!0}}]),n}(function(){return ua((function e(){aa(this,e)}))}()),pS=function(){function e(t,n){aa(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}return ua(e,[{key:"au",value:function(){var e=this;0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ou=null,e.hu("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"lu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"hu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.uu?(ok(t),this.uu=!1):ak("OnlineStateTracker",t)}},{key:"fu",value:function(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}]),e}(),vS=ua((function e(t,n,r,i,a){var o=this;aa(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=a,this.gu.Kr((function(e){r.enqueueAndForget(Ha($a().mark((function e(){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=SS(o),!e.t0){e.next=5;break}return ak("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Ha($a().mark((function e(t){var n;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=fk(t)).wu.add(4),e.next=4,gS(n);case 4:return n.yu.set("Unknown"),n.wu.delete(4),e.next=8,mS(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.yu=new pS(r,i)}));function mS(e){return yS.apply(this,arguments)}function yS(){return yS=Ha($a().mark((function e(t){var n,r,i;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!SS(t)){e.next=18;break}n=sa(t.mu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),yS.apply(this,arguments)}function gS(e){return kS.apply(this,arguments)}function kS(){return kS=Ha($a().mark((function e(t){var n,r,i;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=sa(t.mu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),kS.apply(this,arguments)}function bS(e,t){var n=fk(e);n._u.has(t.targetId)||(n._u.set(t.targetId,t),ES(n)?IS(n):tT(n).Mo()&&xS(n,t))}function wS(e,t){var n=fk(e),r=tT(n);n._u.delete(t),r.Mo()&&_S(n,t),0===n._u.size&&(r.Mo()?r.$o():SS(n)&&n.yu.set("Unknown"))}function xS(e,t){e.pu.Z(t.targetId),tT(e).Ho(t)}function _S(e,t){e.pu.Z(t),tT(e).Jo(t)}function IS(e){e.pu=new xx({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e._u.get(t)||null}}),tT(e).start(),e.yu.au()}function ES(e){return SS(e)&&!tT(e).ko()&&e._u.size>0}function SS(e){return 0===fk(e).wu.size}function TS(e){e.pu=void 0}function CS(e){return AS.apply(this,arguments)}function AS(){return AS=Ha($a().mark((function e(t){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t._u.forEach((function(e,n){xS(t,e)}));case 1:case"end":return e.stop()}}),e)}))),AS.apply(this,arguments)}function NS(e,t){return RS.apply(this,arguments)}function RS(){return RS=Ha($a().mark((function e(t,n){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:TS(t),ES(t)?(t.yu.lu(n),IS(t)):t.yu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),RS.apply(this,arguments)}function PS(e,t,n){return OS.apply(this,arguments)}function OS(){return OS=Ha($a().mark((function e(t,n,r){var i;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.yu.set("Online"),!(n instanceof bx&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Ha($a().mark((function e(t,n){var r,i,a,o;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=sa(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t._u.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t._u.delete(o),t.pu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),ak("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,DS(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof gx?t.pu.ut(n):n instanceof kx?t.pu._t(n):t.pu.ht(n),r.isEqual(Nk.min())){e.next=29;break}return e.prev=14,e.next=17,kE(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.pu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e._u.get(r);i&&e._u.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e._u.get(t);if(n){e._u.set(t,n.withResumeToken(Uk.EMPTY_BYTE_STRING,n.snapshotVersion)),_S(e,t);var r=new G_(n.target,t,1,n.sequenceNumber);xS(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),ak("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,DS(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),OS.apply(this,arguments)}function DS(e,t,n){return LS.apply(this,arguments)}function LS(){return LS=Ha($a().mark((function e(t,n,r){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(M_(n)){e.next=2;break}throw n;case 2:return t.wu.add(1),e.next=5,gS(t);case 5:t.yu.set("Offline"),r||(r=function(){return kE(t.localStore)}),t.asyncQueue.enqueueRetryable(Ha($a().mark((function e(){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ak("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.wu.delete(1),e.next=6,mS(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),LS.apply(this,arguments)}function MS(e,t){return t().catch((function(n){return DS(e,n,t)}))}function FS(e){return VS.apply(this,arguments)}function VS(){return VS=Ha($a().mark((function e(t){var n,r,i,a;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=fk(t),r=nT(n),i=n.du.length>0?n.du[n.du.length-1].batchId:-1;case 2:if(!US(n)){e.next=19;break}return e.prev=3,e.next=6,xE(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.du.length&&r.$o(),e.abrupt("break",19);case 10:i=a.batchId,jS(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,DS(n,e.t0);case 17:e.next=2;break;case 19:zS(n)&&BS(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),VS.apply(this,arguments)}function US(e){return SS(e)&&e.du.length<10}function jS(e,t){e.du.push(t);var n=nT(e);n.Mo()&&n.Xo&&n.Zo(t.mutations)}function zS(e){return SS(e)&&!nT(e).ko()&&e.du.length>0}function BS(e){nT(e).start()}function qS(e){return KS.apply(this,arguments)}function KS(){return KS=Ha($a().mark((function e(t){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:nT(t).nu();case 1:case"end":return e.stop()}}),e)}))),KS.apply(this,arguments)}function WS(e){return GS.apply(this,arguments)}function GS(){return GS=Ha($a().mark((function e(t){var n,r,i,a;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=nT(t),r=sa(t.du);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Zo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),GS.apply(this,arguments)}function HS(e,t,n){return QS.apply(this,arguments)}function QS(){return QS=Ha($a().mark((function e(t,n,r){var i,a;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.du.shift(),a=K_.from(i,n,r),e.next=3,MS(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,FS(t);case 5:case"end":return e.stop()}}),e)}))),QS.apply(this,arguments)}function $S(e,t){return YS.apply(this,arguments)}function YS(){return YS=Ha($a().mark((function e(t,n){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&nT(t).Xo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Ha($a().mark((function e(t,n){var r,i;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!rx(i=n.code)||i===hk.ABORTED){e.next=7;break}return r=t.du.shift(),nT(t).Fo(),e.next=5,MS(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,FS(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:zS(t)&&BS(t);case 5:case"end":return e.stop()}}),e)}))),YS.apply(this,arguments)}function XS(e,t){return JS.apply(this,arguments)}function JS(){return JS=Ha($a().mark((function e(t,n){var r,i;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=fk(t)).asyncQueue.verifyOperationInProgress(),ak("RemoteStore","RemoteStore received new credentials"),i=SS(r),r.wu.add(3),e.next=6,gS(r);case 6:return i&&r.yu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.wu.delete(3),e.next=12,mS(r);case 12:case"end":return e.stop()}}),e)}))),JS.apply(this,arguments)}function ZS(e,t){return eT.apply(this,arguments)}function eT(){return eT=Ha($a().mark((function e(t,n){var r;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=fk(t),!n){e.next=7;break}return r.wu.delete(2),e.next=5,mS(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.wu.add(2),e.next=12,gS(r);case 12:r.yu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),eT.apply(this,arguments)}function tT(e){return e.Iu||(e.Iu=function(e,t,n){var r=fk(e);return r.iu(),new fS(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Xr:CS.bind(null,e),eo:NS.bind(null,e),zo:PS.bind(null,e)}),e.mu.push(function(){var t=Ha($a().mark((function t(n){return $a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Iu.Fo(),ES(e)?IS(e):e.yu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Iu.stop();case 6:TS(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}function nT(e){return e.Tu||(e.Tu=function(e,t,n){var r=fk(e);return r.iu(),new hS(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Xr:qS.bind(null,e),eo:$S.bind(null,e),eu:WS.bind(null,e),tu:HS.bind(null,e)}),e.mu.push(function(){var t=Ha($a().mark((function t(n){return $a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Tu.Fo(),t.next=4,FS(e);case 4:t.next=9;break;case 6:return t.next=8,e.Tu.stop();case 8:e.du.length>0&&(ak("RemoteStore","Stopping write stream with ".concat(e.du.length," pending writes")),e.du=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Tu}var rT=function(){function e(t,n,r,i,a){aa(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new pk,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return ua(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new dk(hk.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function iT(e,t){if(ok("AsyncQueue","".concat(t,": ").concat(e)),M_(e))return new dk(hk.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var aT=function(){function e(t){aa(this,e),this.comparator=t?function(e,n){return t(e,n)||Jk.comparator(e.key,n.key)}:function(e,t){return Jk.comparator(e.key,t.key)},this.keyedMap=cx(),this.sortedSet=new Pb(this.comparator)}return ua(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),oT=function(){function e(){aa(this,e),this.Eu=new Pb(Jk.comparator)}return ua(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Eu.get(t);n?0!==e.type&&3===n.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==n.type?this.Eu=this.Eu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Eu=this.Eu.remove(t):1===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):ck():this.Eu=this.Eu.insert(t,e)}},{key:"Au",value:function(){var e=[];return this.Eu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),uT=function(){function e(t,n,r,i,a,o,u,s){aa(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return ua(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,aT.emptySet(n),a,r,i,!0,!1)}}]),e}(),sT=ua((function e(){aa(this,e),this.Ru=void 0,this.listeners=[]})),cT=ua((function e(){aa(this,e),this.queries=new ax((function(e){return mw(e)}),vw),this.onlineState="Unknown",this.bu=new Set}));function lT(e,t){return fT.apply(this,arguments)}function fT(){return fT=Ha($a().mark((function e(t,n){var r,i,a,o,u;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=fk(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new sT),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Ru=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=iT(e.t0,"Initialization of query '".concat(yw(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Pu(r.onlineState),o.Ru&&n.Vu(o.Ru)&&mT(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),fT.apply(this,arguments)}function hT(e,t){return dT.apply(this,arguments)}function dT(){return dT=Ha($a().mark((function e(t,n){var r,i,a,o,u;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=fk(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),dT.apply(this,arguments)}function pT(e,t){var n,r=fk(e),i=!1,a=sa(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=sa(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Vu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Ru=o}}}catch(f){a.e(f)}finally{a.f()}i&&mT(r)}function vT(e,t,n){var r=fk(e),i=r.queries.get(t);if(i){var a,o=sa(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function mT(e){e.bu.forEach((function(e){e.next()}))}var yT=function(){function e(t,n,r){aa(this,e),this.query=t,this.vu=n,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}return ua(e,[{key:"Vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=sa(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new uT(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),a=!0):this.xu(e,this.onlineState)&&(this.Nu(e),a=!0),this.Du=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"Pu",value:function(e){this.onlineState=e;var t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}},{key:"xu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.ku||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Cu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Nu",value:function(e){e=uT.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}]),e}(),gT=function(){function e(t,n){aa(this,e),this.payload=t,this.byteLength=n}return ua(e,[{key:"Mu",value:function(){return"metadata"in this.payload}}]),e}(),kT=function(){function e(t){aa(this,e),this.M=t}return ua(e,[{key:"wi",value:function(e){return Lx(this.M,e)}},{key:"mi",value:function(e){return e.metadata.exists?zx(this.M,e.document,!1):xb.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}},{key:"gi",value:function(e){return Rx(e)}}]),e}(),bT=function(){function e(t,n,r){aa(this,e),this.Ou=t,this.localStore=n,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=wT(t)}return ua(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=Lk.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new kT(this.M),i=sa(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.wi(a.metadata.name),s=sa(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||dx()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Ha($a().mark((function e(){var t,n,r,i,a;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,NE(this.localStore,new kT(this.M),this.documents,this.Ou.id);case 2:t=e.sent,n=this.$u(this.documents),r=sa(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,PE(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function wT(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var xT=ua((function e(t){aa(this,e),this.key=t})),_T=ua((function e(t){aa(this,e),this.key=t})),IT=function(){function e(t,n){aa(this,e),this.query=t,this.Uu=n,this.qu=null,this.current=!1,this.Ku=dx(),this.mutatedKeys=dx(),this.Gu=bw(t),this.Qu=new aT(this.Gu)}return ua(e,[{key:"ju",get:function(){return this.Uu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new oT,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=gw(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Gu(f,s)>0||c&&n.Gu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,ii:u,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Au();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ck()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],u=0===this.Ku.size&&this.current?1:0,s=u!==this.qu;return this.qu=u,0!==a.length||s?{snapshot:new uT(this.query,e.Qu,i,a,e.mutatedKeys,0===u,s,!1),Xu:o}:{Xu:o}}},{key:"Pu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new oT,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Uu=t.Uu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Uu=t.Uu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=dx(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new _T(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new xT(e))})),n}},{key:"ta",value:function(e){this.Uu=e._i,this.Ku=dx();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ea",value:function(){return uT.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}]),e}(),ET=ua((function e(t,n,r){aa(this,e),this.query=t,this.targetId=n,this.view=r})),ST=ua((function e(t){aa(this,e),this.key=t,this.na=!1})),TT=function(){function e(t,n,r,i,a,o){aa(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sa={},this.ia=new ax((function(e){return mw(e)}),vw),this.ra=new Map,this.oa=new Set,this.ua=new Pb(Jk.comparator),this.aa=new Map,this.ca=new ME,this.ha={},this.la=new Map,this.fa=FI.yn(),this.onlineState="Unknown",this.da=void 0}return ua(e,[{key:"isPrimaryClient",get:function(){return!0===this.da}}]),e}();function CT(e,t){return AT.apply(this,arguments)}function AT(){return AT=Ha($a().mark((function e(t,n){var r,i,a,o,u,s;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=wC(t),!(o=r.ia.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ea(),e.next=15;break;case 6:return e.next=8,_E(r.localStore,dw(n));case 8:return u=e.sent,r.isPrimaryClient&&bS(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,NT(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),AT.apply(this,arguments)}function NT(e,t,n,r){return RT.apply(this,arguments)}function RT(){return RT=Ha($a().mark((function e(t,n,r,i){var a,o,u,s,c,l;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._a=function(e,n,r){return function(){var e=Ha($a().mark((function e(t,n,r,i){var a,o,u;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.ii,!e.t0){e.next=6;break}return e.next=5,SE(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(XT(t,n.targetId,u.Xu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,SE(t.localStore,n,!0);case 3:return a=e.sent,o=new IT(n,a._i),u=o.Wu(a.documents),s=yx.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),XT(t,r,c.Xu),l=new ET(n,r,o),e.abrupt("return",(t.ia.set(n,l),t.ra.has(r)?t.ra.get(r).push(n):t.ra.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),RT.apply(this,arguments)}function PT(e,t){return OT.apply(this,arguments)}function OT(){return OT=Ha($a().mark((function e(t,n){var r,i,a;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=fk(t),i=r.ia.get(n),!((a=r.ra.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ra.set(i.targetId,a.filter((function(e){return!vw(e,n)}))),void r.ia.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,IE(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),wS(r.remoteStore,i.targetId),$T(r,i.targetId)})).catch(BI);case 9:e.next=14;break;case 11:return $T(r,i.targetId),e.next=14,IE(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),OT.apply(this,arguments)}function DT(e,t,n){return LT.apply(this,arguments)}function LT(){return LT=Ha($a().mark((function e(t,n,r){var i,a,o;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=xC(t),e.prev=1,e.next=4,function(e,t){var n,r=fk(e),i=Ak.now(),a=t.reduce((function(e,t){return e.add(t.key)}),dx());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.fi.Ks(e,a).next((function(a){n=a;var o,u=[],s=sa(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Kw(c,n.get(c.key));null!=l&&u.push(new Qw(c.key,l,wb(l.value.mapValue),Uw.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.Bs.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ha[e.currentUser.toKey()];r||(r=new Pb(Sk)),r=r.insert(t,n),e.ha[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,eC(i,a.changes);case 9:return e.next=11,FS(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=iT(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),LT.apply(this,arguments)}function MT(e,t){return FT.apply(this,arguments)}function FT(){return FT=Ha($a().mark((function e(t,n){var r,i;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fk(t),e.prev=1,e.next=4,bE(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.aa.get(t);n&&(lk(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.na=!0:e.modifiedDocuments.size>0?lk(n.na):e.removedDocuments.size>0&&(lk(n.na),n.na=!1))})),e.next=8,eC(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,BI(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),FT.apply(this,arguments)}function VT(e,t,n){var r=fk(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ia.forEach((function(e,n){var r=n.view.Pu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=fk(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=sa(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Pu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&mT(n)}(r.eventManager,t),i.length&&r.sa.zo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function UT(e,t,n){return jT.apply(this,arguments)}function jT(){return jT=Ha($a().mark((function e(t,n,r){var i,a,o,u,s,c;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=fk(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.aa.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Pb(Jk.comparator)).insert(o,xb.newNoDocument(o,Nk.min())),s=dx().add(o),c=new mx(Nk.min(),new Map,new Lb(Sk),u,s),e.next=9,MT(i,c);case 9:i.ua=i.ua.remove(o),i.aa.delete(n),ZT(i),e.next=16;break;case 14:return e.next=16,IE(i.localStore,n,!1).then((function(){return $T(i,n,r)})).catch(BI);case 16:case"end":return e.stop()}}),e)}))),jT.apply(this,arguments)}function zT(e,t){return BT.apply(this,arguments)}function BT(){return BT=Ha($a().mark((function e(t,n){var r,i,a;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fk(t),i=n.batch.batchId,e.prev=1,e.next=4,gE(r.localStore,n);case 4:return a=e.sent,QT(r,i,null),HT(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,eC(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,BI(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),BT.apply(this,arguments)}function qT(e,t,n){return KT.apply(this,arguments)}function KT(){return KT=Ha($a().mark((function e(t,n,r){var i,a;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=fk(t),e.prev=1,e.next=4,function(e,t){var n=fk(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Bs.lookupMutationBatch(e,t).next((function(t){return lk(null!==t),r=t.keys(),n.Bs.removeMutationBatch(e,t)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.fi.Ks(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,QT(i,n,r),HT(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,eC(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,BI(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),KT.apply(this,arguments)}function WT(e,t){return GT.apply(this,arguments)}function GT(){return GT=Ha($a().mark((function e(t,n){var r,i,a,o;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return SS((r=fk(t)).remoteStore)||ak("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=fk(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Bs.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.la.get(i)||[]).push(n),r.la.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=iT(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),GT.apply(this,arguments)}function HT(e,t){(e.la.get(t)||[]).forEach((function(e){e.resolve()})),e.la.delete(t)}function QT(e,t,n){var r=fk(e),i=r.ha[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ha[r.currentUser.toKey()]=i}}function $T(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=sa(e.ra.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ia.delete(a),n&&e.sa.wa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ra.delete(t),e.isPrimaryClient&&e.ca.vi(t).forEach((function(t){e.ca.containsKey(t)||YT(e,t)}))}function YT(e,t){e.oa.delete(t.path.canonicalString());var n=e.ua.get(t);null!==n&&(wS(e.remoteStore,n),e.ua=e.ua.remove(t),e.aa.delete(n),ZT(e))}function XT(e,t,n){var r,i=sa(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof xT?(e.ca.addReference(a.key,t),JT(e,a)):a instanceof _T?(ak("SyncEngine","Document no longer in limbo: "+a.key),e.ca.removeReference(a.key,t),e.ca.containsKey(a.key)||YT(e,a.key)):ck()}}catch(o){i.e(o)}finally{i.f()}}function JT(e,t){var n=t.key,r=n.path.canonicalString();e.ua.get(n)||e.oa.has(r)||(ak("SyncEngine","New document in limbo: "+n),e.oa.add(r),ZT(e))}function ZT(e){for(;e.oa.size>0&&e.ua.size<e.maxConcurrentLimboResolutions;){var t=e.oa.values().next().value;e.oa.delete(t);var n=new Jk(Lk.fromString(t)),r=e.fa.next();e.aa.set(r,new ST(n)),e.ua=e.ua.insert(n,r),bS(e.remoteStore,new G_(dw(sw(n.path)),r,2,_k.A))}}function eC(e,t,n){return tC.apply(this,arguments)}function tC(){return tC=Ha($a().mark((function e(t,n,r){var i,a,o,u;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=fk(t),a=[],o=[],u=[],e.t0=i.ia.isEmpty(),e.t0){e.next=9;break}return i.ia.forEach((function(e,t){u.push(i._a(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=hE.Ys(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.sa.zo(a),e.next=9,function(){var e=Ha($a().mark((function e(t,n){var r,i,a,o,u,s,c,l;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fk(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return R_.forEach(n,(function(t){return R_.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return R_.forEach(t.Js,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),M_(e.t0)){e.next=10;break}throw e.t0;case 10:ak("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=sa(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.ui.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.ui=r.ui.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),tC.apply(this,arguments)}function nC(e,t){return rC.apply(this,arguments)}function rC(){return rC=Ha($a().mark((function e(t,n){var r,i;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=fk(t)).currentUser.isEqual(n)){e.next=11;break}return ak("SyncEngine","User change. New user:",n.toKey()),e.next=5,mE(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.la.forEach((function(e){e.forEach((function(e){e.reject(new dk(hk.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.la.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,eC(r,i.di);case 11:case"end":return e.stop()}}),e)}))),rC.apply(this,arguments)}function iC(e,t){var n=fk(e),r=n.aa.get(t);if(r&&r.na)return dx().add(r.key);var i=dx(),a=n.ra.get(t);if(!a)return i;var o,u=sa(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ia.get(s);i=i.unionWith(c.view.ju)}}catch(l){u.e(l)}finally{u.f()}return i}function aC(e,t){return oC.apply(this,arguments)}function oC(){return oC=Ha($a().mark((function e(t,n){var r,i,a;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fk(t),e.next=3,SE(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ta(i),e.abrupt("return",(r.isPrimaryClient&&XT(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),oC.apply(this,arguments)}function uC(e,t){return sC.apply(this,arguments)}function sC(){return sC=Ha($a().mark((function e(t,n){var r;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fk(t),e.abrupt("return",CE(r.localStore,n).then((function(e){return eC(r,e)})));case 2:case"end":return e.stop()}}),e)}))),sC.apply(this,arguments)}function cC(e,t,n,r){return lC.apply(this,arguments)}function lC(){return lC=Ha($a().mark((function e(t,n,r,i){var a,o;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=fk(t),e.next=3,function(e,t){var n=fk(e),r=fk(n.Bs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.fn(e,t).next((function(t){return t?n.fi.Ks(e,t):R_.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,FS(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(QT(a,n,i||null),HT(a,n),function(e,t){fk(fk(e).Bs)._n(t)}(a.localStore,n)):ck();case 11:return e.next=13,eC(a,o);case 13:e.next=16;break;case 15:ak("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),lC.apply(this,arguments)}function fC(e,t){return hC.apply(this,arguments)}function hC(){return hC=Ha($a().mark((function e(t,n){var r,i,a,o,u,s,c,l;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(wC(r=fk(t)),xC(r),!0!==n||!0===r.da){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,dC(r,i.toArray());case 5:return a=e.sent,r.da=!0,e.next=9,ZS(r.remoteStore,!0);case 9:o=sa(a);try{for(o.s();!(u=o.n()).done;)s=u.value,bS(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.da){e.next=25;break}return c=[],l=Promise.resolve(),r.ra.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return $T(r,t),IE(r.localStore,t,!0)})),wS(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,dC(r,c);case 21:return function(e){var t=fk(e);t.aa.forEach((function(e,n){wS(t.remoteStore,n)})),t.ca.Si(),t.aa=new Map,t.ua=new Pb(Jk.comparator)}(r),r.da=!1,e.next=25,ZS(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),hC.apply(this,arguments)}function dC(e,t,n){return pC.apply(this,arguments)}function pC(){return pC=Ha($a().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=fk(t),a=[],o=[],u=sa(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ra.get(c))||0===f.length){e.next=34;break}return e.next=11,_E(i.localStore,dw(f[0]));case 11:l=e.sent,h=sa(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ia.get(p),e.next=20,aC(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,TE(i.localStore,c);case 36:return y=e.sent,e.next=39,_E(i.localStore,y);case 39:return l=e.sent,e.next=42,NT(i,vC(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.sa.zo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),pC.apply(this,arguments)}function vC(e){return uw(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function mC(e){var t=fk(e);return fk(fk(t.localStore).persistence).Fs()}function yC(e,t,n,r){return gC.apply(this,arguments)}function gC(){return gC=Ha($a().mark((function e(t,n,r,i){var a,o,u,s;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=fk(t)).da){e.next=3;break}return e.abrupt("return",void ak("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ra.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,CE(a.localStore,kw(o[0]));case 10:return u=e.sent,s=mx.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,eC(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,IE(a.localStore,n,!0);case 17:return $T(a,n,i),e.abrupt("break",20);case 19:ck();case 20:case"end":return e.stop()}}),e)}))),gC.apply(this,arguments)}function kC(e,t,n){return bC.apply(this,arguments)}function bC(){return bC=Ha($a().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=wC(t)).da){e.next=45;break}a=sa(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ra.has(u)){e.next=10;break}return ak("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,TE(i.localStore,u);case 12:return s=e.sent,e.next=15,_E(i.localStore,s);case 15:return c=e.sent,e.next=18,NT(i,vC(s),c.targetId,!1);case 18:bS(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=sa(r),e.prev=30,h=$a().mark((function e(){var t;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ra.has(t),!e.t0){e.next=5;break}return e.next=5,IE(i.localStore,t,!1).then((function(){wS(i.remoteStore,t),$T(i,t)})).catch(BI);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),bC.apply(this,arguments)}function wC(e){var t=fk(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=MT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=iC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=UT.bind(null,t),t.sa.zo=pT.bind(null,t.eventManager),t.sa.wa=vT.bind(null,t.eventManager),t}function xC(e){var t=fk(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=zT.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=qT.bind(null,t),t}function _C(e,t,n){var r=fk(e);(function(){var e=Ha($a().mark((function e(t,n,r){var i,a,o,u,s;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=fk(e),r=Rx(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n._s.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(wT(i)),a=new bT(i,t.localStore,n.M),e.next=15,n.ma();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.ma();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,eC(t,s.Lu,void 0);case 31:return e.next=33,function(e,t){var n=fk(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n._s.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(uk("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var IC=function(){function e(){aa(this,e),this.synchronizeTabs=!1}return ua(e,[{key:"initialize",value:function(){var e=Ha($a().mark((function e(t){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=sS(t.databaseInfo.databaseId),this.sharedClientState=this.ga(t),this.persistence=this.ya(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.pa(t),this.localStore=this.Ia(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pa",value:function(e){return null}},{key:"Ia",value:function(e){return vE(this.persistence,new dE,e.initialUser,this.M)}},{key:"ya",value:function(e){return new BE(KE.Yi,this.M)}},{key:"ga",value:function(e){return new eS}},{key:"terminate",value:function(){var e=Ha($a().mark((function e(){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),EC=function(e){ca(n,e);var t=pa(n);function n(e,r,i){var a;return aa(this,n),(a=t.call(this)).Ta=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return ua(n,[{key:"initialize",value:function(){var e=Ha($a().mark((function e(t){var r=this;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Eu(la(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ta.initialize(this,t);case 4:return e.next=6,xC(this.Ta.syncEngine);case 6:return e.next=8,FS(this.Ta.remoteStore);case 8:return e.next=10,this.persistence.Ts((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ia",value:function(e){return vE(this.persistence,new dE,e.initialUser,this.M)}},{key:"pa",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new GI(t,e.asyncQueue)}},{key:"ya",value:function(e){var t=lE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?AI.withCacheSize(this.cacheSizeBytes):AI.DEFAULT;return new uE(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,oS(),uS(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"ga",value:function(e){return new eS}}]),n}(IC),SC=function(e){ca(n,e);var t=pa(n);function n(e,r){var i;return aa(this,n),(i=t.call(this,e,r,!1)).Ta=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return ua(n,[{key:"initialize",value:function(){var e=Ha($a().mark((function e(t){var r,i=this;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Eu(la(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ta.syncEngine,e.t0=this.sharedClientState instanceof ZE,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={$r:cC.bind(null,r),Br:yC.bind(null,r),Lr:kC.bind(null,r),Fs:mC.bind(null,r),Fr:uC.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Ts(function(){var e=Ha($a().mark((function e(t){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fC(i.Ta.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ga",value:function(e){var t=oS();if(!ZE.vt(t))throw new dk(hk.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=lE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ZE(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(EC),TC=function(){function e(){aa(this,e)}return ua(e,[{key:"initialize",value:function(){var e=Ha($a().mark((function e(t,n){var r=this;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return VT(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=nC.bind(null,this.syncEngine),e.next=12,ZS(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new cT}},{key:"createDatastore",value:function(e){var t,n=sS(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new aS(t));return function(e,t,n,r){return new dS(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return VT(o.syncEngine,e,0)},a=nS.vt()?new nS:new tS,new vS(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new TT(e,t,n,r,i,a);return o&&(u.da=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Ha($a().mark((function e(t){var n;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fk(t),ak("RemoteStore","RemoteStore shutting down."),n.wu.add(5),e.next=5,gS(n);case 5:n.gu.shutdown(),n.yu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function CC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Ha($a().mark((function r(){var i;return $a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Ha($a().mark((function e(){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var AC=function(){function e(t){aa(this,e),this.observer=t,this.muted=!1}return ua(e,[{key:"next",value:function(e){this.observer.next&&this.Ea(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Aa",value:function(){this.muted=!0}},{key:"Ea",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),NC=function(){function e(t,n){var r=this;aa(this,e),this.Ra=t,this.M=n,this.metadata=new pk,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then((function(e){e&&e.Mu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return ua(e,[{key:"close",value:function(){return this.Ra.cancel()}},{key:"getMetadata",value:function(){var e=Ha($a().mark((function e(){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ma",value:function(){var e=Ha($a().mark((function e(){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Pa());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Pa",value:function(){var e=Ha($a().mark((function e(){var t,n,r,i;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Va();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ba.decode(t),r=Number(n),isNaN(r)&&this.va("length string (".concat(n,") is not valid number")),e.next=9,this.Sa(r);case 9:return i=e.sent,e.abrupt("return",new gT(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Da",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Va",value:function(){var e=Ha($a().mark((function e(){var t,n;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Da()<0)){e.next=7;break}return e.next=3,this.Ca();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Da())<0&&this.va("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Sa",value:function(){var e=Ha($a().mark((function e(t){var n;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Ca();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.va("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ba.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"va",value:function(e){throw this.Ra.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Ca",value:function(){var e=Ha($a().mark((function e(){var t,n;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ra.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),RC=function(){function e(t){aa(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return ua(e,[{key:"lookup",value:function(){var e=Ha($a().mark((function e(t){var n,r=this;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new dk(hk.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Ha($a().mark((function e(t,n){var r,i,a,o,u,s;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fk(t),i=Vx(r.M)+"/documents",a={documents:n.map((function(e){return Dx(r.M,e)}))},e.next=5,r._o("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Bx(r.M,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());lk(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new ex(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Ha($a().mark((function e(){var t,n=this;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Jk.fromPath(t);n.mutations.push(new tx(r,n.precondition(r)))})),e.next=7,function(){var e=Ha($a().mark((function e(t,n){var r,i,a;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fk(t),i=Vx(r.M)+"/documents",a={writes:n.map((function(e){return qx(r.M,e)}))},e.next=3,r.co("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ck();t=Nk.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new dk(hk.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Uw.updateTime(t):Uw.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Nk.min()))throw new dk(hk.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Uw.updateTime(t)}return Uw.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),PC=function(){function e(t,n,r,i,a){aa(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.xa=r.maxAttempts,this.No=new cS(this.asyncQueue,"transaction_retry")}return ua(e,[{key:"run",value:function(){this.xa-=1,this.Na()}},{key:"Na",value:function(){var e=this;this.No.Ro(Ha($a().mark((function t(){var n,r;return $a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new RC(e.datastore),(r=e.ka(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Ma(t)}))}))})).catch((function(t){e.Ma(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"ka",value:function(e){try{var t=this.updateFunction(e);return!$k(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Ma",value:function(e){var t=this;this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget((function(){return t.Na(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Oa",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!rx(t)}return!1}}]),e}(),OC=function(){function e(t,n,r,i){var a=this;aa(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=tk.UNAUTHENTICATED,this.clientId=Ek.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Ha($a().mark((function e(t){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ak("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return ak("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return ua(e,[{key:"getConfiguration",value:function(){var e=Ha($a().mark((function e(){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new dk(hk.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new pk;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Ha($a().mark((function n(){var r;return $a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=iT(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function DC(e,t){return LC.apply(this,arguments)}function LC(){return LC=Ha($a().mark((function e(t,n){var r,i;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),ak("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Ha($a().mark((function e(t){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,mE(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),LC.apply(this,arguments)}function MC(e,t){return FC.apply(this,arguments)}function FC(){return FC=Ha($a().mark((function e(t,n){var r,i;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,VC(t);case 3:return r=e.sent,ak("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return XS(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return XS(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),FC.apply(this,arguments)}function VC(e){return UC.apply(this,arguments)}function UC(){return UC=Ha($a().mark((function e(t){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return ak("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,DC(t,new IC);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),UC.apply(this,arguments)}function jC(e){return zC.apply(this,arguments)}function zC(){return zC=Ha($a().mark((function e(t){return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return ak("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,MC(t,new TC);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),zC.apply(this,arguments)}function BC(e){return VC(e).then((function(e){return e.persistence}))}function qC(e){return VC(e).then((function(e){return e.localStore}))}function KC(e){return jC(e).then((function(e){return e.remoteStore}))}function WC(e){return jC(e).then((function(e){return e.syncEngine}))}function GC(e){return HC.apply(this,arguments)}function HC(){return HC=Ha($a().mark((function e(t){var n,r;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jC(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=CT.bind(null,n.syncEngine),r.onUnlisten=PT.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),HC.apply(this,arguments)}function QC(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new pk;return e.asyncQueue.enqueueAndForget(Ha($a().mark((function i(){return $a().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new AC({next:function(a){t.enqueueAndForget((function(){return hT(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new dk(hk.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new dk(hk.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new yT(sw(n.path),a,{includeMetadataChanges:!0,ku:!0});return lT(e,o)},i.next=3,GC(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function $C(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new pk;return e.asyncQueue.enqueueAndForget(Ha($a().mark((function i(){return $a().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new AC({next:function(n){t.enqueueAndForget((function(){return hT(e,o)})),n.fromCache&&"server"===r.source?i.reject(new dk(hk.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new yT(n,a,{includeMetadataChanges:!0,ku:!0});return lT(e,o)},i.next=3,GC(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var YC=new Map;function XC(e,t,n){if(!n)throw new dk(hk.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function JC(e,t,n,r){if(!0===t&&!0===r)throw new dk(hk.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function ZC(e){if(!Jk.isDocumentKey(e))throw new dk(hk.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function eA(e){if(Jk.isDocumentKey(e))throw new dk(hk.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function tA(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":ck()}function nA(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new dk(hk.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=tA(e);throw new dk(hk.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function rA(e,t){if(t<=0)throw new dk(hk.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var iA=function(){function e(t){var n;if(aa(this,e),void 0===t.host){if(void 0!==t.ssl)throw new dk(hk.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new dk(hk.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,JC("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return ua(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),aA=function(){function e(t,n,r){aa(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iA({}),this._settingsFrozen=!1,t instanceof Qk?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new dk(hk.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qk(e.options.projectId)}(t))}return ua(e,[{key:"app",get:function(){if(!this._app)throw new dk(hk.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new dk(hk.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iA(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new mk;switch(e.type){case"gapi":var t=e.client;return lk(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new bk(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new dk(hk.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=YC.get(e);t&&(ak("ComponentProvider","Removing Datastore"),YC.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function oA(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=nA(e,aA))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&uk("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=tk.MOCK_USER;else{o=Ia(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new dk(hk.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new tk(s)}e._authCredentials=new yk(new vk(o,u))}}var uA=function(){function e(t,n,r){aa(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return ua(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new cA(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),sA=function(){function e(t,n,r){aa(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return ua(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),cA=function(e){ca(n,e);var t=pa(n);function n(e,r,i){var a;return aa(this,n),(a=t.call(this,e,r,sw(i)))._path=i,a.type="collection",a}return ua(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new uA(this.firestore,null,new Jk(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(sA);function lA(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Wa(e),XC("collection","path",t),e instanceof aA){var a=Lk.fromString.apply(Lk,[t].concat(r));return eA(a),new cA(e,null,a)}if(!(e instanceof uA||e instanceof cA))throw new dk(hk.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Lk.fromString.apply(Lk,[t].concat(r)));return eA(o),new cA(e.firestore,null,o)}function fA(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Wa(e),1===arguments.length&&(t=Ek.R()),XC("doc","path",t),e instanceof aA){var a=Lk.fromString.apply(Lk,[t].concat(r));return ZC(a),new uA(e,null,new Jk(a))}if(!(e instanceof uA||e instanceof cA))throw new dk(hk.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Lk.fromString.apply(Lk,[t].concat(r)));return ZC(o),new uA(e.firestore,e instanceof cA?e.converter:null,new Jk(o))}function hA(e,t){return e=Wa(e),t=Wa(t),(e instanceof uA||e instanceof cA)&&(t instanceof uA||t instanceof cA)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function dA(e,t){return e=Wa(e),t=Wa(t),e instanceof sA&&t instanceof sA&&e.firestore===t.firestore&&vw(e._query,t._query)&&e.converter===t.converter}var pA=function(){function e(){var t=this;aa(this,e),this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new cS(this,"async_queue_retry"),this.Qa=function(){var e=uS();e&&ak("AsyncQueue","Visibility state changed to "+e.visibilityState),t.No.Po()};var n=uS();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Qa)}return ua(e,[{key:"isShuttingDown",get:function(){return this.Ba}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.ja(),this.Wa(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;var t=uS();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}},{key:"enqueue",value:function(e){var t=this;if(this.ja(),this.Ba)return new Promise((function(){}));var n=new pk;return this.Wa((function(){return t.Ba&&t.Ka?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.$a.push(e),t.za()}))}},{key:"za",value:function(){var e=Ha($a().mark((function e(){var t=this;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.$a.length){e.next=14;break}return e.prev=1,e.next=4,this.$a[0]();case 4:this.$a.shift(),this.No.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),M_(e.t0)){e.next=12;break}throw e.t0;case 12:ak("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.$a.length>0&&this.No.Ro((function(){return t.za()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Wa",value:function(e){var t=this,n=this.Fa.then((function(){return t.qa=!0,e().catch((function(e){t.Ua=e,t.qa=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw ok("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.qa=!1,e}))}));return this.Fa=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.ja(),this.Ga.indexOf(e)>-1&&(t=0);var i=rT.createAndSchedule(this,e,t,n,(function(e){return r.Ha(e)}));return this.La.push(i),i}},{key:"ja",value:function(){this.Ua&&ck()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Ja",value:function(){var e=Ha($a().mark((function e(){var t;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Fa,e.next=3,t;case 3:if(t!==this.Fa){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ya",value:function(e){var t,n=sa(this.La);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Xa",value:function(e){var t=this;return this.Ja().then((function(){t.La.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=sa(t.La);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Ja()}))}},{key:"Za",value:function(e){this.Ga.push(e)}},{key:"Ha",value:function(e){var t=this.La.indexOf(e);this.La.splice(t,1)}}]),e}();function vA(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=sa(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var mA=function(){function e(){aa(this,e),this._progressObserver={},this._taskCompletionResolver=new pk,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return ua(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),yA=function(e){ca(n,e);var t=pa(n);function n(e,r,i){var a;return aa(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new pA,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return ua(n,[{key:"_terminate",value:function(){return this._firestoreClient||kA(this),this._firestoreClient.terminate()}}]),n}(aA);function gA(e){return e._firestoreClient||kA(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function kA(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Hk(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new OC(e._authCredentials,e._appCheckCredentials,e._queue,r)}function bA(e,t,n){var r=new pk;return e.asyncQueue.enqueue(Ha($a().mark((function i(){return $a().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,DC(e,n);case 3:return i.next=5,MC(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===hk.FAILED_PRECONDITION||e.code===hk.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function wA(e){return function(e){return e.asyncQueue.enqueue(Ha($a().mark((function t(){var n,r;return $a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,BC(e);case 2:return n=t.sent,t.next=5,KC(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=fk(e);return t.wu.delete(0),mS(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(gA(e=nA(e,yA)))}function xA(e){return function(e){return e.asyncQueue.enqueue(Ha($a().mark((function t(){var n,r;return $a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,BC(e);case 2:return n=t.sent,t.next=5,KC(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Ha($a().mark((function e(t){var n;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=fk(t)).wu.add(0),e.next=4,gS(n);case 4:n.yu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(gA(e=nA(e,yA)))}function _A(e,t){var n=gA(e=nA(e,yA)),r=new mA;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new NC(e,t)}(function(e,t){if(e instanceof Uint8Array)return CC(e,t);if(e instanceof ArrayBuffer)return CC(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,sS(t));e.asyncQueue.enqueueAndForget(Ha($a().mark((function t(){return $a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=_C,t.next=3,WC(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function IA(e,t){return function(e,t){return e.asyncQueue.enqueue(Ha($a().mark((function n(){return $a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=fk(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n._s.getNamedQuery(e,t)}))},n.next=3,qC(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(gA(e=nA(e,yA)),t).then((function(t){return t?new sA(e,null,t.query):null}))}function EA(e){if(e._initialized||e._terminated)throw new dk(hk.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var SA=function(){function e(){aa(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new dk(hk.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fk(n)}return ua(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var TA=function(){function e(t){aa(this,e),this._byteString=t}return ua(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Uk.fromBase64String(t))}catch(t){throw new dk(hk.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Uk.fromUint8Array(t))}}]),e}(),CA=ua((function e(t){aa(this,e),this._methodName=t})),AA=function(){function e(t,n){if(aa(this,e),!isFinite(t)||t<-90||t>90)throw new dk(hk.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new dk(hk.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return ua(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Sk(this._lat,e._lat)||Sk(this._long,e._long)}}]),e}(),NA=/^__.*__$/,RA=function(){function e(t,n,r){aa(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return ua(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Qw(e,this.data,this.fieldMask,t,this.fieldTransforms):new Hw(e,this.data,t,this.fieldTransforms)}}]),e}(),PA=function(){function e(t,n,r){aa(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return ua(e,[{key:"toMutation",value:function(e,t){return new Qw(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function OA(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ck()}}var DA=function(){function e(t,n,r,i,a,o){aa(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.tc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return ua(e,[{key:"path",get:function(){return this.settings.path}},{key:"ec",get:function(){return this.settings.ec}},{key:"nc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"sc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:n,ic:!1});return r.rc(e),r}},{key:"oc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:n,ic:!1});return r.tc(),r}},{key:"uc",value:function(e){return this.nc({path:void 0,ic:!0})}},{key:"ac",value:function(e){return eN(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"tc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.rc(this.path.get(e))}},{key:"rc",value:function(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(OA(this.ec)&&NA.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}]),e}(),LA=function(){function e(t,n,r){aa(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||sS(t)}return ua(e,[{key:"lc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new DA({ec:e,methodName:t,hc:n,path:Fk.emptyPath(),ic:!1,cc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function MA(e){var t=e._freezeSettings(),n=sS(e._databaseId);return new LA(e._databaseId,!!t.ignoreUndefinedProperties,n)}function FA(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.lc(a.merge||a.mergeFields?2:0,t,n,i);YA("Data must be an object, but it was:",o,r);var u,s,c=QA(r,o);if(a.merge)u=new Vk(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=sa(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=XA(t,d,n);if(!o.contains(p))throw new dk(hk.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));tN(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new Vk(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new RA(new bb(c),u,s)}var VA=function(e){ca(n,e);var t=pa(n);function n(){return aa(this,n),t.apply(this,arguments)}return ua(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ec)throw 1===e.ec?e.ac("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ac("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(CA);function UA(e,t,n){return new DA({ec:3,hc:t.settings.hc,methodName:e._methodName,ic:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var jA=function(e){ca(n,e);var t=pa(n);function n(){return aa(this,n),t.apply(this,arguments)}return ua(n,[{key:"_toFieldTransform",value:function(e){return new Fw(e.path,new Aw)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(CA),zA=function(e){ca(n,e);var t=pa(n);function n(e,r){var i;return aa(this,n),(i=t.call(this,e)).fc=r,i}return ua(n,[{key:"_toFieldTransform",value:function(e){var t=UA(this,e,!0),n=this.fc.map((function(e){return HA(e,t)})),r=new Nw(n);return new Fw(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(CA),BA=function(e){ca(n,e);var t=pa(n);function n(e,r){var i;return aa(this,n),(i=t.call(this,e)).fc=r,i}return ua(n,[{key:"_toFieldTransform",value:function(e){var t=UA(this,e,!0),n=this.fc.map((function(e){return HA(e,t)})),r=new Pw(n);return new Fw(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(CA),qA=function(e){ca(n,e);var t=pa(n);function n(e,r){var i;return aa(this,n),(i=t.call(this,e)).dc=r,i}return ua(n,[{key:"_toFieldTransform",value:function(e){var t=new Dw(e.M,Iw(e.M,this.dc));return new Fw(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(CA);function KA(e,t,n,r){var i=e.lc(1,t,n);YA("Data must be an object, but it was:",i,r);var a=[],o=bb.empty();Pk(r,(function(e,r){var u=ZA(t,e,n);r=Wa(r);var s=i.oc(u);if(r instanceof VA)a.push(u);else{var c=HA(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Vk(a);return new PA(o,u,i.fieldTransforms)}function WA(e,t,n,r,i,a){var o=e.lc(1,t,n),u=[XA(t,r,n)],s=[i];if(a.length%2!=0)throw new dk(hk.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(XA(t,a[c])),s.push(a[c+1]);for(var l=[],f=bb.empty(),h=u.length-1;h>=0;--h)if(!tN(l,u[h])){var d=u[h],p=s[h];p=Wa(p);var v=o.oc(d);if(p instanceof VA)l.push(d);else{var m=HA(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Vk(l);return new PA(f,y,o.fieldTransforms)}function GA(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return HA(n,e.lc(r?4:3,t))}function HA(e,t){if($A(e=Wa(e)))return YA("Unsupported field value:",t,e),QA(e,t);if(e instanceof CA)return function(e,t){if(!OA(t.ec))throw t.ac("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ac("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ic&&4!==t.ec)throw t.ac("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=sa(e);try{for(a.s();!(n=a.n()).done;){var o=HA(n.value,t.uc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Wa(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Iw(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Ak.fromDate(e);return{timestampValue:Cx(t.M,n)}}if(e instanceof Ak){var r=new Ak(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Cx(t.M,r)}}if(e instanceof AA)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof TA)return{bytesValue:Ax(t.M,e._byteString)};if(e instanceof uA){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ac("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Px(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ac("Unsupported field value: ".concat(tA(e)))}(e,t)}function QA(e,t){var n={};return Ok(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Pk(e,(function(e,r){var i=HA(r,t.sc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function $A(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ak||e instanceof AA||e instanceof TA||e instanceof uA||e instanceof CA)}function YA(e,t,n){if(!$A(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=tA(n);throw"an object"===r?t.ac(e+" a custom object"):t.ac(e+" "+r)}}function XA(e,t,n){if((t=Wa(t))instanceof SA)return t._internalPath;if("string"==typeof t)return ZA(e,t);throw eN("Field path arguments must be of type string or ",e,!1,void 0,n)}var JA=new RegExp("[~\\*/\\[\\]]");function ZA(e,t,n){if(t.search(JA)>=0)throw eN("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return va(SA,m(t.split(".")))._internalPath}catch(r){throw eN("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function eN(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new dk(hk.INVALID_ARGUMENT,u+e+s)}function tN(e,t){return e.some((function(e){return e.isEqual(t)}))}var nN=function(){function e(t,n,r,i,a){aa(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return ua(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new uA(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new rN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(iN("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),rN=function(e){ca(n,e);var t=pa(n);function n(){return aa(this,n),t.apply(this,arguments)}return ua(n,[{key:"data",value:function(){return Eu(la(n.prototype),"data",this).call(this)}}]),n}(nN);function iN(e,t){return"string"==typeof t?ZA(e,t):t instanceof SA?t._internalPath:t._delegate._internalPath}var aN=function(){function e(t,n){aa(this,e),this.hasPendingWrites=t,this.fromCache=n}return ua(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),oN=function(e){ca(n,e);var t=pa(n);function n(e,r,i,a,o,u){var s;return aa(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return ua(n,[{key:"exists",value:function(){return Eu(la(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new uN(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(iN("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(nN),uN=function(e){ca(n,e);var t=pa(n);function n(){return aa(this,n),t.apply(this,arguments)}return ua(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Eu(la(n.prototype),"data",this).call(this,e)}}]),n}(oN),sN=function(){function e(t,n,r,i){aa(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new aN(i.hasPendingWrites,i.fromCache),this.query=r}return ua(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new uN(n._firestore,n._userDataWriter,r.key,r,new aN(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new dk(hk.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new uN(e._firestore,e._userDataWriter,t.doc.key,t.doc,new aN(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new uN(e._firestore,e._userDataWriter,t.doc.key,t.doc,new aN(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:cN(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function cN(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ck()}}function lN(e,t){return e instanceof oN&&t instanceof oN?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof sN&&t instanceof sN&&e._firestore===t._firestore&&dA(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function fN(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new dk(hk.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var hN=ua((function e(){aa(this,e)}));function dN(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var pN=function(e){ca(n,e);var t=pa(n);function n(e,r,i){var a;return aa(this,n),(a=t.call(this))._c=e,a.wc=r,a.mc=i,a.type="where",a}return ua(n,[{key:"_apply",value:function(e){var t=MA(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new dk(hk.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){EN(o,a);var s,c=[],l=sa(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(IN(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=IN(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||EN(o,a),u=GA(n,"where",o,"in"===a||"not-in"===a);var h=Gb.create(i,a,u);return function(e,t){if(t.S()){var n=lw(e);if(null!==n&&!n.isEqual(t.field))throw new dk(hk.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=cw(e);null!==r&&SN(e,t.field,r)}var i=function(e,t){var n,r=sa(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new dk(hk.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new dk(hk.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new sA(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new ow(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(hN);var vN=function(e){ca(n,e);var t=pa(n);function n(e,r){var i;return aa(this,n),(i=t.call(this))._c=e,i.gc=r,i.type="orderBy",i}return ua(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new dk(hk.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new dk(hk.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new nw(t,n);return function(e,t){if(null===cw(e)){var n=lw(e);null!==n&&SN(e,n,t.field)}}(e,r),r}(e._query,this._c,this.gc);return new sA(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new ow(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(hN);var mN=function(e){ca(n,e);var t=pa(n);function n(e,r,i){var a;return aa(this,n),(a=t.call(this)).type=e,a.yc=r,a.Ic=i,a}return ua(n,[{key:"_apply",value:function(e){return new sA(e.firestore,e.converter,pw(e._query,this.yc,this.Ic))}}]),n}(hN);var yN=function(e){ca(n,e);var t=pa(n);function n(e,r,i){var a;return aa(this,n),(a=t.call(this)).type=e,a.Tc=r,a.Ec=i,a}return ua(n,[{key:"_apply",value:function(e){var t=_N(e,this.type,this.Tc,this.Ec);return new sA(e.firestore,e.converter,function(e,t){return new ow(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(hN);function gN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new yN("startAt",t,!0)}function kN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new yN("startAfter",t,!1)}var bN=function(e){ca(n,e);var t=pa(n);function n(e,r,i){var a;return aa(this,n),(a=t.call(this)).type=e,a.Tc=r,a.Ec=i,a}return ua(n,[{key:"_apply",value:function(e){var t=_N(e,this.type,this.Tc,this.Ec);return new sA(e.firestore,e.converter,function(e,t){return new ow(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(hN);function wN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new bN("endBefore",t,!1)}function xN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new bN("endAt",t,!0)}function _N(e,t,n,r){if(n[0]=Wa(n[0]),n[0]instanceof nN)return function(e,t,n,r,i){if(!r)throw new dk(hk.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=sa(hw(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(sb(t,r.key));else{var c=r.data.field(s.field);if(Kk(c))throw new dk(hk.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new dk(hk.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new tw(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=MA(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new dk(hk.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new dk(hk.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!fw(e)&&-1!==c.indexOf("/"))throw new dk(hk.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Lk.fromString(c));if(!Jk.isDocumentKey(l))throw new dk(hk.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Jk(l);u.push(sb(t,f))}else{var h=GA(n,r,c);u.push(h)}}return new tw(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function IN(e,t,n){if("string"==typeof(n=Wa(n))){if(""===n)throw new dk(hk.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!fw(t)&&-1!==n.indexOf("/"))throw new dk(hk.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Lk.fromString(n));if(!Jk.isDocumentKey(r))throw new dk(hk.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return sb(e,new Jk(r))}if(n instanceof uA)return sb(e,n._key);throw new dk(hk.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(tA(n),"."))}function EN(e,t){if(!Array.isArray(e)||0===e.length)throw new dk(hk.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new dk(hk.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function SN(e,t,n){if(!n.isEqual(t))throw new dk(hk.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var TN={maxAttempts:5},CN=function(){function e(){aa(this,e)}return ua(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(tb(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bk(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(qk(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ck()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Pk(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new AA(Bk(e.latitude),Bk(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Wk(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Gk(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=zk(e);return new Ak(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Lk.fromString(e);lk(n_(n));var r=new Qk(n.get(1),n.get(3)),i=new Jk(n.popFirst(5));return r.isEqual(t)||ok("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function AN(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var NN=function(e){ca(n,e);var t=pa(n);function n(e){var r;return aa(this,n),(r=t.call(this)).firestore=e,r}return ua(n,[{key:"convertBytes",value:function(e){return new TA(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new uA(this.firestore,null,t)}}]),n}(CN),RN=function(){function e(t,n){aa(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=MA(t)}return ua(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=PN(e,this._firestore),i=AN(r.converter,t,n),a=FA(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Uw.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=PN(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Wa(t))||t instanceof SA?WA(this._dataReader,"WriteBatch.update",i._key,t,n,o):KA(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Uw.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=PN(e,this._firestore);return this._mutations=this._mutations.concat(new ex(t._key,Uw.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new dk(hk.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function PN(e,t){if((e=Wa(e)).firestore!==t)throw new dk(hk.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var ON=function(e){ca(n,e);var t=pa(n);function n(e){var r;return aa(this,n),(r=t.call(this)).firestore=e,r}return ua(n,[{key:"convertBytes",value:function(e){return new TA(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new uA(this.firestore,null,t)}}]),n}(CN);function DN(e){e=nA(e,uA);var t=nA(e.firestore,yA),n=gA(t),r=new ON(t);return function(e,t){var n=new pk;return e.asyncQueue.enqueueAndForget(Ha($a().mark((function r(){return $a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ha($a().mark((function e(t,n,r){var i,a;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=fk(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.fi.Ls(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new dk(hk.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=iT(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,qC(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new oN(t,r,e._key,n,new aN(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function LN(e){e=nA(e,sA);var t=nA(e.firestore,yA),n=gA(t),r=new ON(t);return function(e,t){var n=new pk;return e.asyncQueue.enqueueAndForget(Ha($a().mark((function r(){return $a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Ha($a().mark((function e(t,n,r){var i,a,o,u,s;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,SE(t,n,!0);case 3:i=e.sent,a=new IT(n,i._i),o=a.Wu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=iT(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,qC(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new sN(t,r,e,n)}))}function MN(e,t,n){e=nA(e,uA);var r=nA(e.firestore,yA),i=AN(e.converter,t,n);return jN(r,[FA(MA(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Uw.none())])}function FN(e,t,n){e=nA(e,uA);for(var r=nA(e.firestore,yA),i=MA(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return jN(r,[("string"==typeof(t=Wa(t))||t instanceof SA?WA(i,"updateDoc",e._key,t,n,o):KA(i,"updateDoc",e._key,t)).toMutation(e._key,Uw.exists(!0))])}function VN(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Wa(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||vA(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(vA(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof uA)l=nA(e.firestore,yA),f=sw(e._key.path),c={next:function(t){n[s]&&n[s](zN(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=nA(e,sA);l=nA(p.firestore,yA),f=p._query;var v=new ON(l);c={next:function(e){n[s]&&n[s](new sN(l,v,p,e))},error:n[s+1],complete:n[s+2]},fN(e._query)}return function(e,t,n,r){var i=new AC(r),a=new yT(t,i,n);return e.asyncQueue.enqueueAndForget(Ha($a().mark((function t(){return $a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=lT,t.next=3,GC(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Aa(),e.asyncQueue.enqueueAndForget(Ha($a().mark((function t(){return $a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=hT,t.next=3,GC(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(gA(l),f,h,c)}function UN(e,t){return function(e,t){var n=new AC(t);return e.asyncQueue.enqueueAndForget(Ha($a().mark((function t(){return $a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){fk(e).bu.add(t),t.next()},t.next=3,GC(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Aa(),e.asyncQueue.enqueueAndForget(Ha($a().mark((function t(){return $a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){fk(e).bu.delete(t)},t.next=3,GC(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(gA(e=nA(e,yA)),vA(t)?t:{next:t})}function jN(e,t){return function(e,t){var n=new pk;return e.asyncQueue.enqueueAndForget(Ha($a().mark((function r(){return $a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=DT,r.next=3,WC(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(gA(e),t)}function zN(e,t,n){var r=n.docs.get(t._key),i=new ON(e);return new oN(e,i,t._key,r,new aN(n.hasPendingWrites,n.fromCache),t.converter)}var BN=function(e){ca(n,e);var t=pa(n);function n(e,r){var i;return aa(this,n),(i=t.call(this,e,r))._firestore=e,i}return ua(n,[{key:"get",value:function(e){var t=this,r=PN(e,this._firestore),i=new ON(this._firestore);return Eu(la(n.prototype),"get",this).call(this,e).then((function(e){return new oN(t._firestore,i,r._key,e._document,new aN(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){aa(this,e),this._firestore=t,this._transaction=n,this._dataReader=MA(t)}return ua(e,[{key:"get",value:function(e){var t=this,n=PN(e,this._firestore),r=new NN(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return ck();var i=e[0];if(i.isFoundDocument())return new nN(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new nN(t._firestore,r,n._key,null,n.converter);throw ck()}))}},{key:"set",value:function(e,t,n){var r=PN(e,this._firestore),i=AN(r.converter,t,n),a=FA(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=PN(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Wa(t))||t instanceof SA?WA(this._dataReader,"Transaction.update",i._key,t,n,o):KA(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=PN(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function qN(e,t,n){e=nA(e,yA);var r=Object.assign(Object.assign({},TN),n);return function(e){if(e.maxAttempts<1)throw new dk(hk.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new pk;return e.asyncQueue.enqueueAndForget(Ha($a().mark((function i(){var a;return $a().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return jC(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new PC(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(gA(e),(function(n){return t(new BN(e,n))}),r)}function KN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new zA("arrayUnion",t)}function WN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new BA("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){nk=e}(Ho),jo(new Ya("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new yA(i,new gk(e.getProvider("auth-internal")),new xk(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Zo(ek,"3.4.9",e),Zo(ek,"3.4.9","esm2017")}();function GN(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new dk("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function HN(){if("undefined"===typeof Uint8Array)throw new dk("unimplemented","Uint8Arrays are not available in this environment.")}function QN(){if("undefined"==typeof atob)throw new dk("unimplemented","Blobs are unavailable in Firestore in this environment.")}var $N=function(){function e(t){aa(this,e),this._delegate=t}return ua(e,[{key:"toBase64",value:function(){return QN(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return HN(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return QN(),new e(TA.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return HN(),new e(TA.fromUint8Array(t))}}]),e}();function YN(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=sa(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var XN=function(){function e(){aa(this,e)}return ua(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){EA(e=nA(e,yA));var n=gA(e),r=e._freezeSettings(),i=new TC;return bA(n,i,new EC(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){EA(e=nA(e,yA));var t=gA(e),n=e._freezeSettings(),r=new TC;return bA(t,r,new SC(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new dk(hk.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new pk;return e._queue.enqueueAndForgetEvenWhileRestricted(Ha($a().mark((function n(){return $a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Ha($a().mark((function e(t){var n;return $a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O_.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,O_.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(lE(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),JN=function(){function e(t,n,r){var i=this;aa(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof Qk||(this._appCompat=t)}return ua(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||uk("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};oA(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return wA(this._delegate)}},{key:"disableNetwork",value:function(){return xA(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&JC("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new pk;return e.asyncQueue.enqueueAndForget(Ha($a().mark((function n(){return $a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=WT,n.next=3,WC(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(gA(e=nA(e,yA)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return UN(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new dk("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new hR(this,lA(this._delegate,e))}catch(t){throw iR(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new rR(this,fA(this._delegate,e))}catch(t){throw iR(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new cR(this,function(e,t){if(e=nA(e,aA),XC("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new dk(hk.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new sA(e,null,function(e){return new ow(Lk.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw iR(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return qN(this._delegate,(function(n){return e(new eR(t,n))}))}},{key:"batch",value:function(){var e=this;return gA(this._delegate),new tR(new RN(this._delegate,(function(t){return jN(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return _A(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return IA(this._delegate,e).then((function(e){return e?new cR(t,e):null}))}}]),e}(),ZN=function(e){ca(n,e);var t=pa(n);function n(e){var r;return aa(this,n),(r=t.call(this)).firestore=e,r}return ua(n,[{key:"convertBytes",value:function(e){return new $N(new TA(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return rR.forKey(t,this.firestore,null)}}]),n}(CN);var eR=function(){function e(t,n){aa(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new ZN(t)}return ua(e,[{key:"get",value:function(e){var t=this,n=dR(e);return this._delegate.get(n).then((function(e){return new uR(t._firestore,new oN(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=dR(e);return n?(GN("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=dR(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=dR(e);return this._delegate.delete(t),this}}]),e}(),tR=function(){function e(t){aa(this,e),this._delegate=t}return ua(e,[{key:"set",value:function(e,t,n){var r=dR(e);return n?(GN("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=dR(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=dR(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),nR=function(){function e(t,n,r){aa(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return ua(e,[{key:"fromFirestore",value:function(e,t){var n=new uN(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new sR(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new ZN(t),n),i.set(n,a)),a}}]),e}();nR.INSTANCES=new WeakMap;var rR=function(){function e(t,n){aa(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new ZN(t)}return ua(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new hR(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new hR(this.firestore,lA(this._delegate,e))}catch(t){throw iR(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Wa(e))instanceof uA&&hA(this._delegate,e)}},{key:"set",value:function(e,t){t=GN("DocumentReference.set",t);try{return t?MN(this._delegate,e,t):MN(this._delegate,e)}catch(n){throw iR(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?FN(this._delegate,e):FN.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw iR(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return jN(nA(e.firestore,yA),[new ex(e._key,Uw.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=aR(n),a=oR(n,(function(t){return new uR(e.firestore,new oN(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return VN(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?DN(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=nA(e,uA);var t=nA(e.firestore,yA);return QC(gA(t),e._key,{source:"server"}).then((function(n){return zN(t,e,n)}))}(this._delegate):function(e){e=nA(e,uA);var t=nA(e.firestore,yA);return QC(gA(t),e._key).then((function(n){return zN(t,e,n)}))}(this._delegate),t.then((function(e){return new uR(n.firestore,new oN(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(nR.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new dk("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new uA(n._delegate,r,new Jk(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new uA(n._delegate,r,t))}}]),e}();function iR(e,t,n){return e.message=e.message.replace(t,n),e}function aR(e){var t,n=sa(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!YN(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function oR(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=YN(e[0])?e[0]:YN(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var uR=function(){function e(t,n){aa(this,e),this._firestore=t,this._delegate=n}return ua(e,[{key:"ref",get:function(){return new rR(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return lN(this._delegate,e._delegate)}}]),e}(),sR=function(e){ca(n,e);var t=pa(n);function n(){return aa(this,n),t.apply(this,arguments)}return ua(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||ck()}(void 0!==t),t}}]),n}(uR),cR=function(){function e(t,n){aa(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new ZN(t)}return ua(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,dN(this._delegate,function(e,t,n){var r=t,i=iN("where",e);return new pN(i,r,n)}(t,n,r)))}catch(i){throw iR(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,dN(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=iN("orderBy",e);return new vN(n,t)}(t,n)))}catch(r){throw iR(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,dN(this._delegate,function(e){return rA("limit",e),new mN("limit",e,"F")}(t)))}catch(n){throw iR(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,dN(this._delegate,function(e){return rA("limitToLast",e),new mN("limitToLast",e,"L")}(t)))}catch(n){throw iR(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,dN(this._delegate,gN.apply(void 0,arguments)))}catch(t){throw iR(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,dN(this._delegate,kN.apply(void 0,arguments)))}catch(t){throw iR(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,dN(this._delegate,wN.apply(void 0,arguments)))}catch(t){throw iR(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,dN(this._delegate,xN.apply(void 0,arguments)))}catch(t){throw iR(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return dA(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?LN(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=nA(e,sA);var t=nA(e.firestore,yA),n=gA(t),r=new ON(t);return $C(n,e._query,{source:"server"}).then((function(n){return new sN(t,r,e,n)}))}(this._delegate):function(e){e=nA(e,sA);var t=nA(e.firestore,yA),n=gA(t),r=new ON(t);return fN(e._query),$C(n,e._query).then((function(n){return new sN(t,r,e,n)}))}(this._delegate),t.then((function(e){return new fR(n.firestore,new sN(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=aR(n),a=oR(n,(function(t){return new fR(e.firestore,new sN(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return VN(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(nR.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),lR=function(){function e(t,n){aa(this,e),this._firestore=t,this._delegate=n}return ua(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new sR(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),fR=function(){function e(t,n){aa(this,e),this._firestore=t,this._delegate=n}return ua(e,[{key:"query",get:function(){return new cR(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new sR(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new lR(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new sR(n._firestore,r))}))}},{key:"isEqual",value:function(e){return lN(this._delegate,e._delegate)}}]),e}(),hR=function(e){ca(n,e);var t=pa(n);function n(e,r){var i;return aa(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return ua(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new rR(this.firestore,e):null}},{key:"doc",value:function(e){try{return new rR(this.firestore,void 0===e?fA(this._delegate):fA(this._delegate,e))}catch(t){throw iR(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=nA(e.firestore,yA),r=fA(e),i=AN(e.converter,t);return jN(n,[FA(MA(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Uw.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new rR(t.firestore,e)}))}},{key:"isEqual",value:function(e){return hA(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(nR.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(cR);function dR(e){return nA(e,uA)}var pR=function(){function e(){aa(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=va(SA,n)}return ua(e,[{key:"isEqual",value:function(e){return(e=Wa(e))instanceof SA&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Fk.keyField().canonicalString())}}]),e}(),vR=function(){function e(t){aa(this,e),this._delegate=t}return ua(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new jA("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new VA("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=KN.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=WN.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new qA("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),mR={Firestore:JN,GeoPoint:AA,Timestamp:Ak,Blob:$N,Transaction:eR,WriteBatch:tR,DocumentReference:rR,DocumentSnapshot:uR,Query:cR,QueryDocumentSnapshot:sR,QuerySnapshot:fR,CollectionReference:hR,FieldPath:pR,FieldValue:vR,setLogLevel:function(e){!function(e){rk.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Ya("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},mR)))}(e,(function(e,t){return new JN(e,t,new XN)})),e.registerVersion("@firebase/firestore-compat","0.1.18")}(_u);var yR=_u.initializeApp({apiKey:"AIzaSyBYT5wtx4rqOnOl9LI4sa92jqFhI6bopX0",authDomain:"whatsapp-clone-a5d2c.firebaseapp.com",projectId:"whatsapp-clone-a5d2c",storageBucket:"whatsapp-clone-a5d2c.appspot.com",messagingSenderId:"756756901029",appId:"1:756756901029:web:49160cbb4e7ce1a96af14c",measurementId:"G-V6PRFLDGLX"}).firestore(),gR=_u.auth(),kR=new _u.auth.GoogleAuthProvider,bR=yR;function wR(e){return"/"===e.charAt(0)}function xR(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var _R=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],a=e&&wR(e),o=t&&wR(t),u=a||o;if(e&&wR(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var s=i[i.length-1];n="."===s||".."===s||""===s}else n=!1;for(var c=0,l=i.length;l>=0;l--){var f=i[l];"."===f?xR(i,l):".."===f?(xR(i,l),c++):c&&(xR(i,l),c--)}if(!u)for(;c--;c)i.unshift("..");!u||""===i[0]||i[0]&&wR(i[0])||i.unshift("");var h=i.join("/");return n&&"/"!==h.substr(-1)&&(h+="/"),h},IR="Invariant failed";function ER(e,t){if(!e)throw new Error(IR)}function SR(e){return"/"===e.charAt(0)?e:"/"+e}function TR(e){return"/"===e.charAt(0)?e.substr(1):e}function CR(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function AR(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function NR(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function RR(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=f({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=_R(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function PR(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var OR=!("undefined"===typeof window||!window.document||!window.document.createElement);function DR(e,t){t(window.confirm(e))}var LR="popstate",MR="hashchange";function FR(){try{return window.history.state||{}}catch(e){return{}}}function VR(e){void 0===e&&(e={}),OR||ER(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,a=i.forceRefresh,o=void 0!==a&&a,u=i.getUserConfirmation,s=void 0===u?DR:u,c=i.keyLength,l=void 0===c?6:c,h=e.basename?AR(SR(e.basename)):"";function d(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return h&&(a=CR(a,h)),RR(a,r,n)}function p(){return Math.random().toString(36).substr(2,l)}var v=PR();function m(e){f(C,e),C.length=t.length,v.notifyListeners(C.location,C.action)}function y(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||b(d(e.state))}function g(){b(d(FR()))}var k=!1;function b(e){if(k)k=!1,m();else{v.confirmTransitionTo(e,"POP",s,(function(t){t?m({action:"POP",location:e}):function(e){var t=C.location,n=x.indexOf(t.key);-1===n&&(n=0);var r=x.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(k=!0,I(i))}(e)}))}}var w=d(FR()),x=[w.key];function _(e){return h+NR(e)}function I(e){t.go(e)}var E=0;function S(e){1===(E+=e)&&1===e?(window.addEventListener(LR,y),r&&window.addEventListener(MR,g)):0===E&&(window.removeEventListener(LR,y),r&&window.removeEventListener(MR,g))}var T=!1;var C={length:t.length,action:"POP",location:w,createHref:_,push:function(e,r){var i="PUSH",a=RR(e,r,p(),C.location);v.confirmTransitionTo(a,i,s,(function(e){if(e){var r=_(a),u=a.key,s=a.state;if(n)if(t.pushState({key:u,state:s},null,r),o)window.location.href=r;else{var c=x.indexOf(C.location.key),l=x.slice(0,c+1);l.push(a.key),x=l,m({action:i,location:a})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",a=RR(e,r,p(),C.location);v.confirmTransitionTo(a,i,s,(function(e){if(e){var r=_(a),u=a.key,s=a.state;if(n)if(t.replaceState({key:u,state:s},null,r),o)window.location.replace(r);else{var c=x.indexOf(C.location.key);-1!==c&&(x[c]=a.key),m({action:i,location:a})}else window.location.replace(r)}}))},go:I,goBack:function(){I(-1)},goForward:function(){I(1)},block:function(e){void 0===e&&(e=!1);var t=v.setPrompt(e);return T||(S(1),T=!0),function(){return T&&(T=!1,S(-1)),t()}},listen:function(e){var t=v.appendListener(e);return S(1),function(){S(-1),t()}}};return C}var UR="hashchange",jR={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+TR(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:TR,decodePath:SR},slash:{encodePath:SR,decodePath:SR}};function zR(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function BR(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function qR(e){window.location.replace(zR(window.location.href)+"#"+e)}function KR(e){void 0===e&&{},OR||ER(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?DR:r,a=n.hashType,o=void 0===a?"slash":a,u=e.basename?AR(SR(e.basename)):"",s=jR[o],c=s.encodePath,l=s.decodePath;function h(){var e=l(BR());return u&&CR(e,u),RR(e)}var d=PR();function p(e){f(S,e),S.length=t.length,d.notifyListeners(S.location,S.action)}var v=!1,m=null;function y(){var e=BR(),t=c(e);if(e!==t)qR(t);else{var n=h(),r=S.location;if(!v&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}(r,n))return;if(m===NR(n))return;null,function(e){if(v)!1,p();else{var t="POP";d.confirmTransitionTo(e,t,i,(function(n){n?p({action:t,location:e}):function(e){var t=S.location,n=w.lastIndexOf(NR(t));-1===n&&0;var r=w.lastIndexOf(NR(e));-1===r&&0;var i=n-r;i&&(!0,x(i))}(e)}))}}(n)}}var g=BR(),k=c(g);g!==k&&qR(k);var b=h(),w=[NR(b)];function x(e){t.go(e)}var _=0;function I(e){1===(_+=e)&&1===e?window.addEventListener(UR,y):0===_&&window.removeEventListener(UR,y)}var E=!1;var S={length:t.length,action:"POP",location:b,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&zR(window.location.href),n+"#"+c(u+NR(e))},push:function(e,t){var n="PUSH",r=RR(e,void 0,void 0,S.location);d.confirmTransitionTo(r,n,i,(function(e){if(e){var t=NR(r),i=c(u+t);if(BR()!==i){t,function(e){window.location.hash=e}(i);var a=w.lastIndexOf(NR(S.location)),o=w.slice(0,a+1);o.push(t),o,p({action:n,location:r})}else p()}}))},replace:function(e,t){var n="REPLACE",r=RR(e,void 0,void 0,S.location);d.confirmTransitionTo(r,n,i,(function(e){if(e){var t=NR(r),i=c(u+t);BR()!==i&&(t,qR(i));var a=w.indexOf(NR(S.location));-1!==a&&(w[a]=t),p({action:n,location:r})}}))},go:x,goBack:function(){x(-1)},goForward:function(){x(1)},block:function(e){void 0===e&&!1;var t=d.setPrompt(e);return E||(I(1),!0),function(){return E&&(!1,I(-1)),t()}},listen:function(e){var t=d.appendListener(e);return I(1),function(){I(-1),t()}}};return S}function WR(e,t,n){return Math.min(Math.max(e,t),n)}function GR(e){void 0===e&&{};var t=e,n=t.getUserConfirmation,r=t.initialEntries,i=void 0===r?["/"]:r,a=t.initialIndex,o=void 0===a?0:a,u=t.keyLength,s=void 0===u?6:u,c=PR();function l(e){f(y,e),y.length=y.entries.length,c.notifyListeners(y.location,y.action)}function h(){return Math.random().toString(36).substr(2,s)}var d=WR(o,0,i.length-1),p=i.map((function(e){return RR(e,void 0,"string"===typeof e?h():e.key||h())})),v=NR;function m(e){var t=WR(y.index+e,0,y.entries.length-1),r=y.entries[t];c.confirmTransitionTo(r,"POP",n,(function(e){e?l({action:"POP",location:r,index:t}):l()}))}var y={length:p.length,action:"POP",location:p[d],index:d,entries:p,createHref:v,push:function(e,t){var r="PUSH",i=RR(e,t,h(),y.location);c.confirmTransitionTo(i,r,n,(function(e){if(e){var t=y.index+1,n=y.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),l({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=RR(e,t,h(),y.location);c.confirmTransitionTo(i,r,n,(function(e){e&&(y.entries[y.index]=i,l({action:r,location:i}))}))},go:m,goBack:function(){m(-1)},goForward:function(){m(1)},canGo:function(e){var t=y.index+e;return t>=0&&t<y.entries.length},block:function(e){return void 0===e&&!1,c.setPrompt(e)},listen:function(e){return c.appendListener(e)}};return y}var HR=n(7),QR=n.n(HR),$R=1073741823,YR="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};function XR(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var JR=t.createContext||function(e,n){var r,i,a="__create-react-context-"+function(){var e="__global_unique_id__";return YR[e]=(YR[e]||0)+1}()+"__",o=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).emitter=XR(t.props.value),t}pi(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,i)?(t="function"===typeof n?n(r,i):$R,0!==(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(t.Component);o.childContextTypes=((r={})[a]=QR().object.isRequired,r);var u=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}pi(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?$R:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?$R:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(t.Component);return u.contextTypes=((i={})[a]=QR().object,i),{Provider:o,Consumer:u}},ZR=JR,eP=n(239),tP=n.n(eP),nP=(n(228),function(e){var t=ZR();return t.displayName=e,t}),rP=nP("Router-History"),iP=nP("Router"),aP=function(e){function n(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}pi(n,e),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},r.render=function(){return t.createElement(iP.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},t.createElement(rP.Provider,{children:this.props.children||null,value:this.props.history}))},n}(t.Component);t.Component;t.Component;var oP={},uP=0;function sP(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,u=void 0!==o&&o,s=n.sensitive,c=void 0!==s&&s;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=oP[n]||(oP[n]={});if(r[e])return r[e];var i=[],a={regexp:tP()(e,i,t),keys:i};return uP<1e4&&(r[e]=a,uP++),a}(n,{end:a,strict:u,sensitive:c}),i=r.regexp,o=r.keys,s=i.exec(e);if(!s)return null;var l=s[0],f=s.slice(1),h=e===l;return a&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:o.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var cP=function(e){function n(){return e.apply(this,arguments)||this}return pi(n,e),n.prototype.render=function(){var e=this;return t.createElement(iP.Consumer,null,(function(n){n||ER(!1);var r=e.props.location||n.location,i=f({},n,{location:r,match:e.props.computedMatch?e.props.computedMatch:e.props.path?sP(r.pathname,e.props):n.match}),a=e.props,o=a.children,u=a.component,s=a.render;return Array.isArray(o)&&function(e){return 0===t.Children.count(e)}(o)&&(o=null),t.createElement(iP.Provider,{value:i},i.match?o?"function"===typeof o?o(i):o:u?t.createElement(u,i):s?s(i):null:"function"===typeof o?o(i):null)}))},n}(t.Component);function lP(e){return"/"===e.charAt(0)?e:"/"+e}function fP(e,t){if(!e)return t;var n=lP(e);return 0!==t.pathname.indexOf(n)?t:f({},t,{pathname:t.pathname.substr(n.length)})}function hP(e){return"string"===typeof e?e:NR(e)}function dP(e){return function(){ER(!1)}}function pP(){}t.Component;var vP=function(e){function n(){return e.apply(this,arguments)||this}return pi(n,e),n.prototype.render=function(){var e=this;return t.createElement(iP.Consumer,null,(function(n){n||ER(!1);var r,i,a=e.props.location||n.location;return t.Children.forEach(e.props.children,(function(e){if(null==i&&t.isValidElement(e)){r=e;var o=e.props.path||e.props.from;i=o?sP(a.pathname,f({},e.props,{path:o})):n.match}})),i?t.cloneElement(r,{location:a,computedMatch:i}):null}))},n}(t.Component);var mP=t.useContext;var yP=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=VR(t.props),t}return pi(n,e),n.prototype.render=function(){return t.createElement(aP,{history:this.history,children:this.props.children})},n}(t.Component);t.Component;var gP=function(e,t){return"function"===typeof e?e(t):e},kP=function(e,t){return"string"===typeof e?RR(e,null,null,t):e},bP=function(e){return e},wP=t.forwardRef;"undefined"===typeof wP&&(wP=bP);var xP=wP((function(e,n){var r=e.innerRef,i=e.navigate,a=e.onClick,o=l(e,["innerRef","navigate","onClick"]),u=o.target,s=f({},o,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||u&&"_self"!==u||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return s.ref=bP!==wP&&n||r,t.createElement("a",s)}));var _P=wP((function(e,n){var r=e.component,i=void 0===r?xP:r,a=e.replace,o=e.to,u=e.innerRef,s=l(e,["component","replace","to","innerRef"]);return t.createElement(iP.Consumer,null,(function(e){e||ER(!1);var r=e.history,c=kP(gP(o,e.location),e.location),l=c?r.createHref(c):"",h=f({},s,{href:l,navigate:function(){var t=gP(o,e.location),n=NR(e.location)===NR(kP(t));(a||n?r.replace:r.push)(t)}});return bP!==wP?h.ref=n||u:h.innerRef=u,t.createElement(i,h)}))})),IP=function(e){return e},EP=t.forwardRef;"undefined"===typeof EP&&(EP=IP);EP((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,a=e.activeClassName,o=void 0===a?"active":a,u=e.activeStyle,s=e.className,c=e.exact,h=e.isActive,d=e.location,p=e.sensitive,v=e.strict,m=e.style,y=e.to,g=e.innerRef,k=l(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return t.createElement(iP.Consumer,null,(function(e){e||ER(!1);var r=d||e.location,a=kP(gP(y,r),r),l=a.pathname,b=l&&l.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),w=b?sP(r.pathname,{path:b,exact:c,sensitive:p,strict:v}):null,x=!!(h?h(w,r):w),_="function"===typeof s?s(x):s,I="function"===typeof m?m(x):m;x&&(_=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(_,o),I=f({},I,u));var E=f({"aria-current":x&&i||null,className:_,style:I,to:a},k);return IP!==EP?E.ref=n||g:E.innerRef=g,t.createElement(_P,E)}))}));var SP=function(e){var n,r=e.id,i=e.name,a=e.addNewChat,o=c((0,t.useState)(""),2),u=o[0],s=o[1],l=c((0,t.useState)(""),2),f=l[0],h=l[1];return(0,t.useEffect)((function(){r&&bR.collection("rooms").doc(r).collection("messages").orderBy("timestamp","desc").onSnapshot((function(e){return h(e.docs.map((function(e){return e.data()})))}))}),[r]),(0,t.useEffect)((function(){s(Math.floor(5e3*Math.random()))}),[]),a?(0,Vr.jsx)("div",{onClick:function(){var e=prompt("Please enter name for chat room");e&&bR.collection("rooms").add({name:e})},className:"sidebarChat",children:(0,Vr.jsx)("h2",{children:"Add new Chat"})}):(0,Vr.jsx)(_P,{to:"/rooms/".concat(r),children:(0,Vr.jsxs)("div",{className:"sidebarChat",children:[(0,Vr.jsx)(Xr,{src:"https://avatars.dicebear.com/api/human/".concat(u,".svg")}),(0,Vr.jsxs)("div",{className:"sidebarChat__info",children:[(0,Vr.jsx)("h2",{children:i}),(0,Vr.jsx)("p",{children:null===(n=f[0])||void 0===n?void 0:n.message})]})]})})},TP=(0,t.createContext)(),CP=function(e){var n=e.reducer,r=e.initialState,i=e.children;return(0,Vr.jsx)(TP.Provider,{value:(0,t.useReducer)(n,r),children:i})},AP=function(){return(0,t.useContext)(TP)};var NP=function(){var e=c((0,t.useState)([]),2),n=e[0],r=e[1],i=c(AP(),2),a=i[0].user;return i[1],(0,t.useEffect)((function(){var e=bR.collection("rooms").onSnapshot((function(e){return r(e.docs.map((function(e){return{id:e.id,data:e.data()}})))}));return function(){e()}}),[]),(0,Vr.jsxs)("div",{className:"sidebar",children:[(0,Vr.jsxs)("div",{className:"sidebar__header",children:[(0,Vr.jsx)(Xr,{src:null===a||void 0===a?void 0:a.photoURL}),(0,Vr.jsxs)("div",{className:"sidebar__headerRight",children:[(0,Vr.jsx)(ea,{children:(0,Vr.jsx)(ta,{})}),(0,Vr.jsx)(ea,{children:(0,Vr.jsx)(na,{})}),(0,Vr.jsx)(ea,{children:(0,Vr.jsx)(ra,{})})]})]}),(0,Vr.jsx)("div",{className:"sidebar__search",children:(0,Vr.jsxs)("div",{className:"sidebar__searchContainer",children:[(0,Vr.jsx)(ia,{}),(0,Vr.jsx)("input",{placeholder:"Search or start new chat",type:"text"})]})}),(0,Vr.jsxs)("div",{className:"sidebar__chats",children:[(0,Vr.jsx)(SP,{addNewChat:!0}),n.map((function(e){return(0,Vr.jsx)(SP,{id:e.id,name:e.data.name},e.id)}))]})]})},RP=qr((0,Vr.jsx)("path",{d:"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"}),"AttachFile"),PP=qr((0,Vr.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert"),OP=qr((0,Vr.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"}),"InsertEmoticon"),DP=qr((0,Vr.jsx)("path",{d:"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"}),"Mic");var LP=function(){var e,n,r=c((0,t.useState)(""),2),i=r[0],a=r[1],o=c((0,t.useState)(""),2),u=o[0],s=o[1],l=function(){var e=mP(iP).match;return e?e.params:{}}(),f=l.roomId,h=c((0,t.useState)(""),2),d=h[0],p=h[1],v=c((0,t.useState)([]),2),m=v[0],y=v[1],g=c(AP(),2),k=g[0].user;return g[1],(0,t.useEffect)((function(){f&&(bR.collection("rooms").doc(f).onSnapshot((function(e){return p(e.data().name)})),bR.collection("rooms").doc(f).collection("messages").orderBy("timestamp","asc").onSnapshot((function(e){return y(e.docs.map((function(e){return e.data()})))})))}),[f]),(0,t.useEffect)((function(){s(Math.floor(5e3*Math.random()))}),[]),(0,Vr.jsxs)("div",{className:"chat",children:[(0,Vr.jsxs)("div",{className:"chat__header",children:[(0,Vr.jsx)(Xr,{src:"https://avatars.dicebear.com/api/human/".concat(u,".svg")}),(0,Vr.jsxs)("div",{className:"chat__headerInfo",children:[(0,Vr.jsx)("h3",{children:d}),(0,Vr.jsxs)("p",{children:["Last Seen at ... "," ",new Date(null===(e=m[m.length-1])||void 0===e||null===(n=e.timestamp)||void 0===n?void 0:n.toDate()).toUTCString()]})]}),(0,Vr.jsxs)("div",{className:"chat__headerRight",children:[(0,Vr.jsx)(ea,{children:(0,Vr.jsx)(ia,{})}),(0,Vr.jsx)(ea,{children:(0,Vr.jsx)(RP,{})}),(0,Vr.jsx)(ea,{children:(0,Vr.jsx)(PP,{})})]})]}),(0,Vr.jsx)("div",{className:"chat__body",children:m.map((function(e){var t;return(0,Vr.jsxs)("p",{className:"chat__message ".concat(e.name===k.displayName&&"chat__reciever"),children:[(0,Vr.jsxs)("span",{className:"chat__name",children:[" ",e.name," "]}),e.message,(0,Vr.jsx)("span",{className:"chat__timestamp",children:new Date(null===(t=e.timestamp)||void 0===t?void 0:t.toDate()).toUTCString()})]})}))}),(0,Vr.jsxs)("div",{className:"chat__footer",children:[(0,Vr.jsx)(OP,{}),(0,Vr.jsxs)("form",{children:[(0,Vr.jsx)("input",{type:"text",value:i,onChange:function(e){return a(e.target.value)}}),(0,Vr.jsx)("button",{onClick:function(e){e.preventDefault(),console.log("You typed >>> ",i),bR.collection("rooms").doc(f).collection("messages").add({message:i,name:k.displayName,timestamp:_u.firestore.FieldValue.serverTimestamp()}),a("")},type:"submit",children:"Send a Message"})]}),(0,Vr.jsx)(DP,{})]})]})};function MP(e){return Lr("MuiButton",e)}var FP=Mr("MuiButton",["root","text","textInherit","textPrimary","textSecondary","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","contained","containedInherit","containedPrimary","containedSecondary","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var VP=t.createContext({}),UP=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],jP=function(e){return f({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},zP=wr(Qi,{shouldForwardProp:function(e){return kr(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat(Rr(n.color))],t["size".concat(Rr(n.size))],t["".concat(n.variant,"Size").concat(Rr(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((function(e){var t,n,r,i=e.theme,a=e.ownerState;return f({},i.typography.button,(Xe(t={minWidth:64,padding:"6px 16px",borderRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create(["background-color","box-shadow","border-color","color"],{duration:i.transitions.duration.short}),"&:hover":f({textDecoration:"none",backgroundColor:i.vars?"rgba(".concat(i.vars.palette.text.primaryChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):zn(i.palette.text.primary,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===a.variant&&"inherit"!==a.color&&{backgroundColor:i.vars?"rgba(".concat(i.vars.palette[a.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):zn(i.palette[a.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===a.variant&&"inherit"!==a.color&&{border:"1px solid ".concat((i.vars||i).palette[a.color].main),backgroundColor:i.vars?"rgba(".concat(i.vars.palette[a.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):zn(i.palette[a.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===a.variant&&{backgroundColor:(i.vars||i).palette.grey.A100,boxShadow:(i.vars||i).shadows[4],"@media (hover: none)":{boxShadow:(i.vars||i).shadows[2],backgroundColor:(i.vars||i).palette.grey[300]}},"contained"===a.variant&&"inherit"!==a.color&&{backgroundColor:(i.vars||i).palette[a.color].dark,"@media (hover: none)":{backgroundColor:(i.vars||i).palette[a.color].main}}),"&:active":f({},"contained"===a.variant&&{boxShadow:(i.vars||i).shadows[8]})},"&.".concat(FP.focusVisible),f({},"contained"===a.variant&&{boxShadow:(i.vars||i).shadows[6]})),Xe(t,"&.".concat(FP.disabled),f({color:(i.vars||i).palette.action.disabled},"outlined"===a.variant&&{border:"1px solid ".concat((i.vars||i).palette.action.disabledBackground)},"outlined"===a.variant&&"secondary"===a.color&&{border:"1px solid ".concat((i.vars||i).palette.action.disabled)},"contained"===a.variant&&{color:(i.vars||i).palette.action.disabled,boxShadow:(i.vars||i).shadows[0],backgroundColor:(i.vars||i).palette.action.disabledBackground})),t),"text"===a.variant&&{padding:"6px 8px"},"text"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].main},"outlined"===a.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].main,border:i.vars?"1px solid rgba(".concat(i.vars.palette[a.color].mainChannel," / 0.5)"):"1px solid ".concat(zn(i.palette[a.color].main,.5))},"contained"===a.variant&&{color:i.vars?i.vars.palette.text.primary:null==(n=(r=i.palette).getContrastText)?void 0:n.call(r,i.palette.grey[300]),backgroundColor:(i.vars||i).palette.grey[300],boxShadow:(i.vars||i).shadows[2]},"contained"===a.variant&&"inherit"!==a.color&&{color:(i.vars||i).palette[a.color].contrastText,backgroundColor:(i.vars||i).palette[a.color].main},"inherit"===a.color&&{color:"inherit",borderColor:"currentColor"},"small"===a.size&&"text"===a.variant&&{padding:"4px 5px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"text"===a.variant&&{padding:"8px 11px",fontSize:i.typography.pxToRem(15)},"small"===a.size&&"outlined"===a.variant&&{padding:"3px 9px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"outlined"===a.variant&&{padding:"7px 21px",fontSize:i.typography.pxToRem(15)},"small"===a.size&&"contained"===a.variant&&{padding:"4px 10px",fontSize:i.typography.pxToRem(13)},"large"===a.size&&"contained"===a.variant&&{padding:"8px 22px",fontSize:i.typography.pxToRem(15)},a.fullWidth&&{width:"100%"})}),(function(e){var t;return e.ownerState.disableElevation&&(Xe(t={boxShadow:"none","&:hover":{boxShadow:"none"}},"&.".concat(FP.focusVisible),{boxShadow:"none"}),Xe(t,"&:active",{boxShadow:"none"}),Xe(t,"&.".concat(FP.disabled),{boxShadow:"none"}),t)})),BP=wr("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.startIcon,t["iconSize".concat(Rr(n.size))]]}})((function(e){var t=e.ownerState;return f({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},jP(t))})),qP=wr("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.endIcon,t["iconSize".concat(Rr(n.size))]]}})((function(e){var t=e.ownerState;return f({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},jP(t))})),KP=t.forwardRef((function(e,n){var r=t.useContext(VP),i=Nr({props:xr(r,e),name:"MuiButton"}),a=i.children,o=i.color,u=void 0===o?"primary":o,s=i.component,c=void 0===s?"button":s,h=i.className,v=i.disabled,m=void 0!==v&&v,y=i.disableElevation,g=void 0!==y&&y,k=i.disableFocusRipple,b=void 0!==k&&k,w=i.endIcon,x=i.focusVisibleClassName,_=i.fullWidth,I=void 0!==_&&_,E=i.size,S=void 0===E?"medium":E,T=i.startIcon,C=i.type,A=i.variant,N=void 0===A?"text":A,R=l(i,UP),P=f({},i,{color:u,component:c,disabled:m,disableElevation:g,disableFocusRipple:b,fullWidth:I,size:S,type:C,variant:N}),O=function(e){var t=e.color,n=e.disableElevation,r=e.fullWidth,i=e.size,a=e.variant,o=e.classes;return f({},o,p({root:["root",a,"".concat(a).concat(Rr(t)),"size".concat(Rr(i)),"".concat(a,"Size").concat(Rr(i)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat(Rr(i))],endIcon:["endIcon","iconSize".concat(Rr(i))]},MP,o))}(P),D=T&&(0,Vr.jsx)(BP,{className:O.startIcon,ownerState:P,children:T}),L=w&&(0,Vr.jsx)(qP,{className:O.endIcon,ownerState:P,children:w});return(0,Vr.jsxs)(zP,f({ownerState:P,className:d(h,r.className),component:c,disabled:m,focusRipple:!b,focusVisibleClassName:d(O.focusVisible,x),ref:n,type:C},R,{classes:O,children:[D,a,L]}))})),WP=KP,GP="SET_USER",HP=function(e,t){return console.log(t),t.type===GP?lo(lo({},e),{},{user:t.user}):e};var QP=function(){var e=c(AP(),2);!function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e[0]);var t=e[1];return(0,Vr.jsx)("div",{className:"login",children:(0,Vr.jsxs)("div",{className:"login__container",children:[(0,Vr.jsx)("img",{src:"https://www.freepnglogos.com/uploads/whatsapp-logo-png-hd-2.png",alt:""}),(0,Vr.jsx)("div",{className:"login__text",children:(0,Vr.jsx)("h1",{children:"Sig in to Whatsapp"})}),(0,Vr.jsx)(WP,{onClick:function(){gR.signInWithPopup(kR).then((function(e){t({type:GP,user:e.user})})).catch((function(e){return alert(e.message)}))},children:"Sign In with Google"})]})})};var $P=function(){var e=c(AP(),2),t=e[0].user;return e[1],(0,Vr.jsx)("div",{className:"app",children:t?(0,Vr.jsx)("div",{className:"app__body",children:(0,Vr.jsx)(yP,{children:(0,Vr.jsxs)(vP,{children:[(0,Vr.jsxs)(cP,{path:"/rooms/:roomId",children:[(0,Vr.jsx)(NP,{}),(0,Vr.jsx)(LP,{})]}),(0,Vr.jsx)(cP,{path:"/",children:(0,Vr.jsx)(NP,{})})]})})}):(0,Vr.jsx)(QP,{})})},YP=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};Vr.Fragment,i.render((0,Vr.jsx)(t.StrictMode,{children:(0,Vr.jsx)(CP,{initialState:{user:null},reducer:HP,children:(0,Vr.jsx)($P,{})})}),document.getElementById("root")),YP()}()}();
//# sourceMappingURL=main.16626070.js.map